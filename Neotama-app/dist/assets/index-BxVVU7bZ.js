function pI(n,e){for(var t=0;t<e.length;t++){const i=e[t];if(typeof i!="string"&&!Array.isArray(i)){for(const s in i)if(s!=="default"&&!(s in n)){const a=Object.getOwnPropertyDescriptor(i,s);a&&Object.defineProperty(n,s,a.get?a:{enumerable:!0,get:()=>i[s]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const u of a.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function t(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(s){if(s.ep)return;s.ep=!0;const a=t(s);fetch(s.href,a)}})();function rw(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Af={exports:{}},gl={},xf={exports:{}},Fe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rv;function mI(){if(rv)return Fe;rv=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),u=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),w=Symbol.iterator;function E(z){return z===null||typeof z!="object"?null:(z=w&&z[w]||z["@@iterator"],typeof z=="function"?z:null)}var R={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,I={};function C(z,J,pe){this.props=z,this.context=J,this.refs=I,this.updater=pe||R}C.prototype.isReactComponent={},C.prototype.setState=function(z,J){if(typeof z!="object"&&typeof z!="function"&&z!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,z,J,"setState")},C.prototype.forceUpdate=function(z){this.updater.enqueueForceUpdate(this,z,"forceUpdate")};function D(){}D.prototype=C.prototype;function L(z,J,pe){this.props=z,this.context=J,this.refs=I,this.updater=pe||R}var B=L.prototype=new D;B.constructor=L,x(B,C.prototype),B.isPureReactComponent=!0;var G=Array.isArray,X=Object.prototype.hasOwnProperty,ie={current:null},b={key:!0,ref:!0,__self:!0,__source:!0};function P(z,J,pe){var Ce,Pe={},Le=null,ue=null;if(J!=null)for(Ce in J.ref!==void 0&&(ue=J.ref),J.key!==void 0&&(Le=""+J.key),J)X.call(J,Ce)&&!b.hasOwnProperty(Ce)&&(Pe[Ce]=J[Ce]);var _e=arguments.length-2;if(_e===1)Pe.children=pe;else if(1<_e){for(var De=Array(_e),ke=0;ke<_e;ke++)De[ke]=arguments[ke+2];Pe.children=De}if(z&&z.defaultProps)for(Ce in _e=z.defaultProps,_e)Pe[Ce]===void 0&&(Pe[Ce]=_e[Ce]);return{$$typeof:n,type:z,key:Le,ref:ue,props:Pe,_owner:ie.current}}function k(z,J){return{$$typeof:n,type:z.type,key:J,ref:z.ref,props:z.props,_owner:z._owner}}function V(z){return typeof z=="object"&&z!==null&&z.$$typeof===n}function F(z){var J={"=":"=0",":":"=2"};return"$"+z.replace(/[=:]/g,function(pe){return J[pe]})}var M=/\/+/g;function N(z,J){return typeof z=="object"&&z!==null&&z.key!=null?F(""+z.key):J.toString(36)}function ve(z,J,pe,Ce,Pe){var Le=typeof z;(Le==="undefined"||Le==="boolean")&&(z=null);var ue=!1;if(z===null)ue=!0;else switch(Le){case"string":case"number":ue=!0;break;case"object":switch(z.$$typeof){case n:case e:ue=!0}}if(ue)return ue=z,Pe=Pe(ue),z=Ce===""?"."+N(ue,0):Ce,G(Pe)?(pe="",z!=null&&(pe=z.replace(M,"$&/")+"/"),ve(Pe,J,pe,"",function(ke){return ke})):Pe!=null&&(V(Pe)&&(Pe=k(Pe,pe+(!Pe.key||ue&&ue.key===Pe.key?"":(""+Pe.key).replace(M,"$&/")+"/")+z)),J.push(Pe)),1;if(ue=0,Ce=Ce===""?".":Ce+":",G(z))for(var _e=0;_e<z.length;_e++){Le=z[_e];var De=Ce+N(Le,_e);ue+=ve(Le,J,pe,De,Pe)}else if(De=E(z),typeof De=="function")for(z=De.call(z),_e=0;!(Le=z.next()).done;)Le=Le.value,De=Ce+N(Le,_e++),ue+=ve(Le,J,pe,De,Pe);else if(Le==="object")throw J=String(z),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys(z).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.");return ue}function Oe(z,J,pe){if(z==null)return z;var Ce=[],Pe=0;return ve(z,Ce,"","",function(Le){return J.call(pe,Le,Pe++)}),Ce}function Ee(z){if(z._status===-1){var J=z._result;J=J(),J.then(function(pe){(z._status===0||z._status===-1)&&(z._status=1,z._result=pe)},function(pe){(z._status===0||z._status===-1)&&(z._status=2,z._result=pe)}),z._status===-1&&(z._status=0,z._result=J)}if(z._status===1)return z._result.default;throw z._result}var ge={current:null},Y={transition:null},ae={ReactCurrentDispatcher:ge,ReactCurrentBatchConfig:Y,ReactCurrentOwner:ie};function se(){throw Error("act(...) is not supported in production builds of React.")}return Fe.Children={map:Oe,forEach:function(z,J,pe){Oe(z,function(){J.apply(this,arguments)},pe)},count:function(z){var J=0;return Oe(z,function(){J++}),J},toArray:function(z){return Oe(z,function(J){return J})||[]},only:function(z){if(!V(z))throw Error("React.Children.only expected to receive a single React element child.");return z}},Fe.Component=C,Fe.Fragment=t,Fe.Profiler=s,Fe.PureComponent=L,Fe.StrictMode=i,Fe.Suspense=f,Fe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ae,Fe.act=se,Fe.cloneElement=function(z,J,pe){if(z==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+z+".");var Ce=x({},z.props),Pe=z.key,Le=z.ref,ue=z._owner;if(J!=null){if(J.ref!==void 0&&(Le=J.ref,ue=ie.current),J.key!==void 0&&(Pe=""+J.key),z.type&&z.type.defaultProps)var _e=z.type.defaultProps;for(De in J)X.call(J,De)&&!b.hasOwnProperty(De)&&(Ce[De]=J[De]===void 0&&_e!==void 0?_e[De]:J[De])}var De=arguments.length-2;if(De===1)Ce.children=pe;else if(1<De){_e=Array(De);for(var ke=0;ke<De;ke++)_e[ke]=arguments[ke+2];Ce.children=_e}return{$$typeof:n,type:z.type,key:Pe,ref:Le,props:Ce,_owner:ue}},Fe.createContext=function(z){return z={$$typeof:u,_currentValue:z,_currentValue2:z,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},z.Provider={$$typeof:a,_context:z},z.Consumer=z},Fe.createElement=P,Fe.createFactory=function(z){var J=P.bind(null,z);return J.type=z,J},Fe.createRef=function(){return{current:null}},Fe.forwardRef=function(z){return{$$typeof:d,render:z}},Fe.isValidElement=V,Fe.lazy=function(z){return{$$typeof:v,_payload:{_status:-1,_result:z},_init:Ee}},Fe.memo=function(z,J){return{$$typeof:p,type:z,compare:J===void 0?null:J}},Fe.startTransition=function(z){var J=Y.transition;Y.transition={};try{z()}finally{Y.transition=J}},Fe.unstable_act=se,Fe.useCallback=function(z,J){return ge.current.useCallback(z,J)},Fe.useContext=function(z){return ge.current.useContext(z)},Fe.useDebugValue=function(){},Fe.useDeferredValue=function(z){return ge.current.useDeferredValue(z)},Fe.useEffect=function(z,J){return ge.current.useEffect(z,J)},Fe.useId=function(){return ge.current.useId()},Fe.useImperativeHandle=function(z,J,pe){return ge.current.useImperativeHandle(z,J,pe)},Fe.useInsertionEffect=function(z,J){return ge.current.useInsertionEffect(z,J)},Fe.useLayoutEffect=function(z,J){return ge.current.useLayoutEffect(z,J)},Fe.useMemo=function(z,J){return ge.current.useMemo(z,J)},Fe.useReducer=function(z,J,pe){return ge.current.useReducer(z,J,pe)},Fe.useRef=function(z){return ge.current.useRef(z)},Fe.useState=function(z){return ge.current.useState(z)},Fe.useSyncExternalStore=function(z,J,pe){return ge.current.useSyncExternalStore(z,J,pe)},Fe.useTransition=function(){return ge.current.useTransition()},Fe.version="18.3.1",Fe}var iv;function jp(){return iv||(iv=1,xf.exports=mI()),xf.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ov;function gI(){if(ov)return gl;ov=1;var n=jp(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,s=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function u(d,f,p){var v,w={},E=null,R=null;p!==void 0&&(E=""+p),f.key!==void 0&&(E=""+f.key),f.ref!==void 0&&(R=f.ref);for(v in f)i.call(f,v)&&!a.hasOwnProperty(v)&&(w[v]=f[v]);if(d&&d.defaultProps)for(v in f=d.defaultProps,f)w[v]===void 0&&(w[v]=f[v]);return{$$typeof:e,type:d,key:E,ref:R,props:w,_owner:s.current}}return gl.Fragment=t,gl.jsx=u,gl.jsxs=u,gl}var sv;function yI(){return sv||(sv=1,Af.exports=gI()),Af.exports}var $=yI(),S=jp();const Li=rw(S),vI=pI({__proto__:null,default:Li},[S]);var Tc={},Pf={exports:{}},un={},kf={exports:{}},bf={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var av;function _I(){return av||(av=1,function(n){function e(Y,ae){var se=Y.length;Y.push(ae);e:for(;0<se;){var z=se-1>>>1,J=Y[z];if(0<s(J,ae))Y[z]=ae,Y[se]=J,se=z;else break e}}function t(Y){return Y.length===0?null:Y[0]}function i(Y){if(Y.length===0)return null;var ae=Y[0],se=Y.pop();if(se!==ae){Y[0]=se;e:for(var z=0,J=Y.length,pe=J>>>1;z<pe;){var Ce=2*(z+1)-1,Pe=Y[Ce],Le=Ce+1,ue=Y[Le];if(0>s(Pe,se))Le<J&&0>s(ue,Pe)?(Y[z]=ue,Y[Le]=se,z=Le):(Y[z]=Pe,Y[Ce]=se,z=Ce);else if(Le<J&&0>s(ue,se))Y[z]=ue,Y[Le]=se,z=Le;else break e}}return ae}function s(Y,ae){var se=Y.sortIndex-ae.sortIndex;return se!==0?se:Y.id-ae.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var u=Date,d=u.now();n.unstable_now=function(){return u.now()-d}}var f=[],p=[],v=1,w=null,E=3,R=!1,x=!1,I=!1,C=typeof setTimeout=="function"?setTimeout:null,D=typeof clearTimeout=="function"?clearTimeout:null,L=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function B(Y){for(var ae=t(p);ae!==null;){if(ae.callback===null)i(p);else if(ae.startTime<=Y)i(p),ae.sortIndex=ae.expirationTime,e(f,ae);else break;ae=t(p)}}function G(Y){if(I=!1,B(Y),!x)if(t(f)!==null)x=!0,Ee(X);else{var ae=t(p);ae!==null&&ge(G,ae.startTime-Y)}}function X(Y,ae){x=!1,I&&(I=!1,D(P),P=-1),R=!0;var se=E;try{for(B(ae),w=t(f);w!==null&&(!(w.expirationTime>ae)||Y&&!F());){var z=w.callback;if(typeof z=="function"){w.callback=null,E=w.priorityLevel;var J=z(w.expirationTime<=ae);ae=n.unstable_now(),typeof J=="function"?w.callback=J:w===t(f)&&i(f),B(ae)}else i(f);w=t(f)}if(w!==null)var pe=!0;else{var Ce=t(p);Ce!==null&&ge(G,Ce.startTime-ae),pe=!1}return pe}finally{w=null,E=se,R=!1}}var ie=!1,b=null,P=-1,k=5,V=-1;function F(){return!(n.unstable_now()-V<k)}function M(){if(b!==null){var Y=n.unstable_now();V=Y;var ae=!0;try{ae=b(!0,Y)}finally{ae?N():(ie=!1,b=null)}}else ie=!1}var N;if(typeof L=="function")N=function(){L(M)};else if(typeof MessageChannel<"u"){var ve=new MessageChannel,Oe=ve.port2;ve.port1.onmessage=M,N=function(){Oe.postMessage(null)}}else N=function(){C(M,0)};function Ee(Y){b=Y,ie||(ie=!0,N())}function ge(Y,ae){P=C(function(){Y(n.unstable_now())},ae)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(Y){Y.callback=null},n.unstable_continueExecution=function(){x||R||(x=!0,Ee(X))},n.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<Y?Math.floor(1e3/Y):5},n.unstable_getCurrentPriorityLevel=function(){return E},n.unstable_getFirstCallbackNode=function(){return t(f)},n.unstable_next=function(Y){switch(E){case 1:case 2:case 3:var ae=3;break;default:ae=E}var se=E;E=ae;try{return Y()}finally{E=se}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(Y,ae){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var se=E;E=Y;try{return ae()}finally{E=se}},n.unstable_scheduleCallback=function(Y,ae,se){var z=n.unstable_now();switch(typeof se=="object"&&se!==null?(se=se.delay,se=typeof se=="number"&&0<se?z+se:z):se=z,Y){case 1:var J=-1;break;case 2:J=250;break;case 5:J=1073741823;break;case 4:J=1e4;break;default:J=5e3}return J=se+J,Y={id:v++,callback:ae,priorityLevel:Y,startTime:se,expirationTime:J,sortIndex:-1},se>z?(Y.sortIndex=se,e(p,Y),t(f)===null&&Y===t(p)&&(I?(D(P),P=-1):I=!0,ge(G,se-z))):(Y.sortIndex=J,e(f,Y),x||R||(x=!0,Ee(X))),Y},n.unstable_shouldYield=F,n.unstable_wrapCallback=function(Y){var ae=E;return function(){var se=E;E=ae;try{return Y.apply(this,arguments)}finally{E=se}}}}(bf)),bf}var lv;function wI(){return lv||(lv=1,kf.exports=_I()),kf.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uv;function EI(){if(uv)return un;uv=1;var n=jp(),e=wI();function t(r){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+r,l=1;l<arguments.length;l++)o+="&args[]="+encodeURIComponent(arguments[l]);return"Minified React error #"+r+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,s={};function a(r,o){u(r,o),u(r+"Capture",o)}function u(r,o){for(s[r]=o,r=0;r<o.length;r++)i.add(o[r])}var d=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,v={},w={};function E(r){return f.call(w,r)?!0:f.call(v,r)?!1:p.test(r)?w[r]=!0:(v[r]=!0,!1)}function R(r,o,l,h){if(l!==null&&l.type===0)return!1;switch(typeof o){case"function":case"symbol":return!0;case"boolean":return h?!1:l!==null?!l.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function x(r,o,l,h){if(o===null||typeof o>"u"||R(r,o,l,h))return!0;if(h)return!1;if(l!==null)switch(l.type){case 3:return!o;case 4:return o===!1;case 5:return isNaN(o);case 6:return isNaN(o)||1>o}return!1}function I(r,o,l,h,m,y,T){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=h,this.attributeNamespace=m,this.mustUseProperty=l,this.propertyName=r,this.type=o,this.sanitizeURL=y,this.removeEmptyString=T}var C={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){C[r]=new I(r,0,!1,r,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var o=r[0];C[o]=new I(o,1,!1,r[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(r){C[r]=new I(r,2,!1,r.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){C[r]=new I(r,2,!1,r,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){C[r]=new I(r,3,!1,r.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(r){C[r]=new I(r,3,!0,r,null,!1,!1)}),["capture","download"].forEach(function(r){C[r]=new I(r,4,!1,r,null,!1,!1)}),["cols","rows","size","span"].forEach(function(r){C[r]=new I(r,6,!1,r,null,!1,!1)}),["rowSpan","start"].forEach(function(r){C[r]=new I(r,5,!1,r.toLowerCase(),null,!1,!1)});var D=/[\-:]([a-z])/g;function L(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var o=r.replace(D,L);C[o]=new I(o,1,!1,r,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var o=r.replace(D,L);C[o]=new I(o,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(r){var o=r.replace(D,L);C[o]=new I(o,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(r){C[r]=new I(r,1,!1,r.toLowerCase(),null,!1,!1)}),C.xlinkHref=new I("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(r){C[r]=new I(r,1,!1,r.toLowerCase(),null,!0,!0)});function B(r,o,l,h){var m=C.hasOwnProperty(o)?C[o]:null;(m!==null?m.type!==0:h||!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(x(o,l,m,h)&&(l=null),h||m===null?E(o)&&(l===null?r.removeAttribute(o):r.setAttribute(o,""+l)):m.mustUseProperty?r[m.propertyName]=l===null?m.type===3?!1:"":l:(o=m.attributeName,h=m.attributeNamespace,l===null?r.removeAttribute(o):(m=m.type,l=m===3||m===4&&l===!0?"":""+l,h?r.setAttributeNS(h,o,l):r.setAttribute(o,l))))}var G=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,X=Symbol.for("react.element"),ie=Symbol.for("react.portal"),b=Symbol.for("react.fragment"),P=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),V=Symbol.for("react.provider"),F=Symbol.for("react.context"),M=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),ve=Symbol.for("react.suspense_list"),Oe=Symbol.for("react.memo"),Ee=Symbol.for("react.lazy"),ge=Symbol.for("react.offscreen"),Y=Symbol.iterator;function ae(r){return r===null||typeof r!="object"?null:(r=Y&&r[Y]||r["@@iterator"],typeof r=="function"?r:null)}var se=Object.assign,z;function J(r){if(z===void 0)try{throw Error()}catch(l){var o=l.stack.trim().match(/\n( *(at )?)/);z=o&&o[1]||""}return`
`+z+r}var pe=!1;function Ce(r,o){if(!r||pe)return"";pe=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch(K){var h=K}Reflect.construct(r,[],o)}else{try{o.call()}catch(K){h=K}r.call(o.prototype)}else{try{throw Error()}catch(K){h=K}r()}}catch(K){if(K&&h&&typeof K.stack=="string"){for(var m=K.stack.split(`
`),y=h.stack.split(`
`),T=m.length-1,O=y.length-1;1<=T&&0<=O&&m[T]!==y[O];)O--;for(;1<=T&&0<=O;T--,O--)if(m[T]!==y[O]){if(T!==1||O!==1)do if(T--,O--,0>O||m[T]!==y[O]){var U=`
`+m[T].replace(" at new "," at ");return r.displayName&&U.includes("<anonymous>")&&(U=U.replace("<anonymous>",r.displayName)),U}while(1<=T&&0<=O);break}}}finally{pe=!1,Error.prepareStackTrace=l}return(r=r?r.displayName||r.name:"")?J(r):""}function Pe(r){switch(r.tag){case 5:return J(r.type);case 16:return J("Lazy");case 13:return J("Suspense");case 19:return J("SuspenseList");case 0:case 2:case 15:return r=Ce(r.type,!1),r;case 11:return r=Ce(r.type.render,!1),r;case 1:return r=Ce(r.type,!0),r;default:return""}}function Le(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case b:return"Fragment";case ie:return"Portal";case k:return"Profiler";case P:return"StrictMode";case N:return"Suspense";case ve:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case F:return(r.displayName||"Context")+".Consumer";case V:return(r._context.displayName||"Context")+".Provider";case M:var o=r.render;return r=r.displayName,r||(r=o.displayName||o.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case Oe:return o=r.displayName||null,o!==null?o:Le(r.type)||"Memo";case Ee:o=r._payload,r=r._init;try{return Le(r(o))}catch{}}return null}function ue(r){var o=r.type;switch(r.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=o.render,r=r.displayName||r.name||"",o.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Le(o);case 8:return o===P?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function _e(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function De(r){var o=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function ke(r){var o=De(r)?"checked":"value",l=Object.getOwnPropertyDescriptor(r.constructor.prototype,o),h=""+r[o];if(!r.hasOwnProperty(o)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var m=l.get,y=l.set;return Object.defineProperty(r,o,{configurable:!0,get:function(){return m.call(this)},set:function(T){h=""+T,y.call(this,T)}}),Object.defineProperty(r,o,{enumerable:l.enumerable}),{getValue:function(){return h},setValue:function(T){h=""+T},stopTracking:function(){r._valueTracker=null,delete r[o]}}}}function Me(r){r._valueTracker||(r._valueTracker=ke(r))}function ze(r){if(!r)return!1;var o=r._valueTracker;if(!o)return!0;var l=o.getValue(),h="";return r&&(h=De(r)?r.checked?"true":"false":r.value),r=h,r!==l?(o.setValue(r),!0):!1}function ut(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function At(r,o){var l=o.checked;return se({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:l??r._wrapperState.initialChecked})}function In(r,o){var l=o.defaultValue==null?"":o.defaultValue,h=o.checked!=null?o.checked:o.defaultChecked;l=_e(o.value!=null?o.value:l),r._wrapperState={initialChecked:h,initialValue:l,controlled:o.type==="checkbox"||o.type==="radio"?o.checked!=null:o.value!=null}}function Ln(r,o){o=o.checked,o!=null&&B(r,"checked",o,!1)}function Vn(r,o){Ln(r,o);var l=_e(o.value),h=o.type;if(l!=null)h==="number"?(l===0&&r.value===""||r.value!=l)&&(r.value=""+l):r.value!==""+l&&(r.value=""+l);else if(h==="submit"||h==="reset"){r.removeAttribute("value");return}o.hasOwnProperty("value")?Mn(r,o.type,l):o.hasOwnProperty("defaultValue")&&Mn(r,o.type,_e(o.defaultValue)),o.checked==null&&o.defaultChecked!=null&&(r.defaultChecked=!!o.defaultChecked)}function Go(r,o,l){if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var h=o.type;if(!(h!=="submit"&&h!=="reset"||o.value!==void 0&&o.value!==null))return;o=""+r._wrapperState.initialValue,l||o===r.value||(r.value=o),r.defaultValue=o}l=r.name,l!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,l!==""&&(r.name=l)}function Mn(r,o,l){(o!=="number"||ut(r.ownerDocument)!==r)&&(l==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+l&&(r.defaultValue=""+l))}var Pr=Array.isArray;function kr(r,o,l,h){if(r=r.options,o){o={};for(var m=0;m<l.length;m++)o["$"+l[m]]=!0;for(l=0;l<r.length;l++)m=o.hasOwnProperty("$"+r[l].value),r[l].selected!==m&&(r[l].selected=m),m&&h&&(r[l].defaultSelected=!0)}else{for(l=""+_e(l),o=null,m=0;m<r.length;m++){if(r[m].value===l){r[m].selected=!0,h&&(r[m].defaultSelected=!0);return}o!==null||r[m].disabled||(o=r[m])}o!==null&&(o.selected=!0)}}function Ia(r,o){if(o.dangerouslySetInnerHTML!=null)throw Error(t(91));return se({},o,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function Qo(r,o){var l=o.value;if(l==null){if(l=o.children,o=o.defaultValue,l!=null){if(o!=null)throw Error(t(92));if(Pr(l)){if(1<l.length)throw Error(t(93));l=l[0]}o=l}o==null&&(o=""),l=o}r._wrapperState={initialValue:_e(l)}}function Yo(r,o){var l=_e(o.value),h=_e(o.defaultValue);l!=null&&(l=""+l,l!==r.value&&(r.value=l),o.defaultValue==null&&r.defaultValue!==l&&(r.defaultValue=l)),h!=null&&(r.defaultValue=""+h)}function Ca(r){var o=r.textContent;o===r._wrapperState.initialValue&&o!==""&&o!==null&&(r.value=o)}function _t(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function wt(r,o){return r==null||r==="http://www.w3.org/1999/xhtml"?_t(o):r==="http://www.w3.org/2000/svg"&&o==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var br,Ra=function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(o,l,h,m){MSApp.execUnsafeLocalFunction(function(){return r(o,l,h,m)})}:r}(function(r,o){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=o;else{for(br=br||document.createElement("div"),br.innerHTML="<svg>"+o.valueOf().toString()+"</svg>",o=br.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;o.firstChild;)r.appendChild(o.firstChild)}});function li(r,o){if(o){var l=r.firstChild;if(l&&l===r.lastChild&&l.nodeType===3){l.nodeValue=o;return}}r.textContent=o}var so={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ao=["Webkit","ms","Moz","O"];Object.keys(so).forEach(function(r){ao.forEach(function(o){o=o+r.charAt(0).toUpperCase()+r.substring(1),so[o]=so[r]})});function Aa(r,o,l){return o==null||typeof o=="boolean"||o===""?"":l||typeof o!="number"||o===0||so.hasOwnProperty(r)&&so[r]?(""+o).trim():o+"px"}function xa(r,o){r=r.style;for(var l in o)if(o.hasOwnProperty(l)){var h=l.indexOf("--")===0,m=Aa(l,o[l],h);l==="float"&&(l="cssFloat"),h?r.setProperty(l,m):r[l]=m}}var Pa=se({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ka(r,o){if(o){if(Pa[r]&&(o.children!=null||o.dangerouslySetInnerHTML!=null))throw Error(t(137,r));if(o.dangerouslySetInnerHTML!=null){if(o.children!=null)throw Error(t(60));if(typeof o.dangerouslySetInnerHTML!="object"||!("__html"in o.dangerouslySetInnerHTML))throw Error(t(61))}if(o.style!=null&&typeof o.style!="object")throw Error(t(62))}}function ba(r,o){if(r.indexOf("-")===-1)return typeof o.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var lo=null;function Xo(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Jo=null,Cn=null,sr=null;function Zo(r){if(r=tl(r)){if(typeof Jo!="function")throw Error(t(280));var o=r.stateNode;o&&(o=Mu(o),Jo(r.stateNode,r.type,o))}}function ar(r){Cn?sr?sr.push(r):sr=[r]:Cn=r}function Na(){if(Cn){var r=Cn,o=sr;if(sr=Cn=null,Zo(r),o)for(r=0;r<o.length;r++)Zo(o[r])}}function uo(r,o){return r(o)}function Da(){}var Nr=!1;function Oa(r,o,l){if(Nr)return r(o,l);Nr=!0;try{return uo(r,o,l)}finally{Nr=!1,(Cn!==null||sr!==null)&&(Da(),Na())}}function dt(r,o){var l=r.stateNode;if(l===null)return null;var h=Mu(l);if(h===null)return null;l=h[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(r=r.type,h=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!h;break e;default:r=!1}if(r)return null;if(l&&typeof l!="function")throw Error(t(231,o,typeof l));return l}var es=!1;if(d)try{var Fn={};Object.defineProperty(Fn,"passive",{get:function(){es=!0}}),window.addEventListener("test",Fn,Fn),window.removeEventListener("test",Fn,Fn)}catch{es=!1}function co(r,o,l,h,m,y,T,O,U){var K=Array.prototype.slice.call(arguments,3);try{o.apply(l,K)}catch(te){this.onError(te)}}var ho=!1,ts=null,Un=!1,La=null,eh={onError:function(r){ho=!0,ts=r}};function ns(r,o,l,h,m,y,T,O,U){ho=!1,ts=null,co.apply(eh,arguments)}function lu(r,o,l,h,m,y,T,O,U){if(ns.apply(this,arguments),ho){if(ho){var K=ts;ho=!1,ts=null}else throw Error(t(198));Un||(Un=!0,La=K)}}function jn(r){var o=r,l=r;if(r.alternate)for(;o.return;)o=o.return;else{r=o;do o=r,o.flags&4098&&(l=o.return),r=o.return;while(r)}return o.tag===3?l:null}function fo(r){if(r.tag===13){var o=r.memoizedState;if(o===null&&(r=r.alternate,r!==null&&(o=r.memoizedState)),o!==null)return o.dehydrated}return null}function zn(r){if(jn(r)!==r)throw Error(t(188))}function uu(r){var o=r.alternate;if(!o){if(o=jn(r),o===null)throw Error(t(188));return o!==r?null:r}for(var l=r,h=o;;){var m=l.return;if(m===null)break;var y=m.alternate;if(y===null){if(h=m.return,h!==null){l=h;continue}break}if(m.child===y.child){for(y=m.child;y;){if(y===l)return zn(m),r;if(y===h)return zn(m),o;y=y.sibling}throw Error(t(188))}if(l.return!==h.return)l=m,h=y;else{for(var T=!1,O=m.child;O;){if(O===l){T=!0,l=m,h=y;break}if(O===h){T=!0,h=m,l=y;break}O=O.sibling}if(!T){for(O=y.child;O;){if(O===l){T=!0,l=y,h=m;break}if(O===h){T=!0,h=y,l=m;break}O=O.sibling}if(!T)throw Error(t(189))}}if(l.alternate!==h)throw Error(t(190))}if(l.tag!==3)throw Error(t(188));return l.stateNode.current===l?r:o}function Va(r){return r=uu(r),r!==null?rs(r):null}function rs(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var o=rs(r);if(o!==null)return o;r=r.sibling}return null}var is=e.unstable_scheduleCallback,Ma=e.unstable_cancelCallback,cu=e.unstable_shouldYield,th=e.unstable_requestPaint,Xe=e.unstable_now,du=e.unstable_getCurrentPriorityLevel,po=e.unstable_ImmediatePriority,ui=e.unstable_UserBlockingPriority,Rn=e.unstable_NormalPriority,Fa=e.unstable_LowPriority,hu=e.unstable_IdlePriority,mo=null,hn=null;function fu(r){if(hn&&typeof hn.onCommitFiberRoot=="function")try{hn.onCommitFiberRoot(mo,r,void 0,(r.current.flags&128)===128)}catch{}}var Xt=Math.clz32?Math.clz32:mu,Ua=Math.log,pu=Math.LN2;function mu(r){return r>>>=0,r===0?32:31-(Ua(r)/pu|0)|0}var os=64,ss=4194304;function ci(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function go(r,o){var l=r.pendingLanes;if(l===0)return 0;var h=0,m=r.suspendedLanes,y=r.pingedLanes,T=l&268435455;if(T!==0){var O=T&~m;O!==0?h=ci(O):(y&=T,y!==0&&(h=ci(y)))}else T=l&~m,T!==0?h=ci(T):y!==0&&(h=ci(y));if(h===0)return 0;if(o!==0&&o!==h&&!(o&m)&&(m=h&-h,y=o&-o,m>=y||m===16&&(y&4194240)!==0))return o;if(h&4&&(h|=l&16),o=r.entangledLanes,o!==0)for(r=r.entanglements,o&=h;0<o;)l=31-Xt(o),m=1<<l,h|=r[l],o&=~m;return h}function nh(r,o){switch(r){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Dr(r,o){for(var l=r.suspendedLanes,h=r.pingedLanes,m=r.expirationTimes,y=r.pendingLanes;0<y;){var T=31-Xt(y),O=1<<T,U=m[T];U===-1?(!(O&l)||O&h)&&(m[T]=nh(O,o)):U<=o&&(r.expiredLanes|=O),y&=~O}}function fn(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function yo(){var r=os;return os<<=1,!(os&4194240)&&(os=64),r}function di(r){for(var o=[],l=0;31>l;l++)o.push(r);return o}function hi(r,o,l){r.pendingLanes|=o,o!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,o=31-Xt(o),r[o]=l}function Ye(r,o){var l=r.pendingLanes&~o;r.pendingLanes=o,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=o,r.mutableReadLanes&=o,r.entangledLanes&=o,o=r.entanglements;var h=r.eventTimes;for(r=r.expirationTimes;0<l;){var m=31-Xt(l),y=1<<m;o[m]=0,h[m]=-1,r[m]=-1,l&=~y}}function fi(r,o){var l=r.entangledLanes|=o;for(r=r.entanglements;l;){var h=31-Xt(l),m=1<<h;m&o|r[h]&o&&(r[h]|=o),l&=~m}}var Be=0;function pi(r){return r&=-r,1<r?4<r?r&268435455?16:536870912:4:1}var gu,as,yu,vu,_u,ja=!1,lr=[],Dt=null,Bn=null,$n=null,mi=new Map,An=new Map,ur=[],rh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function wu(r,o){switch(r){case"focusin":case"focusout":Dt=null;break;case"dragenter":case"dragleave":Bn=null;break;case"mouseover":case"mouseout":$n=null;break;case"pointerover":case"pointerout":mi.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":An.delete(o.pointerId)}}function tn(r,o,l,h,m,y){return r===null||r.nativeEvent!==y?(r={blockedOn:o,domEventName:l,eventSystemFlags:h,nativeEvent:y,targetContainers:[m]},o!==null&&(o=tl(o),o!==null&&as(o)),r):(r.eventSystemFlags|=h,o=r.targetContainers,m!==null&&o.indexOf(m)===-1&&o.push(m),r)}function ih(r,o,l,h,m){switch(o){case"focusin":return Dt=tn(Dt,r,o,l,h,m),!0;case"dragenter":return Bn=tn(Bn,r,o,l,h,m),!0;case"mouseover":return $n=tn($n,r,o,l,h,m),!0;case"pointerover":var y=m.pointerId;return mi.set(y,tn(mi.get(y)||null,r,o,l,h,m)),!0;case"gotpointercapture":return y=m.pointerId,An.set(y,tn(An.get(y)||null,r,o,l,h,m)),!0}return!1}function Eu(r){var o=To(r.target);if(o!==null){var l=jn(o);if(l!==null){if(o=l.tag,o===13){if(o=fo(l),o!==null){r.blockedOn=o,_u(r.priority,function(){yu(l)});return}}else if(o===3&&l.stateNode.current.memoizedState.isDehydrated){r.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Or(r){if(r.blockedOn!==null)return!1;for(var o=r.targetContainers;0<o.length;){var l=ls(r.domEventName,r.eventSystemFlags,o[0],r.nativeEvent);if(l===null){l=r.nativeEvent;var h=new l.constructor(l.type,l);lo=h,l.target.dispatchEvent(h),lo=null}else return o=tl(l),o!==null&&as(o),r.blockedOn=l,!1;o.shift()}return!0}function vo(r,o,l){Or(r)&&l.delete(o)}function Tu(){ja=!1,Dt!==null&&Or(Dt)&&(Dt=null),Bn!==null&&Or(Bn)&&(Bn=null),$n!==null&&Or($n)&&($n=null),mi.forEach(vo),An.forEach(vo)}function Wn(r,o){r.blockedOn===o&&(r.blockedOn=null,ja||(ja=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Tu)))}function Hn(r){function o(m){return Wn(m,r)}if(0<lr.length){Wn(lr[0],r);for(var l=1;l<lr.length;l++){var h=lr[l];h.blockedOn===r&&(h.blockedOn=null)}}for(Dt!==null&&Wn(Dt,r),Bn!==null&&Wn(Bn,r),$n!==null&&Wn($n,r),mi.forEach(o),An.forEach(o),l=0;l<ur.length;l++)h=ur[l],h.blockedOn===r&&(h.blockedOn=null);for(;0<ur.length&&(l=ur[0],l.blockedOn===null);)Eu(l),l.blockedOn===null&&ur.shift()}var Lr=G.ReactCurrentBatchConfig,gi=!0;function nt(r,o,l,h){var m=Be,y=Lr.transition;Lr.transition=null;try{Be=1,za(r,o,l,h)}finally{Be=m,Lr.transition=y}}function oh(r,o,l,h){var m=Be,y=Lr.transition;Lr.transition=null;try{Be=4,za(r,o,l,h)}finally{Be=m,Lr.transition=y}}function za(r,o,l,h){if(gi){var m=ls(r,o,l,h);if(m===null)gh(r,o,h,_o,l),wu(r,h);else if(ih(m,r,o,l,h))h.stopPropagation();else if(wu(r,h),o&4&&-1<rh.indexOf(r)){for(;m!==null;){var y=tl(m);if(y!==null&&gu(y),y=ls(r,o,l,h),y===null&&gh(r,o,h,_o,l),y===m)break;m=y}m!==null&&h.stopPropagation()}else gh(r,o,h,null,l)}}var _o=null;function ls(r,o,l,h){if(_o=null,r=Xo(h),r=To(r),r!==null)if(o=jn(r),o===null)r=null;else if(l=o.tag,l===13){if(r=fo(o),r!==null)return r;r=null}else if(l===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;r=null}else o!==r&&(r=null);return _o=r,null}function Ba(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(du()){case po:return 1;case ui:return 4;case Rn:case Fa:return 16;case hu:return 536870912;default:return 16}default:return 16}}var pn=null,us=null,nn=null;function $a(){if(nn)return nn;var r,o=us,l=o.length,h,m="value"in pn?pn.value:pn.textContent,y=m.length;for(r=0;r<l&&o[r]===m[r];r++);var T=l-r;for(h=1;h<=T&&o[l-h]===m[y-h];h++);return nn=m.slice(r,1<h?1-h:void 0)}function cs(r){var o=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&o===13&&(r=13)):r=o,r===10&&(r=13),32<=r||r===13?r:0}function cr(){return!0}function Wa(){return!1}function Ot(r){function o(l,h,m,y,T){this._reactName=l,this._targetInst=m,this.type=h,this.nativeEvent=y,this.target=T,this.currentTarget=null;for(var O in r)r.hasOwnProperty(O)&&(l=r[O],this[O]=l?l(y):y[O]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?cr:Wa,this.isPropagationStopped=Wa,this}return se(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=cr)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=cr)},persist:function(){},isPersistent:cr}),o}var qn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ds=Ot(qn),dr=se({},qn,{view:0,detail:0}),sh=Ot(dr),hs,Vr,yi,wo=se({},dr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:hr,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==yi&&(yi&&r.type==="mousemove"?(hs=r.screenX-yi.screenX,Vr=r.screenY-yi.screenY):Vr=hs=0,yi=r),hs)},movementY:function(r){return"movementY"in r?r.movementY:Vr}}),fs=Ot(wo),Ha=se({},wo,{dataTransfer:0}),Su=Ot(Ha),ps=se({},dr,{relatedTarget:0}),ms=Ot(ps),Iu=se({},qn,{animationName:0,elapsedTime:0,pseudoElement:0}),Mr=Ot(Iu),Cu=se({},qn,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),Ru=Ot(Cu),Au=se({},qn,{data:0}),qa=Ot(Au),gs={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Jt={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pu(r){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(r):(r=xu[r])?!!o[r]:!1}function hr(){return Pu}var c=se({},dr,{key:function(r){if(r.key){var o=gs[r.key]||r.key;if(o!=="Unidentified")return o}return r.type==="keypress"?(r=cs(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?Jt[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:hr,charCode:function(r){return r.type==="keypress"?cs(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?cs(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),g=Ot(c),_=se({},wo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),A=Ot(_),W=se({},dr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:hr}),Q=Ot(W),le=se({},qn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Qe=Ot(le),Et=se({},wo,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),We=Ot(Et),xt=[9,13,27,32],pt=d&&"CompositionEvent"in window,xn=null;d&&"documentMode"in document&&(xn=document.documentMode);var mn=d&&"TextEvent"in window&&!xn,Eo=d&&(!pt||xn&&8<xn&&11>=xn),ys=" ",Xm=!1;function Jm(r,o){switch(r){case"keyup":return xt.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Zm(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var vs=!1;function dS(r,o){switch(r){case"compositionend":return Zm(o);case"keypress":return o.which!==32?null:(Xm=!0,ys);case"textInput":return r=o.data,r===ys&&Xm?null:r;default:return null}}function hS(r,o){if(vs)return r==="compositionend"||!pt&&Jm(r,o)?(r=$a(),nn=us=pn=null,vs=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return Eo&&o.locale!=="ko"?null:o.data;default:return null}}var fS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function eg(r){var o=r&&r.nodeName&&r.nodeName.toLowerCase();return o==="input"?!!fS[r.type]:o==="textarea"}function tg(r,o,l,h){ar(h),o=Ou(o,"onChange"),0<o.length&&(l=new ds("onChange","change",null,l,h),r.push({event:l,listeners:o}))}var Ka=null,Ga=null;function pS(r){_g(r,0)}function ku(r){var o=Ss(r);if(ze(o))return r}function mS(r,o){if(r==="change")return o}var ng=!1;if(d){var ah;if(d){var lh="oninput"in document;if(!lh){var rg=document.createElement("div");rg.setAttribute("oninput","return;"),lh=typeof rg.oninput=="function"}ah=lh}else ah=!1;ng=ah&&(!document.documentMode||9<document.documentMode)}function ig(){Ka&&(Ka.detachEvent("onpropertychange",og),Ga=Ka=null)}function og(r){if(r.propertyName==="value"&&ku(Ga)){var o=[];tg(o,Ga,r,Xo(r)),Oa(pS,o)}}function gS(r,o,l){r==="focusin"?(ig(),Ka=o,Ga=l,Ka.attachEvent("onpropertychange",og)):r==="focusout"&&ig()}function yS(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return ku(Ga)}function vS(r,o){if(r==="click")return ku(o)}function _S(r,o){if(r==="input"||r==="change")return ku(o)}function wS(r,o){return r===o&&(r!==0||1/r===1/o)||r!==r&&o!==o}var Kn=typeof Object.is=="function"?Object.is:wS;function Qa(r,o){if(Kn(r,o))return!0;if(typeof r!="object"||r===null||typeof o!="object"||o===null)return!1;var l=Object.keys(r),h=Object.keys(o);if(l.length!==h.length)return!1;for(h=0;h<l.length;h++){var m=l[h];if(!f.call(o,m)||!Kn(r[m],o[m]))return!1}return!0}function sg(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function ag(r,o){var l=sg(r);r=0;for(var h;l;){if(l.nodeType===3){if(h=r+l.textContent.length,r<=o&&h>=o)return{node:l,offset:o-r};r=h}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=sg(l)}}function lg(r,o){return r&&o?r===o?!0:r&&r.nodeType===3?!1:o&&o.nodeType===3?lg(r,o.parentNode):"contains"in r?r.contains(o):r.compareDocumentPosition?!!(r.compareDocumentPosition(o)&16):!1:!1}function ug(){for(var r=window,o=ut();o instanceof r.HTMLIFrameElement;){try{var l=typeof o.contentWindow.location.href=="string"}catch{l=!1}if(l)r=o.contentWindow;else break;o=ut(r.document)}return o}function uh(r){var o=r&&r.nodeName&&r.nodeName.toLowerCase();return o&&(o==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||o==="textarea"||r.contentEditable==="true")}function ES(r){var o=ug(),l=r.focusedElem,h=r.selectionRange;if(o!==l&&l&&l.ownerDocument&&lg(l.ownerDocument.documentElement,l)){if(h!==null&&uh(l)){if(o=h.start,r=h.end,r===void 0&&(r=o),"selectionStart"in l)l.selectionStart=o,l.selectionEnd=Math.min(r,l.value.length);else if(r=(o=l.ownerDocument||document)&&o.defaultView||window,r.getSelection){r=r.getSelection();var m=l.textContent.length,y=Math.min(h.start,m);h=h.end===void 0?y:Math.min(h.end,m),!r.extend&&y>h&&(m=h,h=y,y=m),m=ag(l,y);var T=ag(l,h);m&&T&&(r.rangeCount!==1||r.anchorNode!==m.node||r.anchorOffset!==m.offset||r.focusNode!==T.node||r.focusOffset!==T.offset)&&(o=o.createRange(),o.setStart(m.node,m.offset),r.removeAllRanges(),y>h?(r.addRange(o),r.extend(T.node,T.offset)):(o.setEnd(T.node,T.offset),r.addRange(o)))}}for(o=[],r=l;r=r.parentNode;)r.nodeType===1&&o.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<o.length;l++)r=o[l],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var TS=d&&"documentMode"in document&&11>=document.documentMode,_s=null,ch=null,Ya=null,dh=!1;function cg(r,o,l){var h=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;dh||_s==null||_s!==ut(h)||(h=_s,"selectionStart"in h&&uh(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),Ya&&Qa(Ya,h)||(Ya=h,h=Ou(ch,"onSelect"),0<h.length&&(o=new ds("onSelect","select",null,o,l),r.push({event:o,listeners:h}),o.target=_s)))}function bu(r,o){var l={};return l[r.toLowerCase()]=o.toLowerCase(),l["Webkit"+r]="webkit"+o,l["Moz"+r]="moz"+o,l}var ws={animationend:bu("Animation","AnimationEnd"),animationiteration:bu("Animation","AnimationIteration"),animationstart:bu("Animation","AnimationStart"),transitionend:bu("Transition","TransitionEnd")},hh={},dg={};d&&(dg=document.createElement("div").style,"AnimationEvent"in window||(delete ws.animationend.animation,delete ws.animationiteration.animation,delete ws.animationstart.animation),"TransitionEvent"in window||delete ws.transitionend.transition);function Nu(r){if(hh[r])return hh[r];if(!ws[r])return r;var o=ws[r],l;for(l in o)if(o.hasOwnProperty(l)&&l in dg)return hh[r]=o[l];return r}var hg=Nu("animationend"),fg=Nu("animationiteration"),pg=Nu("animationstart"),mg=Nu("transitionend"),gg=new Map,yg="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function vi(r,o){gg.set(r,o),a(o,[r])}for(var fh=0;fh<yg.length;fh++){var ph=yg[fh],SS=ph.toLowerCase(),IS=ph[0].toUpperCase()+ph.slice(1);vi(SS,"on"+IS)}vi(hg,"onAnimationEnd"),vi(fg,"onAnimationIteration"),vi(pg,"onAnimationStart"),vi("dblclick","onDoubleClick"),vi("focusin","onFocus"),vi("focusout","onBlur"),vi(mg,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Xa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),CS=new Set("cancel close invalid load scroll toggle".split(" ").concat(Xa));function vg(r,o,l){var h=r.type||"unknown-event";r.currentTarget=l,lu(h,o,void 0,r),r.currentTarget=null}function _g(r,o){o=(o&4)!==0;for(var l=0;l<r.length;l++){var h=r[l],m=h.event;h=h.listeners;e:{var y=void 0;if(o)for(var T=h.length-1;0<=T;T--){var O=h[T],U=O.instance,K=O.currentTarget;if(O=O.listener,U!==y&&m.isPropagationStopped())break e;vg(m,O,K),y=U}else for(T=0;T<h.length;T++){if(O=h[T],U=O.instance,K=O.currentTarget,O=O.listener,U!==y&&m.isPropagationStopped())break e;vg(m,O,K),y=U}}}if(Un)throw r=La,Un=!1,La=null,r}function Ze(r,o){var l=o[Th];l===void 0&&(l=o[Th]=new Set);var h=r+"__bubble";l.has(h)||(wg(o,r,2,!1),l.add(h))}function mh(r,o,l){var h=0;o&&(h|=4),wg(l,r,h,o)}var Du="_reactListening"+Math.random().toString(36).slice(2);function Ja(r){if(!r[Du]){r[Du]=!0,i.forEach(function(l){l!=="selectionchange"&&(CS.has(l)||mh(l,!1,r),mh(l,!0,r))});var o=r.nodeType===9?r:r.ownerDocument;o===null||o[Du]||(o[Du]=!0,mh("selectionchange",!1,o))}}function wg(r,o,l,h){switch(Ba(o)){case 1:var m=nt;break;case 4:m=oh;break;default:m=za}l=m.bind(null,o,l,r),m=void 0,!es||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(m=!0),h?m!==void 0?r.addEventListener(o,l,{capture:!0,passive:m}):r.addEventListener(o,l,!0):m!==void 0?r.addEventListener(o,l,{passive:m}):r.addEventListener(o,l,!1)}function gh(r,o,l,h,m){var y=h;if(!(o&1)&&!(o&2)&&h!==null)e:for(;;){if(h===null)return;var T=h.tag;if(T===3||T===4){var O=h.stateNode.containerInfo;if(O===m||O.nodeType===8&&O.parentNode===m)break;if(T===4)for(T=h.return;T!==null;){var U=T.tag;if((U===3||U===4)&&(U=T.stateNode.containerInfo,U===m||U.nodeType===8&&U.parentNode===m))return;T=T.return}for(;O!==null;){if(T=To(O),T===null)return;if(U=T.tag,U===5||U===6){h=y=T;continue e}O=O.parentNode}}h=h.return}Oa(function(){var K=y,te=Xo(l),re=[];e:{var ee=gg.get(r);if(ee!==void 0){var ce=ds,fe=r;switch(r){case"keypress":if(cs(l)===0)break e;case"keydown":case"keyup":ce=g;break;case"focusin":fe="focus",ce=ms;break;case"focusout":fe="blur",ce=ms;break;case"beforeblur":case"afterblur":ce=ms;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ce=fs;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ce=Su;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ce=Q;break;case hg:case fg:case pg:ce=Mr;break;case mg:ce=Qe;break;case"scroll":ce=sh;break;case"wheel":ce=We;break;case"copy":case"cut":case"paste":ce=Ru;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ce=A}var me=(o&4)!==0,ht=!me&&r==="scroll",H=me?ee!==null?ee+"Capture":null:ee;me=[];for(var j=K,q;j!==null;){q=j;var oe=q.stateNode;if(q.tag===5&&oe!==null&&(q=oe,H!==null&&(oe=dt(j,H),oe!=null&&me.push(Za(j,oe,q)))),ht)break;j=j.return}0<me.length&&(ee=new ce(ee,fe,null,l,te),re.push({event:ee,listeners:me}))}}if(!(o&7)){e:{if(ee=r==="mouseover"||r==="pointerover",ce=r==="mouseout"||r==="pointerout",ee&&l!==lo&&(fe=l.relatedTarget||l.fromElement)&&(To(fe)||fe[Fr]))break e;if((ce||ee)&&(ee=te.window===te?te:(ee=te.ownerDocument)?ee.defaultView||ee.parentWindow:window,ce?(fe=l.relatedTarget||l.toElement,ce=K,fe=fe?To(fe):null,fe!==null&&(ht=jn(fe),fe!==ht||fe.tag!==5&&fe.tag!==6)&&(fe=null)):(ce=null,fe=K),ce!==fe)){if(me=fs,oe="onMouseLeave",H="onMouseEnter",j="mouse",(r==="pointerout"||r==="pointerover")&&(me=A,oe="onPointerLeave",H="onPointerEnter",j="pointer"),ht=ce==null?ee:Ss(ce),q=fe==null?ee:Ss(fe),ee=new me(oe,j+"leave",ce,l,te),ee.target=ht,ee.relatedTarget=q,oe=null,To(te)===K&&(me=new me(H,j+"enter",fe,l,te),me.target=q,me.relatedTarget=ht,oe=me),ht=oe,ce&&fe)t:{for(me=ce,H=fe,j=0,q=me;q;q=Es(q))j++;for(q=0,oe=H;oe;oe=Es(oe))q++;for(;0<j-q;)me=Es(me),j--;for(;0<q-j;)H=Es(H),q--;for(;j--;){if(me===H||H!==null&&me===H.alternate)break t;me=Es(me),H=Es(H)}me=null}else me=null;ce!==null&&Eg(re,ee,ce,me,!1),fe!==null&&ht!==null&&Eg(re,ht,fe,me,!0)}}e:{if(ee=K?Ss(K):window,ce=ee.nodeName&&ee.nodeName.toLowerCase(),ce==="select"||ce==="input"&&ee.type==="file")var ye=mS;else if(eg(ee))if(ng)ye=_S;else{ye=yS;var Te=gS}else(ce=ee.nodeName)&&ce.toLowerCase()==="input"&&(ee.type==="checkbox"||ee.type==="radio")&&(ye=vS);if(ye&&(ye=ye(r,K))){tg(re,ye,l,te);break e}Te&&Te(r,ee,K),r==="focusout"&&(Te=ee._wrapperState)&&Te.controlled&&ee.type==="number"&&Mn(ee,"number",ee.value)}switch(Te=K?Ss(K):window,r){case"focusin":(eg(Te)||Te.contentEditable==="true")&&(_s=Te,ch=K,Ya=null);break;case"focusout":Ya=ch=_s=null;break;case"mousedown":dh=!0;break;case"contextmenu":case"mouseup":case"dragend":dh=!1,cg(re,l,te);break;case"selectionchange":if(TS)break;case"keydown":case"keyup":cg(re,l,te)}var Se;if(pt)e:{switch(r){case"compositionstart":var Re="onCompositionStart";break e;case"compositionend":Re="onCompositionEnd";break e;case"compositionupdate":Re="onCompositionUpdate";break e}Re=void 0}else vs?Jm(r,l)&&(Re="onCompositionEnd"):r==="keydown"&&l.keyCode===229&&(Re="onCompositionStart");Re&&(Eo&&l.locale!=="ko"&&(vs||Re!=="onCompositionStart"?Re==="onCompositionEnd"&&vs&&(Se=$a()):(pn=te,us="value"in pn?pn.value:pn.textContent,vs=!0)),Te=Ou(K,Re),0<Te.length&&(Re=new qa(Re,r,null,l,te),re.push({event:Re,listeners:Te}),Se?Re.data=Se:(Se=Zm(l),Se!==null&&(Re.data=Se)))),(Se=mn?dS(r,l):hS(r,l))&&(K=Ou(K,"onBeforeInput"),0<K.length&&(te=new qa("onBeforeInput","beforeinput",null,l,te),re.push({event:te,listeners:K}),te.data=Se))}_g(re,o)})}function Za(r,o,l){return{instance:r,listener:o,currentTarget:l}}function Ou(r,o){for(var l=o+"Capture",h=[];r!==null;){var m=r,y=m.stateNode;m.tag===5&&y!==null&&(m=y,y=dt(r,l),y!=null&&h.unshift(Za(r,y,m)),y=dt(r,o),y!=null&&h.push(Za(r,y,m))),r=r.return}return h}function Es(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function Eg(r,o,l,h,m){for(var y=o._reactName,T=[];l!==null&&l!==h;){var O=l,U=O.alternate,K=O.stateNode;if(U!==null&&U===h)break;O.tag===5&&K!==null&&(O=K,m?(U=dt(l,y),U!=null&&T.unshift(Za(l,U,O))):m||(U=dt(l,y),U!=null&&T.push(Za(l,U,O)))),l=l.return}T.length!==0&&r.push({event:o,listeners:T})}var RS=/\r\n?/g,AS=/\u0000|\uFFFD/g;function Tg(r){return(typeof r=="string"?r:""+r).replace(RS,`
`).replace(AS,"")}function Lu(r,o,l){if(o=Tg(o),Tg(r)!==o&&l)throw Error(t(425))}function Vu(){}var yh=null,vh=null;function _h(r,o){return r==="textarea"||r==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var wh=typeof setTimeout=="function"?setTimeout:void 0,xS=typeof clearTimeout=="function"?clearTimeout:void 0,Sg=typeof Promise=="function"?Promise:void 0,PS=typeof queueMicrotask=="function"?queueMicrotask:typeof Sg<"u"?function(r){return Sg.resolve(null).then(r).catch(kS)}:wh;function kS(r){setTimeout(function(){throw r})}function Eh(r,o){var l=o,h=0;do{var m=l.nextSibling;if(r.removeChild(l),m&&m.nodeType===8)if(l=m.data,l==="/$"){if(h===0){r.removeChild(m),Hn(o);return}h--}else l!=="$"&&l!=="$?"&&l!=="$!"||h++;l=m}while(l);Hn(o)}function _i(r){for(;r!=null;r=r.nextSibling){var o=r.nodeType;if(o===1||o===3)break;if(o===8){if(o=r.data,o==="$"||o==="$!"||o==="$?")break;if(o==="/$")return null}}return r}function Ig(r){r=r.previousSibling;for(var o=0;r;){if(r.nodeType===8){var l=r.data;if(l==="$"||l==="$!"||l==="$?"){if(o===0)return r;o--}else l==="/$"&&o++}r=r.previousSibling}return null}var Ts=Math.random().toString(36).slice(2),fr="__reactFiber$"+Ts,el="__reactProps$"+Ts,Fr="__reactContainer$"+Ts,Th="__reactEvents$"+Ts,bS="__reactListeners$"+Ts,NS="__reactHandles$"+Ts;function To(r){var o=r[fr];if(o)return o;for(var l=r.parentNode;l;){if(o=l[Fr]||l[fr]){if(l=o.alternate,o.child!==null||l!==null&&l.child!==null)for(r=Ig(r);r!==null;){if(l=r[fr])return l;r=Ig(r)}return o}r=l,l=r.parentNode}return null}function tl(r){return r=r[fr]||r[Fr],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function Ss(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(t(33))}function Mu(r){return r[el]||null}var Sh=[],Is=-1;function wi(r){return{current:r}}function et(r){0>Is||(r.current=Sh[Is],Sh[Is]=null,Is--)}function Je(r,o){Is++,Sh[Is]=r.current,r.current=o}var Ei={},zt=wi(Ei),rn=wi(!1),So=Ei;function Cs(r,o){var l=r.type.contextTypes;if(!l)return Ei;var h=r.stateNode;if(h&&h.__reactInternalMemoizedUnmaskedChildContext===o)return h.__reactInternalMemoizedMaskedChildContext;var m={},y;for(y in l)m[y]=o[y];return h&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=o,r.__reactInternalMemoizedMaskedChildContext=m),m}function on(r){return r=r.childContextTypes,r!=null}function Fu(){et(rn),et(zt)}function Cg(r,o,l){if(zt.current!==Ei)throw Error(t(168));Je(zt,o),Je(rn,l)}function Rg(r,o,l){var h=r.stateNode;if(o=o.childContextTypes,typeof h.getChildContext!="function")return l;h=h.getChildContext();for(var m in h)if(!(m in o))throw Error(t(108,ue(r)||"Unknown",m));return se({},l,h)}function Uu(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||Ei,So=zt.current,Je(zt,r),Je(rn,rn.current),!0}function Ag(r,o,l){var h=r.stateNode;if(!h)throw Error(t(169));l?(r=Rg(r,o,So),h.__reactInternalMemoizedMergedChildContext=r,et(rn),et(zt),Je(zt,r)):et(rn),Je(rn,l)}var Ur=null,ju=!1,Ih=!1;function xg(r){Ur===null?Ur=[r]:Ur.push(r)}function DS(r){ju=!0,xg(r)}function Ti(){if(!Ih&&Ur!==null){Ih=!0;var r=0,o=Be;try{var l=Ur;for(Be=1;r<l.length;r++){var h=l[r];do h=h(!0);while(h!==null)}Ur=null,ju=!1}catch(m){throw Ur!==null&&(Ur=Ur.slice(r+1)),is(po,Ti),m}finally{Be=o,Ih=!1}}return null}var Rs=[],As=0,zu=null,Bu=0,Pn=[],kn=0,Io=null,jr=1,zr="";function Co(r,o){Rs[As++]=Bu,Rs[As++]=zu,zu=r,Bu=o}function Pg(r,o,l){Pn[kn++]=jr,Pn[kn++]=zr,Pn[kn++]=Io,Io=r;var h=jr;r=zr;var m=32-Xt(h)-1;h&=~(1<<m),l+=1;var y=32-Xt(o)+m;if(30<y){var T=m-m%5;y=(h&(1<<T)-1).toString(32),h>>=T,m-=T,jr=1<<32-Xt(o)+m|l<<m|h,zr=y+r}else jr=1<<y|l<<m|h,zr=r}function Ch(r){r.return!==null&&(Co(r,1),Pg(r,1,0))}function Rh(r){for(;r===zu;)zu=Rs[--As],Rs[As]=null,Bu=Rs[--As],Rs[As]=null;for(;r===Io;)Io=Pn[--kn],Pn[kn]=null,zr=Pn[--kn],Pn[kn]=null,jr=Pn[--kn],Pn[kn]=null}var gn=null,yn=null,rt=!1,Gn=null;function kg(r,o){var l=On(5,null,null,0);l.elementType="DELETED",l.stateNode=o,l.return=r,o=r.deletions,o===null?(r.deletions=[l],r.flags|=16):o.push(l)}function bg(r,o){switch(r.tag){case 5:var l=r.type;return o=o.nodeType!==1||l.toLowerCase()!==o.nodeName.toLowerCase()?null:o,o!==null?(r.stateNode=o,gn=r,yn=_i(o.firstChild),!0):!1;case 6:return o=r.pendingProps===""||o.nodeType!==3?null:o,o!==null?(r.stateNode=o,gn=r,yn=null,!0):!1;case 13:return o=o.nodeType!==8?null:o,o!==null?(l=Io!==null?{id:jr,overflow:zr}:null,r.memoizedState={dehydrated:o,treeContext:l,retryLane:1073741824},l=On(18,null,null,0),l.stateNode=o,l.return=r,r.child=l,gn=r,yn=null,!0):!1;default:return!1}}function Ah(r){return(r.mode&1)!==0&&(r.flags&128)===0}function xh(r){if(rt){var o=yn;if(o){var l=o;if(!bg(r,o)){if(Ah(r))throw Error(t(418));o=_i(l.nextSibling);var h=gn;o&&bg(r,o)?kg(h,l):(r.flags=r.flags&-4097|2,rt=!1,gn=r)}}else{if(Ah(r))throw Error(t(418));r.flags=r.flags&-4097|2,rt=!1,gn=r}}}function Ng(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;gn=r}function $u(r){if(r!==gn)return!1;if(!rt)return Ng(r),rt=!0,!1;var o;if((o=r.tag!==3)&&!(o=r.tag!==5)&&(o=r.type,o=o!=="head"&&o!=="body"&&!_h(r.type,r.memoizedProps)),o&&(o=yn)){if(Ah(r))throw Dg(),Error(t(418));for(;o;)kg(r,o),o=_i(o.nextSibling)}if(Ng(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(t(317));e:{for(r=r.nextSibling,o=0;r;){if(r.nodeType===8){var l=r.data;if(l==="/$"){if(o===0){yn=_i(r.nextSibling);break e}o--}else l!=="$"&&l!=="$!"&&l!=="$?"||o++}r=r.nextSibling}yn=null}}else yn=gn?_i(r.stateNode.nextSibling):null;return!0}function Dg(){for(var r=yn;r;)r=_i(r.nextSibling)}function xs(){yn=gn=null,rt=!1}function Ph(r){Gn===null?Gn=[r]:Gn.push(r)}var OS=G.ReactCurrentBatchConfig;function nl(r,o,l){if(r=l.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(l._owner){if(l=l._owner,l){if(l.tag!==1)throw Error(t(309));var h=l.stateNode}if(!h)throw Error(t(147,r));var m=h,y=""+r;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===y?o.ref:(o=function(T){var O=m.refs;T===null?delete O[y]:O[y]=T},o._stringRef=y,o)}if(typeof r!="string")throw Error(t(284));if(!l._owner)throw Error(t(290,r))}return r}function Wu(r,o){throw r=Object.prototype.toString.call(o),Error(t(31,r==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":r))}function Og(r){var o=r._init;return o(r._payload)}function Lg(r){function o(H,j){if(r){var q=H.deletions;q===null?(H.deletions=[j],H.flags|=16):q.push(j)}}function l(H,j){if(!r)return null;for(;j!==null;)o(H,j),j=j.sibling;return null}function h(H,j){for(H=new Map;j!==null;)j.key!==null?H.set(j.key,j):H.set(j.index,j),j=j.sibling;return H}function m(H,j){return H=ki(H,j),H.index=0,H.sibling=null,H}function y(H,j,q){return H.index=q,r?(q=H.alternate,q!==null?(q=q.index,q<j?(H.flags|=2,j):q):(H.flags|=2,j)):(H.flags|=1048576,j)}function T(H){return r&&H.alternate===null&&(H.flags|=2),H}function O(H,j,q,oe){return j===null||j.tag!==6?(j=Ef(q,H.mode,oe),j.return=H,j):(j=m(j,q),j.return=H,j)}function U(H,j,q,oe){var ye=q.type;return ye===b?te(H,j,q.props.children,oe,q.key):j!==null&&(j.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===Ee&&Og(ye)===j.type)?(oe=m(j,q.props),oe.ref=nl(H,j,q),oe.return=H,oe):(oe=pc(q.type,q.key,q.props,null,H.mode,oe),oe.ref=nl(H,j,q),oe.return=H,oe)}function K(H,j,q,oe){return j===null||j.tag!==4||j.stateNode.containerInfo!==q.containerInfo||j.stateNode.implementation!==q.implementation?(j=Tf(q,H.mode,oe),j.return=H,j):(j=m(j,q.children||[]),j.return=H,j)}function te(H,j,q,oe,ye){return j===null||j.tag!==7?(j=Do(q,H.mode,oe,ye),j.return=H,j):(j=m(j,q),j.return=H,j)}function re(H,j,q){if(typeof j=="string"&&j!==""||typeof j=="number")return j=Ef(""+j,H.mode,q),j.return=H,j;if(typeof j=="object"&&j!==null){switch(j.$$typeof){case X:return q=pc(j.type,j.key,j.props,null,H.mode,q),q.ref=nl(H,null,j),q.return=H,q;case ie:return j=Tf(j,H.mode,q),j.return=H,j;case Ee:var oe=j._init;return re(H,oe(j._payload),q)}if(Pr(j)||ae(j))return j=Do(j,H.mode,q,null),j.return=H,j;Wu(H,j)}return null}function ee(H,j,q,oe){var ye=j!==null?j.key:null;if(typeof q=="string"&&q!==""||typeof q=="number")return ye!==null?null:O(H,j,""+q,oe);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case X:return q.key===ye?U(H,j,q,oe):null;case ie:return q.key===ye?K(H,j,q,oe):null;case Ee:return ye=q._init,ee(H,j,ye(q._payload),oe)}if(Pr(q)||ae(q))return ye!==null?null:te(H,j,q,oe,null);Wu(H,q)}return null}function ce(H,j,q,oe,ye){if(typeof oe=="string"&&oe!==""||typeof oe=="number")return H=H.get(q)||null,O(j,H,""+oe,ye);if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case X:return H=H.get(oe.key===null?q:oe.key)||null,U(j,H,oe,ye);case ie:return H=H.get(oe.key===null?q:oe.key)||null,K(j,H,oe,ye);case Ee:var Te=oe._init;return ce(H,j,q,Te(oe._payload),ye)}if(Pr(oe)||ae(oe))return H=H.get(q)||null,te(j,H,oe,ye,null);Wu(j,oe)}return null}function fe(H,j,q,oe){for(var ye=null,Te=null,Se=j,Re=j=0,bt=null;Se!==null&&Re<q.length;Re++){Se.index>Re?(bt=Se,Se=null):bt=Se.sibling;var Ke=ee(H,Se,q[Re],oe);if(Ke===null){Se===null&&(Se=bt);break}r&&Se&&Ke.alternate===null&&o(H,Se),j=y(Ke,j,Re),Te===null?ye=Ke:Te.sibling=Ke,Te=Ke,Se=bt}if(Re===q.length)return l(H,Se),rt&&Co(H,Re),ye;if(Se===null){for(;Re<q.length;Re++)Se=re(H,q[Re],oe),Se!==null&&(j=y(Se,j,Re),Te===null?ye=Se:Te.sibling=Se,Te=Se);return rt&&Co(H,Re),ye}for(Se=h(H,Se);Re<q.length;Re++)bt=ce(Se,H,Re,q[Re],oe),bt!==null&&(r&&bt.alternate!==null&&Se.delete(bt.key===null?Re:bt.key),j=y(bt,j,Re),Te===null?ye=bt:Te.sibling=bt,Te=bt);return r&&Se.forEach(function(bi){return o(H,bi)}),rt&&Co(H,Re),ye}function me(H,j,q,oe){var ye=ae(q);if(typeof ye!="function")throw Error(t(150));if(q=ye.call(q),q==null)throw Error(t(151));for(var Te=ye=null,Se=j,Re=j=0,bt=null,Ke=q.next();Se!==null&&!Ke.done;Re++,Ke=q.next()){Se.index>Re?(bt=Se,Se=null):bt=Se.sibling;var bi=ee(H,Se,Ke.value,oe);if(bi===null){Se===null&&(Se=bt);break}r&&Se&&bi.alternate===null&&o(H,Se),j=y(bi,j,Re),Te===null?ye=bi:Te.sibling=bi,Te=bi,Se=bt}if(Ke.done)return l(H,Se),rt&&Co(H,Re),ye;if(Se===null){for(;!Ke.done;Re++,Ke=q.next())Ke=re(H,Ke.value,oe),Ke!==null&&(j=y(Ke,j,Re),Te===null?ye=Ke:Te.sibling=Ke,Te=Ke);return rt&&Co(H,Re),ye}for(Se=h(H,Se);!Ke.done;Re++,Ke=q.next())Ke=ce(Se,H,Re,Ke.value,oe),Ke!==null&&(r&&Ke.alternate!==null&&Se.delete(Ke.key===null?Re:Ke.key),j=y(Ke,j,Re),Te===null?ye=Ke:Te.sibling=Ke,Te=Ke);return r&&Se.forEach(function(fI){return o(H,fI)}),rt&&Co(H,Re),ye}function ht(H,j,q,oe){if(typeof q=="object"&&q!==null&&q.type===b&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case X:e:{for(var ye=q.key,Te=j;Te!==null;){if(Te.key===ye){if(ye=q.type,ye===b){if(Te.tag===7){l(H,Te.sibling),j=m(Te,q.props.children),j.return=H,H=j;break e}}else if(Te.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===Ee&&Og(ye)===Te.type){l(H,Te.sibling),j=m(Te,q.props),j.ref=nl(H,Te,q),j.return=H,H=j;break e}l(H,Te);break}else o(H,Te);Te=Te.sibling}q.type===b?(j=Do(q.props.children,H.mode,oe,q.key),j.return=H,H=j):(oe=pc(q.type,q.key,q.props,null,H.mode,oe),oe.ref=nl(H,j,q),oe.return=H,H=oe)}return T(H);case ie:e:{for(Te=q.key;j!==null;){if(j.key===Te)if(j.tag===4&&j.stateNode.containerInfo===q.containerInfo&&j.stateNode.implementation===q.implementation){l(H,j.sibling),j=m(j,q.children||[]),j.return=H,H=j;break e}else{l(H,j);break}else o(H,j);j=j.sibling}j=Tf(q,H.mode,oe),j.return=H,H=j}return T(H);case Ee:return Te=q._init,ht(H,j,Te(q._payload),oe)}if(Pr(q))return fe(H,j,q,oe);if(ae(q))return me(H,j,q,oe);Wu(H,q)}return typeof q=="string"&&q!==""||typeof q=="number"?(q=""+q,j!==null&&j.tag===6?(l(H,j.sibling),j=m(j,q),j.return=H,H=j):(l(H,j),j=Ef(q,H.mode,oe),j.return=H,H=j),T(H)):l(H,j)}return ht}var Ps=Lg(!0),Vg=Lg(!1),Hu=wi(null),qu=null,ks=null,kh=null;function bh(){kh=ks=qu=null}function Nh(r){var o=Hu.current;et(Hu),r._currentValue=o}function Dh(r,o,l){for(;r!==null;){var h=r.alternate;if((r.childLanes&o)!==o?(r.childLanes|=o,h!==null&&(h.childLanes|=o)):h!==null&&(h.childLanes&o)!==o&&(h.childLanes|=o),r===l)break;r=r.return}}function bs(r,o){qu=r,kh=ks=null,r=r.dependencies,r!==null&&r.firstContext!==null&&(r.lanes&o&&(sn=!0),r.firstContext=null)}function bn(r){var o=r._currentValue;if(kh!==r)if(r={context:r,memoizedValue:o,next:null},ks===null){if(qu===null)throw Error(t(308));ks=r,qu.dependencies={lanes:0,firstContext:r}}else ks=ks.next=r;return o}var Ro=null;function Oh(r){Ro===null?Ro=[r]:Ro.push(r)}function Mg(r,o,l,h){var m=o.interleaved;return m===null?(l.next=l,Oh(o)):(l.next=m.next,m.next=l),o.interleaved=l,Br(r,h)}function Br(r,o){r.lanes|=o;var l=r.alternate;for(l!==null&&(l.lanes|=o),l=r,r=r.return;r!==null;)r.childLanes|=o,l=r.alternate,l!==null&&(l.childLanes|=o),l=r,r=r.return;return l.tag===3?l.stateNode:null}var Si=!1;function Lh(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Fg(r,o){r=r.updateQueue,o.updateQueue===r&&(o.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function $r(r,o){return{eventTime:r,lane:o,tag:0,payload:null,callback:null,next:null}}function Ii(r,o,l){var h=r.updateQueue;if(h===null)return null;if(h=h.shared,qe&2){var m=h.pending;return m===null?o.next=o:(o.next=m.next,m.next=o),h.pending=o,Br(r,l)}return m=h.interleaved,m===null?(o.next=o,Oh(h)):(o.next=m.next,m.next=o),h.interleaved=o,Br(r,l)}function Ku(r,o,l){if(o=o.updateQueue,o!==null&&(o=o.shared,(l&4194240)!==0)){var h=o.lanes;h&=r.pendingLanes,l|=h,o.lanes=l,fi(r,l)}}function Ug(r,o){var l=r.updateQueue,h=r.alternate;if(h!==null&&(h=h.updateQueue,l===h)){var m=null,y=null;if(l=l.firstBaseUpdate,l!==null){do{var T={eventTime:l.eventTime,lane:l.lane,tag:l.tag,payload:l.payload,callback:l.callback,next:null};y===null?m=y=T:y=y.next=T,l=l.next}while(l!==null);y===null?m=y=o:y=y.next=o}else m=y=o;l={baseState:h.baseState,firstBaseUpdate:m,lastBaseUpdate:y,shared:h.shared,effects:h.effects},r.updateQueue=l;return}r=l.lastBaseUpdate,r===null?l.firstBaseUpdate=o:r.next=o,l.lastBaseUpdate=o}function Gu(r,o,l,h){var m=r.updateQueue;Si=!1;var y=m.firstBaseUpdate,T=m.lastBaseUpdate,O=m.shared.pending;if(O!==null){m.shared.pending=null;var U=O,K=U.next;U.next=null,T===null?y=K:T.next=K,T=U;var te=r.alternate;te!==null&&(te=te.updateQueue,O=te.lastBaseUpdate,O!==T&&(O===null?te.firstBaseUpdate=K:O.next=K,te.lastBaseUpdate=U))}if(y!==null){var re=m.baseState;T=0,te=K=U=null,O=y;do{var ee=O.lane,ce=O.eventTime;if((h&ee)===ee){te!==null&&(te=te.next={eventTime:ce,lane:0,tag:O.tag,payload:O.payload,callback:O.callback,next:null});e:{var fe=r,me=O;switch(ee=o,ce=l,me.tag){case 1:if(fe=me.payload,typeof fe=="function"){re=fe.call(ce,re,ee);break e}re=fe;break e;case 3:fe.flags=fe.flags&-65537|128;case 0:if(fe=me.payload,ee=typeof fe=="function"?fe.call(ce,re,ee):fe,ee==null)break e;re=se({},re,ee);break e;case 2:Si=!0}}O.callback!==null&&O.lane!==0&&(r.flags|=64,ee=m.effects,ee===null?m.effects=[O]:ee.push(O))}else ce={eventTime:ce,lane:ee,tag:O.tag,payload:O.payload,callback:O.callback,next:null},te===null?(K=te=ce,U=re):te=te.next=ce,T|=ee;if(O=O.next,O===null){if(O=m.shared.pending,O===null)break;ee=O,O=ee.next,ee.next=null,m.lastBaseUpdate=ee,m.shared.pending=null}}while(!0);if(te===null&&(U=re),m.baseState=U,m.firstBaseUpdate=K,m.lastBaseUpdate=te,o=m.shared.interleaved,o!==null){m=o;do T|=m.lane,m=m.next;while(m!==o)}else y===null&&(m.shared.lanes=0);Po|=T,r.lanes=T,r.memoizedState=re}}function jg(r,o,l){if(r=o.effects,o.effects=null,r!==null)for(o=0;o<r.length;o++){var h=r[o],m=h.callback;if(m!==null){if(h.callback=null,h=l,typeof m!="function")throw Error(t(191,m));m.call(h)}}}var rl={},pr=wi(rl),il=wi(rl),ol=wi(rl);function Ao(r){if(r===rl)throw Error(t(174));return r}function Vh(r,o){switch(Je(ol,o),Je(il,r),Je(pr,rl),r=o.nodeType,r){case 9:case 11:o=(o=o.documentElement)?o.namespaceURI:wt(null,"");break;default:r=r===8?o.parentNode:o,o=r.namespaceURI||null,r=r.tagName,o=wt(o,r)}et(pr),Je(pr,o)}function Ns(){et(pr),et(il),et(ol)}function zg(r){Ao(ol.current);var o=Ao(pr.current),l=wt(o,r.type);o!==l&&(Je(il,r),Je(pr,l))}function Mh(r){il.current===r&&(et(pr),et(il))}var st=wi(0);function Qu(r){for(var o=r;o!==null;){if(o.tag===13){var l=o.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if(o.flags&128)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===r)break;for(;o.sibling===null;){if(o.return===null||o.return===r)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var Fh=[];function Uh(){for(var r=0;r<Fh.length;r++)Fh[r]._workInProgressVersionPrimary=null;Fh.length=0}var Yu=G.ReactCurrentDispatcher,jh=G.ReactCurrentBatchConfig,xo=0,at=null,Tt=null,Pt=null,Xu=!1,sl=!1,al=0,LS=0;function Bt(){throw Error(t(321))}function zh(r,o){if(o===null)return!1;for(var l=0;l<o.length&&l<r.length;l++)if(!Kn(r[l],o[l]))return!1;return!0}function Bh(r,o,l,h,m,y){if(xo=y,at=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,Yu.current=r===null||r.memoizedState===null?US:jS,r=l(h,m),sl){y=0;do{if(sl=!1,al=0,25<=y)throw Error(t(301));y+=1,Pt=Tt=null,o.updateQueue=null,Yu.current=zS,r=l(h,m)}while(sl)}if(Yu.current=ec,o=Tt!==null&&Tt.next!==null,xo=0,Pt=Tt=at=null,Xu=!1,o)throw Error(t(300));return r}function $h(){var r=al!==0;return al=0,r}function mr(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Pt===null?at.memoizedState=Pt=r:Pt=Pt.next=r,Pt}function Nn(){if(Tt===null){var r=at.alternate;r=r!==null?r.memoizedState:null}else r=Tt.next;var o=Pt===null?at.memoizedState:Pt.next;if(o!==null)Pt=o,Tt=r;else{if(r===null)throw Error(t(310));Tt=r,r={memoizedState:Tt.memoizedState,baseState:Tt.baseState,baseQueue:Tt.baseQueue,queue:Tt.queue,next:null},Pt===null?at.memoizedState=Pt=r:Pt=Pt.next=r}return Pt}function ll(r,o){return typeof o=="function"?o(r):o}function Wh(r){var o=Nn(),l=o.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=r;var h=Tt,m=h.baseQueue,y=l.pending;if(y!==null){if(m!==null){var T=m.next;m.next=y.next,y.next=T}h.baseQueue=m=y,l.pending=null}if(m!==null){y=m.next,h=h.baseState;var O=T=null,U=null,K=y;do{var te=K.lane;if((xo&te)===te)U!==null&&(U=U.next={lane:0,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null}),h=K.hasEagerState?K.eagerState:r(h,K.action);else{var re={lane:te,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null};U===null?(O=U=re,T=h):U=U.next=re,at.lanes|=te,Po|=te}K=K.next}while(K!==null&&K!==y);U===null?T=h:U.next=O,Kn(h,o.memoizedState)||(sn=!0),o.memoizedState=h,o.baseState=T,o.baseQueue=U,l.lastRenderedState=h}if(r=l.interleaved,r!==null){m=r;do y=m.lane,at.lanes|=y,Po|=y,m=m.next;while(m!==r)}else m===null&&(l.lanes=0);return[o.memoizedState,l.dispatch]}function Hh(r){var o=Nn(),l=o.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=r;var h=l.dispatch,m=l.pending,y=o.memoizedState;if(m!==null){l.pending=null;var T=m=m.next;do y=r(y,T.action),T=T.next;while(T!==m);Kn(y,o.memoizedState)||(sn=!0),o.memoizedState=y,o.baseQueue===null&&(o.baseState=y),l.lastRenderedState=y}return[y,h]}function Bg(){}function $g(r,o){var l=at,h=Nn(),m=o(),y=!Kn(h.memoizedState,m);if(y&&(h.memoizedState=m,sn=!0),h=h.queue,qh(qg.bind(null,l,h,r),[r]),h.getSnapshot!==o||y||Pt!==null&&Pt.memoizedState.tag&1){if(l.flags|=2048,ul(9,Hg.bind(null,l,h,m,o),void 0,null),kt===null)throw Error(t(349));xo&30||Wg(l,o,m)}return m}function Wg(r,o,l){r.flags|=16384,r={getSnapshot:o,value:l},o=at.updateQueue,o===null?(o={lastEffect:null,stores:null},at.updateQueue=o,o.stores=[r]):(l=o.stores,l===null?o.stores=[r]:l.push(r))}function Hg(r,o,l,h){o.value=l,o.getSnapshot=h,Kg(o)&&Gg(r)}function qg(r,o,l){return l(function(){Kg(o)&&Gg(r)})}function Kg(r){var o=r.getSnapshot;r=r.value;try{var l=o();return!Kn(r,l)}catch{return!0}}function Gg(r){var o=Br(r,1);o!==null&&Jn(o,r,1,-1)}function Qg(r){var o=mr();return typeof r=="function"&&(r=r()),o.memoizedState=o.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ll,lastRenderedState:r},o.queue=r,r=r.dispatch=FS.bind(null,at,r),[o.memoizedState,r]}function ul(r,o,l,h){return r={tag:r,create:o,destroy:l,deps:h,next:null},o=at.updateQueue,o===null?(o={lastEffect:null,stores:null},at.updateQueue=o,o.lastEffect=r.next=r):(l=o.lastEffect,l===null?o.lastEffect=r.next=r:(h=l.next,l.next=r,r.next=h,o.lastEffect=r)),r}function Yg(){return Nn().memoizedState}function Ju(r,o,l,h){var m=mr();at.flags|=r,m.memoizedState=ul(1|o,l,void 0,h===void 0?null:h)}function Zu(r,o,l,h){var m=Nn();h=h===void 0?null:h;var y=void 0;if(Tt!==null){var T=Tt.memoizedState;if(y=T.destroy,h!==null&&zh(h,T.deps)){m.memoizedState=ul(o,l,y,h);return}}at.flags|=r,m.memoizedState=ul(1|o,l,y,h)}function Xg(r,o){return Ju(8390656,8,r,o)}function qh(r,o){return Zu(2048,8,r,o)}function Jg(r,o){return Zu(4,2,r,o)}function Zg(r,o){return Zu(4,4,r,o)}function ey(r,o){if(typeof o=="function")return r=r(),o(r),function(){o(null)};if(o!=null)return r=r(),o.current=r,function(){o.current=null}}function ty(r,o,l){return l=l!=null?l.concat([r]):null,Zu(4,4,ey.bind(null,o,r),l)}function Kh(){}function ny(r,o){var l=Nn();o=o===void 0?null:o;var h=l.memoizedState;return h!==null&&o!==null&&zh(o,h[1])?h[0]:(l.memoizedState=[r,o],r)}function ry(r,o){var l=Nn();o=o===void 0?null:o;var h=l.memoizedState;return h!==null&&o!==null&&zh(o,h[1])?h[0]:(r=r(),l.memoizedState=[r,o],r)}function iy(r,o,l){return xo&21?(Kn(l,o)||(l=yo(),at.lanes|=l,Po|=l,r.baseState=!0),o):(r.baseState&&(r.baseState=!1,sn=!0),r.memoizedState=l)}function VS(r,o){var l=Be;Be=l!==0&&4>l?l:4,r(!0);var h=jh.transition;jh.transition={};try{r(!1),o()}finally{Be=l,jh.transition=h}}function oy(){return Nn().memoizedState}function MS(r,o,l){var h=xi(r);if(l={lane:h,action:l,hasEagerState:!1,eagerState:null,next:null},sy(r))ay(o,l);else if(l=Mg(r,o,l,h),l!==null){var m=en();Jn(l,r,h,m),ly(l,o,h)}}function FS(r,o,l){var h=xi(r),m={lane:h,action:l,hasEagerState:!1,eagerState:null,next:null};if(sy(r))ay(o,m);else{var y=r.alternate;if(r.lanes===0&&(y===null||y.lanes===0)&&(y=o.lastRenderedReducer,y!==null))try{var T=o.lastRenderedState,O=y(T,l);if(m.hasEagerState=!0,m.eagerState=O,Kn(O,T)){var U=o.interleaved;U===null?(m.next=m,Oh(o)):(m.next=U.next,U.next=m),o.interleaved=m;return}}catch{}finally{}l=Mg(r,o,m,h),l!==null&&(m=en(),Jn(l,r,h,m),ly(l,o,h))}}function sy(r){var o=r.alternate;return r===at||o!==null&&o===at}function ay(r,o){sl=Xu=!0;var l=r.pending;l===null?o.next=o:(o.next=l.next,l.next=o),r.pending=o}function ly(r,o,l){if(l&4194240){var h=o.lanes;h&=r.pendingLanes,l|=h,o.lanes=l,fi(r,l)}}var ec={readContext:bn,useCallback:Bt,useContext:Bt,useEffect:Bt,useImperativeHandle:Bt,useInsertionEffect:Bt,useLayoutEffect:Bt,useMemo:Bt,useReducer:Bt,useRef:Bt,useState:Bt,useDebugValue:Bt,useDeferredValue:Bt,useTransition:Bt,useMutableSource:Bt,useSyncExternalStore:Bt,useId:Bt,unstable_isNewReconciler:!1},US={readContext:bn,useCallback:function(r,o){return mr().memoizedState=[r,o===void 0?null:o],r},useContext:bn,useEffect:Xg,useImperativeHandle:function(r,o,l){return l=l!=null?l.concat([r]):null,Ju(4194308,4,ey.bind(null,o,r),l)},useLayoutEffect:function(r,o){return Ju(4194308,4,r,o)},useInsertionEffect:function(r,o){return Ju(4,2,r,o)},useMemo:function(r,o){var l=mr();return o=o===void 0?null:o,r=r(),l.memoizedState=[r,o],r},useReducer:function(r,o,l){var h=mr();return o=l!==void 0?l(o):o,h.memoizedState=h.baseState=o,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:o},h.queue=r,r=r.dispatch=MS.bind(null,at,r),[h.memoizedState,r]},useRef:function(r){var o=mr();return r={current:r},o.memoizedState=r},useState:Qg,useDebugValue:Kh,useDeferredValue:function(r){return mr().memoizedState=r},useTransition:function(){var r=Qg(!1),o=r[0];return r=VS.bind(null,r[1]),mr().memoizedState=r,[o,r]},useMutableSource:function(){},useSyncExternalStore:function(r,o,l){var h=at,m=mr();if(rt){if(l===void 0)throw Error(t(407));l=l()}else{if(l=o(),kt===null)throw Error(t(349));xo&30||Wg(h,o,l)}m.memoizedState=l;var y={value:l,getSnapshot:o};return m.queue=y,Xg(qg.bind(null,h,y,r),[r]),h.flags|=2048,ul(9,Hg.bind(null,h,y,l,o),void 0,null),l},useId:function(){var r=mr(),o=kt.identifierPrefix;if(rt){var l=zr,h=jr;l=(h&~(1<<32-Xt(h)-1)).toString(32)+l,o=":"+o+"R"+l,l=al++,0<l&&(o+="H"+l.toString(32)),o+=":"}else l=LS++,o=":"+o+"r"+l.toString(32)+":";return r.memoizedState=o},unstable_isNewReconciler:!1},jS={readContext:bn,useCallback:ny,useContext:bn,useEffect:qh,useImperativeHandle:ty,useInsertionEffect:Jg,useLayoutEffect:Zg,useMemo:ry,useReducer:Wh,useRef:Yg,useState:function(){return Wh(ll)},useDebugValue:Kh,useDeferredValue:function(r){var o=Nn();return iy(o,Tt.memoizedState,r)},useTransition:function(){var r=Wh(ll)[0],o=Nn().memoizedState;return[r,o]},useMutableSource:Bg,useSyncExternalStore:$g,useId:oy,unstable_isNewReconciler:!1},zS={readContext:bn,useCallback:ny,useContext:bn,useEffect:qh,useImperativeHandle:ty,useInsertionEffect:Jg,useLayoutEffect:Zg,useMemo:ry,useReducer:Hh,useRef:Yg,useState:function(){return Hh(ll)},useDebugValue:Kh,useDeferredValue:function(r){var o=Nn();return Tt===null?o.memoizedState=r:iy(o,Tt.memoizedState,r)},useTransition:function(){var r=Hh(ll)[0],o=Nn().memoizedState;return[r,o]},useMutableSource:Bg,useSyncExternalStore:$g,useId:oy,unstable_isNewReconciler:!1};function Qn(r,o){if(r&&r.defaultProps){o=se({},o),r=r.defaultProps;for(var l in r)o[l]===void 0&&(o[l]=r[l]);return o}return o}function Gh(r,o,l,h){o=r.memoizedState,l=l(h,o),l=l==null?o:se({},o,l),r.memoizedState=l,r.lanes===0&&(r.updateQueue.baseState=l)}var tc={isMounted:function(r){return(r=r._reactInternals)?jn(r)===r:!1},enqueueSetState:function(r,o,l){r=r._reactInternals;var h=en(),m=xi(r),y=$r(h,m);y.payload=o,l!=null&&(y.callback=l),o=Ii(r,y,m),o!==null&&(Jn(o,r,m,h),Ku(o,r,m))},enqueueReplaceState:function(r,o,l){r=r._reactInternals;var h=en(),m=xi(r),y=$r(h,m);y.tag=1,y.payload=o,l!=null&&(y.callback=l),o=Ii(r,y,m),o!==null&&(Jn(o,r,m,h),Ku(o,r,m))},enqueueForceUpdate:function(r,o){r=r._reactInternals;var l=en(),h=xi(r),m=$r(l,h);m.tag=2,o!=null&&(m.callback=o),o=Ii(r,m,h),o!==null&&(Jn(o,r,h,l),Ku(o,r,h))}};function uy(r,o,l,h,m,y,T){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(h,y,T):o.prototype&&o.prototype.isPureReactComponent?!Qa(l,h)||!Qa(m,y):!0}function cy(r,o,l){var h=!1,m=Ei,y=o.contextType;return typeof y=="object"&&y!==null?y=bn(y):(m=on(o)?So:zt.current,h=o.contextTypes,y=(h=h!=null)?Cs(r,m):Ei),o=new o(l,y),r.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=tc,r.stateNode=o,o._reactInternals=r,h&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=m,r.__reactInternalMemoizedMaskedChildContext=y),o}function dy(r,o,l,h){r=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(l,h),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(l,h),o.state!==r&&tc.enqueueReplaceState(o,o.state,null)}function Qh(r,o,l,h){var m=r.stateNode;m.props=l,m.state=r.memoizedState,m.refs={},Lh(r);var y=o.contextType;typeof y=="object"&&y!==null?m.context=bn(y):(y=on(o)?So:zt.current,m.context=Cs(r,y)),m.state=r.memoizedState,y=o.getDerivedStateFromProps,typeof y=="function"&&(Gh(r,o,y,l),m.state=r.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(o=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),o!==m.state&&tc.enqueueReplaceState(m,m.state,null),Gu(r,l,m,h),m.state=r.memoizedState),typeof m.componentDidMount=="function"&&(r.flags|=4194308)}function Ds(r,o){try{var l="",h=o;do l+=Pe(h),h=h.return;while(h);var m=l}catch(y){m=`
Error generating stack: `+y.message+`
`+y.stack}return{value:r,source:o,stack:m,digest:null}}function Yh(r,o,l){return{value:r,source:null,stack:l??null,digest:o??null}}function Xh(r,o){try{console.error(o.value)}catch(l){setTimeout(function(){throw l})}}var BS=typeof WeakMap=="function"?WeakMap:Map;function hy(r,o,l){l=$r(-1,l),l.tag=3,l.payload={element:null};var h=o.value;return l.callback=function(){lc||(lc=!0,ff=h),Xh(r,o)},l}function fy(r,o,l){l=$r(-1,l),l.tag=3;var h=r.type.getDerivedStateFromError;if(typeof h=="function"){var m=o.value;l.payload=function(){return h(m)},l.callback=function(){Xh(r,o)}}var y=r.stateNode;return y!==null&&typeof y.componentDidCatch=="function"&&(l.callback=function(){Xh(r,o),typeof h!="function"&&(Ri===null?Ri=new Set([this]):Ri.add(this));var T=o.stack;this.componentDidCatch(o.value,{componentStack:T!==null?T:""})}),l}function py(r,o,l){var h=r.pingCache;if(h===null){h=r.pingCache=new BS;var m=new Set;h.set(o,m)}else m=h.get(o),m===void 0&&(m=new Set,h.set(o,m));m.has(l)||(m.add(l),r=nI.bind(null,r,o,l),o.then(r,r))}function my(r){do{var o;if((o=r.tag===13)&&(o=r.memoizedState,o=o!==null?o.dehydrated!==null:!0),o)return r;r=r.return}while(r!==null);return null}function gy(r,o,l,h,m){return r.mode&1?(r.flags|=65536,r.lanes=m,r):(r===o?r.flags|=65536:(r.flags|=128,l.flags|=131072,l.flags&=-52805,l.tag===1&&(l.alternate===null?l.tag=17:(o=$r(-1,1),o.tag=2,Ii(l,o,1))),l.lanes|=1),r)}var $S=G.ReactCurrentOwner,sn=!1;function Zt(r,o,l,h){o.child=r===null?Vg(o,null,l,h):Ps(o,r.child,l,h)}function yy(r,o,l,h,m){l=l.render;var y=o.ref;return bs(o,m),h=Bh(r,o,l,h,y,m),l=$h(),r!==null&&!sn?(o.updateQueue=r.updateQueue,o.flags&=-2053,r.lanes&=~m,Wr(r,o,m)):(rt&&l&&Ch(o),o.flags|=1,Zt(r,o,h,m),o.child)}function vy(r,o,l,h,m){if(r===null){var y=l.type;return typeof y=="function"&&!wf(y)&&y.defaultProps===void 0&&l.compare===null&&l.defaultProps===void 0?(o.tag=15,o.type=y,_y(r,o,y,h,m)):(r=pc(l.type,null,h,o,o.mode,m),r.ref=o.ref,r.return=o,o.child=r)}if(y=r.child,!(r.lanes&m)){var T=y.memoizedProps;if(l=l.compare,l=l!==null?l:Qa,l(T,h)&&r.ref===o.ref)return Wr(r,o,m)}return o.flags|=1,r=ki(y,h),r.ref=o.ref,r.return=o,o.child=r}function _y(r,o,l,h,m){if(r!==null){var y=r.memoizedProps;if(Qa(y,h)&&r.ref===o.ref)if(sn=!1,o.pendingProps=h=y,(r.lanes&m)!==0)r.flags&131072&&(sn=!0);else return o.lanes=r.lanes,Wr(r,o,m)}return Jh(r,o,l,h,m)}function wy(r,o,l){var h=o.pendingProps,m=h.children,y=r!==null?r.memoizedState:null;if(h.mode==="hidden")if(!(o.mode&1))o.memoizedState={baseLanes:0,cachePool:null,transitions:null},Je(Ls,vn),vn|=l;else{if(!(l&1073741824))return r=y!==null?y.baseLanes|l:l,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:r,cachePool:null,transitions:null},o.updateQueue=null,Je(Ls,vn),vn|=r,null;o.memoizedState={baseLanes:0,cachePool:null,transitions:null},h=y!==null?y.baseLanes:l,Je(Ls,vn),vn|=h}else y!==null?(h=y.baseLanes|l,o.memoizedState=null):h=l,Je(Ls,vn),vn|=h;return Zt(r,o,m,l),o.child}function Ey(r,o){var l=o.ref;(r===null&&l!==null||r!==null&&r.ref!==l)&&(o.flags|=512,o.flags|=2097152)}function Jh(r,o,l,h,m){var y=on(l)?So:zt.current;return y=Cs(o,y),bs(o,m),l=Bh(r,o,l,h,y,m),h=$h(),r!==null&&!sn?(o.updateQueue=r.updateQueue,o.flags&=-2053,r.lanes&=~m,Wr(r,o,m)):(rt&&h&&Ch(o),o.flags|=1,Zt(r,o,l,m),o.child)}function Ty(r,o,l,h,m){if(on(l)){var y=!0;Uu(o)}else y=!1;if(bs(o,m),o.stateNode===null)rc(r,o),cy(o,l,h),Qh(o,l,h,m),h=!0;else if(r===null){var T=o.stateNode,O=o.memoizedProps;T.props=O;var U=T.context,K=l.contextType;typeof K=="object"&&K!==null?K=bn(K):(K=on(l)?So:zt.current,K=Cs(o,K));var te=l.getDerivedStateFromProps,re=typeof te=="function"||typeof T.getSnapshotBeforeUpdate=="function";re||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(O!==h||U!==K)&&dy(o,T,h,K),Si=!1;var ee=o.memoizedState;T.state=ee,Gu(o,h,T,m),U=o.memoizedState,O!==h||ee!==U||rn.current||Si?(typeof te=="function"&&(Gh(o,l,te,h),U=o.memoizedState),(O=Si||uy(o,l,O,h,ee,U,K))?(re||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount()),typeof T.componentDidMount=="function"&&(o.flags|=4194308)):(typeof T.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=h,o.memoizedState=U),T.props=h,T.state=U,T.context=K,h=O):(typeof T.componentDidMount=="function"&&(o.flags|=4194308),h=!1)}else{T=o.stateNode,Fg(r,o),O=o.memoizedProps,K=o.type===o.elementType?O:Qn(o.type,O),T.props=K,re=o.pendingProps,ee=T.context,U=l.contextType,typeof U=="object"&&U!==null?U=bn(U):(U=on(l)?So:zt.current,U=Cs(o,U));var ce=l.getDerivedStateFromProps;(te=typeof ce=="function"||typeof T.getSnapshotBeforeUpdate=="function")||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(O!==re||ee!==U)&&dy(o,T,h,U),Si=!1,ee=o.memoizedState,T.state=ee,Gu(o,h,T,m);var fe=o.memoizedState;O!==re||ee!==fe||rn.current||Si?(typeof ce=="function"&&(Gh(o,l,ce,h),fe=o.memoizedState),(K=Si||uy(o,l,K,h,ee,fe,U)||!1)?(te||typeof T.UNSAFE_componentWillUpdate!="function"&&typeof T.componentWillUpdate!="function"||(typeof T.componentWillUpdate=="function"&&T.componentWillUpdate(h,fe,U),typeof T.UNSAFE_componentWillUpdate=="function"&&T.UNSAFE_componentWillUpdate(h,fe,U)),typeof T.componentDidUpdate=="function"&&(o.flags|=4),typeof T.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof T.componentDidUpdate!="function"||O===r.memoizedProps&&ee===r.memoizedState||(o.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||O===r.memoizedProps&&ee===r.memoizedState||(o.flags|=1024),o.memoizedProps=h,o.memoizedState=fe),T.props=h,T.state=fe,T.context=U,h=K):(typeof T.componentDidUpdate!="function"||O===r.memoizedProps&&ee===r.memoizedState||(o.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||O===r.memoizedProps&&ee===r.memoizedState||(o.flags|=1024),h=!1)}return Zh(r,o,l,h,y,m)}function Zh(r,o,l,h,m,y){Ey(r,o);var T=(o.flags&128)!==0;if(!h&&!T)return m&&Ag(o,l,!1),Wr(r,o,y);h=o.stateNode,$S.current=o;var O=T&&typeof l.getDerivedStateFromError!="function"?null:h.render();return o.flags|=1,r!==null&&T?(o.child=Ps(o,r.child,null,y),o.child=Ps(o,null,O,y)):Zt(r,o,O,y),o.memoizedState=h.state,m&&Ag(o,l,!0),o.child}function Sy(r){var o=r.stateNode;o.pendingContext?Cg(r,o.pendingContext,o.pendingContext!==o.context):o.context&&Cg(r,o.context,!1),Vh(r,o.containerInfo)}function Iy(r,o,l,h,m){return xs(),Ph(m),o.flags|=256,Zt(r,o,l,h),o.child}var ef={dehydrated:null,treeContext:null,retryLane:0};function tf(r){return{baseLanes:r,cachePool:null,transitions:null}}function Cy(r,o,l){var h=o.pendingProps,m=st.current,y=!1,T=(o.flags&128)!==0,O;if((O=T)||(O=r!==null&&r.memoizedState===null?!1:(m&2)!==0),O?(y=!0,o.flags&=-129):(r===null||r.memoizedState!==null)&&(m|=1),Je(st,m&1),r===null)return xh(o),r=o.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?(o.mode&1?r.data==="$!"?o.lanes=8:o.lanes=1073741824:o.lanes=1,null):(T=h.children,r=h.fallback,y?(h=o.mode,y=o.child,T={mode:"hidden",children:T},!(h&1)&&y!==null?(y.childLanes=0,y.pendingProps=T):y=mc(T,h,0,null),r=Do(r,h,l,null),y.return=o,r.return=o,y.sibling=r,o.child=y,o.child.memoizedState=tf(l),o.memoizedState=ef,r):nf(o,T));if(m=r.memoizedState,m!==null&&(O=m.dehydrated,O!==null))return WS(r,o,T,h,O,m,l);if(y){y=h.fallback,T=o.mode,m=r.child,O=m.sibling;var U={mode:"hidden",children:h.children};return!(T&1)&&o.child!==m?(h=o.child,h.childLanes=0,h.pendingProps=U,o.deletions=null):(h=ki(m,U),h.subtreeFlags=m.subtreeFlags&14680064),O!==null?y=ki(O,y):(y=Do(y,T,l,null),y.flags|=2),y.return=o,h.return=o,h.sibling=y,o.child=h,h=y,y=o.child,T=r.child.memoizedState,T=T===null?tf(l):{baseLanes:T.baseLanes|l,cachePool:null,transitions:T.transitions},y.memoizedState=T,y.childLanes=r.childLanes&~l,o.memoizedState=ef,h}return y=r.child,r=y.sibling,h=ki(y,{mode:"visible",children:h.children}),!(o.mode&1)&&(h.lanes=l),h.return=o,h.sibling=null,r!==null&&(l=o.deletions,l===null?(o.deletions=[r],o.flags|=16):l.push(r)),o.child=h,o.memoizedState=null,h}function nf(r,o){return o=mc({mode:"visible",children:o},r.mode,0,null),o.return=r,r.child=o}function nc(r,o,l,h){return h!==null&&Ph(h),Ps(o,r.child,null,l),r=nf(o,o.pendingProps.children),r.flags|=2,o.memoizedState=null,r}function WS(r,o,l,h,m,y,T){if(l)return o.flags&256?(o.flags&=-257,h=Yh(Error(t(422))),nc(r,o,T,h)):o.memoizedState!==null?(o.child=r.child,o.flags|=128,null):(y=h.fallback,m=o.mode,h=mc({mode:"visible",children:h.children},m,0,null),y=Do(y,m,T,null),y.flags|=2,h.return=o,y.return=o,h.sibling=y,o.child=h,o.mode&1&&Ps(o,r.child,null,T),o.child.memoizedState=tf(T),o.memoizedState=ef,y);if(!(o.mode&1))return nc(r,o,T,null);if(m.data==="$!"){if(h=m.nextSibling&&m.nextSibling.dataset,h)var O=h.dgst;return h=O,y=Error(t(419)),h=Yh(y,h,void 0),nc(r,o,T,h)}if(O=(T&r.childLanes)!==0,sn||O){if(h=kt,h!==null){switch(T&-T){case 4:m=2;break;case 16:m=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:m=32;break;case 536870912:m=268435456;break;default:m=0}m=m&(h.suspendedLanes|T)?0:m,m!==0&&m!==y.retryLane&&(y.retryLane=m,Br(r,m),Jn(h,r,m,-1))}return _f(),h=Yh(Error(t(421))),nc(r,o,T,h)}return m.data==="$?"?(o.flags|=128,o.child=r.child,o=rI.bind(null,r),m._reactRetry=o,null):(r=y.treeContext,yn=_i(m.nextSibling),gn=o,rt=!0,Gn=null,r!==null&&(Pn[kn++]=jr,Pn[kn++]=zr,Pn[kn++]=Io,jr=r.id,zr=r.overflow,Io=o),o=nf(o,h.children),o.flags|=4096,o)}function Ry(r,o,l){r.lanes|=o;var h=r.alternate;h!==null&&(h.lanes|=o),Dh(r.return,o,l)}function rf(r,o,l,h,m){var y=r.memoizedState;y===null?r.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:h,tail:l,tailMode:m}:(y.isBackwards=o,y.rendering=null,y.renderingStartTime=0,y.last=h,y.tail=l,y.tailMode=m)}function Ay(r,o,l){var h=o.pendingProps,m=h.revealOrder,y=h.tail;if(Zt(r,o,h.children,l),h=st.current,h&2)h=h&1|2,o.flags|=128;else{if(r!==null&&r.flags&128)e:for(r=o.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&Ry(r,l,o);else if(r.tag===19)Ry(r,l,o);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===o)break e;for(;r.sibling===null;){if(r.return===null||r.return===o)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}h&=1}if(Je(st,h),!(o.mode&1))o.memoizedState=null;else switch(m){case"forwards":for(l=o.child,m=null;l!==null;)r=l.alternate,r!==null&&Qu(r)===null&&(m=l),l=l.sibling;l=m,l===null?(m=o.child,o.child=null):(m=l.sibling,l.sibling=null),rf(o,!1,m,l,y);break;case"backwards":for(l=null,m=o.child,o.child=null;m!==null;){if(r=m.alternate,r!==null&&Qu(r)===null){o.child=m;break}r=m.sibling,m.sibling=l,l=m,m=r}rf(o,!0,l,null,y);break;case"together":rf(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function rc(r,o){!(o.mode&1)&&r!==null&&(r.alternate=null,o.alternate=null,o.flags|=2)}function Wr(r,o,l){if(r!==null&&(o.dependencies=r.dependencies),Po|=o.lanes,!(l&o.childLanes))return null;if(r!==null&&o.child!==r.child)throw Error(t(153));if(o.child!==null){for(r=o.child,l=ki(r,r.pendingProps),o.child=l,l.return=o;r.sibling!==null;)r=r.sibling,l=l.sibling=ki(r,r.pendingProps),l.return=o;l.sibling=null}return o.child}function HS(r,o,l){switch(o.tag){case 3:Sy(o),xs();break;case 5:zg(o);break;case 1:on(o.type)&&Uu(o);break;case 4:Vh(o,o.stateNode.containerInfo);break;case 10:var h=o.type._context,m=o.memoizedProps.value;Je(Hu,h._currentValue),h._currentValue=m;break;case 13:if(h=o.memoizedState,h!==null)return h.dehydrated!==null?(Je(st,st.current&1),o.flags|=128,null):l&o.child.childLanes?Cy(r,o,l):(Je(st,st.current&1),r=Wr(r,o,l),r!==null?r.sibling:null);Je(st,st.current&1);break;case 19:if(h=(l&o.childLanes)!==0,r.flags&128){if(h)return Ay(r,o,l);o.flags|=128}if(m=o.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),Je(st,st.current),h)break;return null;case 22:case 23:return o.lanes=0,wy(r,o,l)}return Wr(r,o,l)}var xy,of,Py,ky;xy=function(r,o){for(var l=o.child;l!==null;){if(l.tag===5||l.tag===6)r.appendChild(l.stateNode);else if(l.tag!==4&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===o)break;for(;l.sibling===null;){if(l.return===null||l.return===o)return;l=l.return}l.sibling.return=l.return,l=l.sibling}},of=function(){},Py=function(r,o,l,h){var m=r.memoizedProps;if(m!==h){r=o.stateNode,Ao(pr.current);var y=null;switch(l){case"input":m=At(r,m),h=At(r,h),y=[];break;case"select":m=se({},m,{value:void 0}),h=se({},h,{value:void 0}),y=[];break;case"textarea":m=Ia(r,m),h=Ia(r,h),y=[];break;default:typeof m.onClick!="function"&&typeof h.onClick=="function"&&(r.onclick=Vu)}ka(l,h);var T;l=null;for(K in m)if(!h.hasOwnProperty(K)&&m.hasOwnProperty(K)&&m[K]!=null)if(K==="style"){var O=m[K];for(T in O)O.hasOwnProperty(T)&&(l||(l={}),l[T]="")}else K!=="dangerouslySetInnerHTML"&&K!=="children"&&K!=="suppressContentEditableWarning"&&K!=="suppressHydrationWarning"&&K!=="autoFocus"&&(s.hasOwnProperty(K)?y||(y=[]):(y=y||[]).push(K,null));for(K in h){var U=h[K];if(O=m!=null?m[K]:void 0,h.hasOwnProperty(K)&&U!==O&&(U!=null||O!=null))if(K==="style")if(O){for(T in O)!O.hasOwnProperty(T)||U&&U.hasOwnProperty(T)||(l||(l={}),l[T]="");for(T in U)U.hasOwnProperty(T)&&O[T]!==U[T]&&(l||(l={}),l[T]=U[T])}else l||(y||(y=[]),y.push(K,l)),l=U;else K==="dangerouslySetInnerHTML"?(U=U?U.__html:void 0,O=O?O.__html:void 0,U!=null&&O!==U&&(y=y||[]).push(K,U)):K==="children"?typeof U!="string"&&typeof U!="number"||(y=y||[]).push(K,""+U):K!=="suppressContentEditableWarning"&&K!=="suppressHydrationWarning"&&(s.hasOwnProperty(K)?(U!=null&&K==="onScroll"&&Ze("scroll",r),y||O===U||(y=[])):(y=y||[]).push(K,U))}l&&(y=y||[]).push("style",l);var K=y;(o.updateQueue=K)&&(o.flags|=4)}},ky=function(r,o,l,h){l!==h&&(o.flags|=4)};function cl(r,o){if(!rt)switch(r.tailMode){case"hidden":o=r.tail;for(var l=null;o!==null;)o.alternate!==null&&(l=o),o=o.sibling;l===null?r.tail=null:l.sibling=null;break;case"collapsed":l=r.tail;for(var h=null;l!==null;)l.alternate!==null&&(h=l),l=l.sibling;h===null?o||r.tail===null?r.tail=null:r.tail.sibling=null:h.sibling=null}}function $t(r){var o=r.alternate!==null&&r.alternate.child===r.child,l=0,h=0;if(o)for(var m=r.child;m!==null;)l|=m.lanes|m.childLanes,h|=m.subtreeFlags&14680064,h|=m.flags&14680064,m.return=r,m=m.sibling;else for(m=r.child;m!==null;)l|=m.lanes|m.childLanes,h|=m.subtreeFlags,h|=m.flags,m.return=r,m=m.sibling;return r.subtreeFlags|=h,r.childLanes=l,o}function qS(r,o,l){var h=o.pendingProps;switch(Rh(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return $t(o),null;case 1:return on(o.type)&&Fu(),$t(o),null;case 3:return h=o.stateNode,Ns(),et(rn),et(zt),Uh(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(r===null||r.child===null)&&($u(o)?o.flags|=4:r===null||r.memoizedState.isDehydrated&&!(o.flags&256)||(o.flags|=1024,Gn!==null&&(gf(Gn),Gn=null))),of(r,o),$t(o),null;case 5:Mh(o);var m=Ao(ol.current);if(l=o.type,r!==null&&o.stateNode!=null)Py(r,o,l,h,m),r.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!h){if(o.stateNode===null)throw Error(t(166));return $t(o),null}if(r=Ao(pr.current),$u(o)){h=o.stateNode,l=o.type;var y=o.memoizedProps;switch(h[fr]=o,h[el]=y,r=(o.mode&1)!==0,l){case"dialog":Ze("cancel",h),Ze("close",h);break;case"iframe":case"object":case"embed":Ze("load",h);break;case"video":case"audio":for(m=0;m<Xa.length;m++)Ze(Xa[m],h);break;case"source":Ze("error",h);break;case"img":case"image":case"link":Ze("error",h),Ze("load",h);break;case"details":Ze("toggle",h);break;case"input":In(h,y),Ze("invalid",h);break;case"select":h._wrapperState={wasMultiple:!!y.multiple},Ze("invalid",h);break;case"textarea":Qo(h,y),Ze("invalid",h)}ka(l,y),m=null;for(var T in y)if(y.hasOwnProperty(T)){var O=y[T];T==="children"?typeof O=="string"?h.textContent!==O&&(y.suppressHydrationWarning!==!0&&Lu(h.textContent,O,r),m=["children",O]):typeof O=="number"&&h.textContent!==""+O&&(y.suppressHydrationWarning!==!0&&Lu(h.textContent,O,r),m=["children",""+O]):s.hasOwnProperty(T)&&O!=null&&T==="onScroll"&&Ze("scroll",h)}switch(l){case"input":Me(h),Go(h,y,!0);break;case"textarea":Me(h),Ca(h);break;case"select":case"option":break;default:typeof y.onClick=="function"&&(h.onclick=Vu)}h=m,o.updateQueue=h,h!==null&&(o.flags|=4)}else{T=m.nodeType===9?m:m.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=_t(l)),r==="http://www.w3.org/1999/xhtml"?l==="script"?(r=T.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof h.is=="string"?r=T.createElement(l,{is:h.is}):(r=T.createElement(l),l==="select"&&(T=r,h.multiple?T.multiple=!0:h.size&&(T.size=h.size))):r=T.createElementNS(r,l),r[fr]=o,r[el]=h,xy(r,o,!1,!1),o.stateNode=r;e:{switch(T=ba(l,h),l){case"dialog":Ze("cancel",r),Ze("close",r),m=h;break;case"iframe":case"object":case"embed":Ze("load",r),m=h;break;case"video":case"audio":for(m=0;m<Xa.length;m++)Ze(Xa[m],r);m=h;break;case"source":Ze("error",r),m=h;break;case"img":case"image":case"link":Ze("error",r),Ze("load",r),m=h;break;case"details":Ze("toggle",r),m=h;break;case"input":In(r,h),m=At(r,h),Ze("invalid",r);break;case"option":m=h;break;case"select":r._wrapperState={wasMultiple:!!h.multiple},m=se({},h,{value:void 0}),Ze("invalid",r);break;case"textarea":Qo(r,h),m=Ia(r,h),Ze("invalid",r);break;default:m=h}ka(l,m),O=m;for(y in O)if(O.hasOwnProperty(y)){var U=O[y];y==="style"?xa(r,U):y==="dangerouslySetInnerHTML"?(U=U?U.__html:void 0,U!=null&&Ra(r,U)):y==="children"?typeof U=="string"?(l!=="textarea"||U!=="")&&li(r,U):typeof U=="number"&&li(r,""+U):y!=="suppressContentEditableWarning"&&y!=="suppressHydrationWarning"&&y!=="autoFocus"&&(s.hasOwnProperty(y)?U!=null&&y==="onScroll"&&Ze("scroll",r):U!=null&&B(r,y,U,T))}switch(l){case"input":Me(r),Go(r,h,!1);break;case"textarea":Me(r),Ca(r);break;case"option":h.value!=null&&r.setAttribute("value",""+_e(h.value));break;case"select":r.multiple=!!h.multiple,y=h.value,y!=null?kr(r,!!h.multiple,y,!1):h.defaultValue!=null&&kr(r,!!h.multiple,h.defaultValue,!0);break;default:typeof m.onClick=="function"&&(r.onclick=Vu)}switch(l){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}}h&&(o.flags|=4)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return $t(o),null;case 6:if(r&&o.stateNode!=null)ky(r,o,r.memoizedProps,h);else{if(typeof h!="string"&&o.stateNode===null)throw Error(t(166));if(l=Ao(ol.current),Ao(pr.current),$u(o)){if(h=o.stateNode,l=o.memoizedProps,h[fr]=o,(y=h.nodeValue!==l)&&(r=gn,r!==null))switch(r.tag){case 3:Lu(h.nodeValue,l,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&Lu(h.nodeValue,l,(r.mode&1)!==0)}y&&(o.flags|=4)}else h=(l.nodeType===9?l:l.ownerDocument).createTextNode(h),h[fr]=o,o.stateNode=h}return $t(o),null;case 13:if(et(st),h=o.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(rt&&yn!==null&&o.mode&1&&!(o.flags&128))Dg(),xs(),o.flags|=98560,y=!1;else if(y=$u(o),h!==null&&h.dehydrated!==null){if(r===null){if(!y)throw Error(t(318));if(y=o.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(t(317));y[fr]=o}else xs(),!(o.flags&128)&&(o.memoizedState=null),o.flags|=4;$t(o),y=!1}else Gn!==null&&(gf(Gn),Gn=null),y=!0;if(!y)return o.flags&65536?o:null}return o.flags&128?(o.lanes=l,o):(h=h!==null,h!==(r!==null&&r.memoizedState!==null)&&h&&(o.child.flags|=8192,o.mode&1&&(r===null||st.current&1?St===0&&(St=3):_f())),o.updateQueue!==null&&(o.flags|=4),$t(o),null);case 4:return Ns(),of(r,o),r===null&&Ja(o.stateNode.containerInfo),$t(o),null;case 10:return Nh(o.type._context),$t(o),null;case 17:return on(o.type)&&Fu(),$t(o),null;case 19:if(et(st),y=o.memoizedState,y===null)return $t(o),null;if(h=(o.flags&128)!==0,T=y.rendering,T===null)if(h)cl(y,!1);else{if(St!==0||r!==null&&r.flags&128)for(r=o.child;r!==null;){if(T=Qu(r),T!==null){for(o.flags|=128,cl(y,!1),h=T.updateQueue,h!==null&&(o.updateQueue=h,o.flags|=4),o.subtreeFlags=0,h=l,l=o.child;l!==null;)y=l,r=h,y.flags&=14680066,T=y.alternate,T===null?(y.childLanes=0,y.lanes=r,y.child=null,y.subtreeFlags=0,y.memoizedProps=null,y.memoizedState=null,y.updateQueue=null,y.dependencies=null,y.stateNode=null):(y.childLanes=T.childLanes,y.lanes=T.lanes,y.child=T.child,y.subtreeFlags=0,y.deletions=null,y.memoizedProps=T.memoizedProps,y.memoizedState=T.memoizedState,y.updateQueue=T.updateQueue,y.type=T.type,r=T.dependencies,y.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),l=l.sibling;return Je(st,st.current&1|2),o.child}r=r.sibling}y.tail!==null&&Xe()>Vs&&(o.flags|=128,h=!0,cl(y,!1),o.lanes=4194304)}else{if(!h)if(r=Qu(T),r!==null){if(o.flags|=128,h=!0,l=r.updateQueue,l!==null&&(o.updateQueue=l,o.flags|=4),cl(y,!0),y.tail===null&&y.tailMode==="hidden"&&!T.alternate&&!rt)return $t(o),null}else 2*Xe()-y.renderingStartTime>Vs&&l!==1073741824&&(o.flags|=128,h=!0,cl(y,!1),o.lanes=4194304);y.isBackwards?(T.sibling=o.child,o.child=T):(l=y.last,l!==null?l.sibling=T:o.child=T,y.last=T)}return y.tail!==null?(o=y.tail,y.rendering=o,y.tail=o.sibling,y.renderingStartTime=Xe(),o.sibling=null,l=st.current,Je(st,h?l&1|2:l&1),o):($t(o),null);case 22:case 23:return vf(),h=o.memoizedState!==null,r!==null&&r.memoizedState!==null!==h&&(o.flags|=8192),h&&o.mode&1?vn&1073741824&&($t(o),o.subtreeFlags&6&&(o.flags|=8192)):$t(o),null;case 24:return null;case 25:return null}throw Error(t(156,o.tag))}function KS(r,o){switch(Rh(o),o.tag){case 1:return on(o.type)&&Fu(),r=o.flags,r&65536?(o.flags=r&-65537|128,o):null;case 3:return Ns(),et(rn),et(zt),Uh(),r=o.flags,r&65536&&!(r&128)?(o.flags=r&-65537|128,o):null;case 5:return Mh(o),null;case 13:if(et(st),r=o.memoizedState,r!==null&&r.dehydrated!==null){if(o.alternate===null)throw Error(t(340));xs()}return r=o.flags,r&65536?(o.flags=r&-65537|128,o):null;case 19:return et(st),null;case 4:return Ns(),null;case 10:return Nh(o.type._context),null;case 22:case 23:return vf(),null;case 24:return null;default:return null}}var ic=!1,Wt=!1,GS=typeof WeakSet=="function"?WeakSet:Set,he=null;function Os(r,o){var l=r.ref;if(l!==null)if(typeof l=="function")try{l(null)}catch(h){ct(r,o,h)}else l.current=null}function sf(r,o,l){try{l()}catch(h){ct(r,o,h)}}var by=!1;function QS(r,o){if(yh=gi,r=ug(),uh(r)){if("selectionStart"in r)var l={start:r.selectionStart,end:r.selectionEnd};else e:{l=(l=r.ownerDocument)&&l.defaultView||window;var h=l.getSelection&&l.getSelection();if(h&&h.rangeCount!==0){l=h.anchorNode;var m=h.anchorOffset,y=h.focusNode;h=h.focusOffset;try{l.nodeType,y.nodeType}catch{l=null;break e}var T=0,O=-1,U=-1,K=0,te=0,re=r,ee=null;t:for(;;){for(var ce;re!==l||m!==0&&re.nodeType!==3||(O=T+m),re!==y||h!==0&&re.nodeType!==3||(U=T+h),re.nodeType===3&&(T+=re.nodeValue.length),(ce=re.firstChild)!==null;)ee=re,re=ce;for(;;){if(re===r)break t;if(ee===l&&++K===m&&(O=T),ee===y&&++te===h&&(U=T),(ce=re.nextSibling)!==null)break;re=ee,ee=re.parentNode}re=ce}l=O===-1||U===-1?null:{start:O,end:U}}else l=null}l=l||{start:0,end:0}}else l=null;for(vh={focusedElem:r,selectionRange:l},gi=!1,he=o;he!==null;)if(o=he,r=o.child,(o.subtreeFlags&1028)!==0&&r!==null)r.return=o,he=r;else for(;he!==null;){o=he;try{var fe=o.alternate;if(o.flags&1024)switch(o.tag){case 0:case 11:case 15:break;case 1:if(fe!==null){var me=fe.memoizedProps,ht=fe.memoizedState,H=o.stateNode,j=H.getSnapshotBeforeUpdate(o.elementType===o.type?me:Qn(o.type,me),ht);H.__reactInternalSnapshotBeforeUpdate=j}break;case 3:var q=o.stateNode.containerInfo;q.nodeType===1?q.textContent="":q.nodeType===9&&q.documentElement&&q.removeChild(q.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(oe){ct(o,o.return,oe)}if(r=o.sibling,r!==null){r.return=o.return,he=r;break}he=o.return}return fe=by,by=!1,fe}function dl(r,o,l){var h=o.updateQueue;if(h=h!==null?h.lastEffect:null,h!==null){var m=h=h.next;do{if((m.tag&r)===r){var y=m.destroy;m.destroy=void 0,y!==void 0&&sf(o,l,y)}m=m.next}while(m!==h)}}function oc(r,o){if(o=o.updateQueue,o=o!==null?o.lastEffect:null,o!==null){var l=o=o.next;do{if((l.tag&r)===r){var h=l.create;l.destroy=h()}l=l.next}while(l!==o)}}function af(r){var o=r.ref;if(o!==null){var l=r.stateNode;switch(r.tag){case 5:r=l;break;default:r=l}typeof o=="function"?o(r):o.current=r}}function Ny(r){var o=r.alternate;o!==null&&(r.alternate=null,Ny(o)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(o=r.stateNode,o!==null&&(delete o[fr],delete o[el],delete o[Th],delete o[bS],delete o[NS])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function Dy(r){return r.tag===5||r.tag===3||r.tag===4}function Oy(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||Dy(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function lf(r,o,l){var h=r.tag;if(h===5||h===6)r=r.stateNode,o?l.nodeType===8?l.parentNode.insertBefore(r,o):l.insertBefore(r,o):(l.nodeType===8?(o=l.parentNode,o.insertBefore(r,l)):(o=l,o.appendChild(r)),l=l._reactRootContainer,l!=null||o.onclick!==null||(o.onclick=Vu));else if(h!==4&&(r=r.child,r!==null))for(lf(r,o,l),r=r.sibling;r!==null;)lf(r,o,l),r=r.sibling}function uf(r,o,l){var h=r.tag;if(h===5||h===6)r=r.stateNode,o?l.insertBefore(r,o):l.appendChild(r);else if(h!==4&&(r=r.child,r!==null))for(uf(r,o,l),r=r.sibling;r!==null;)uf(r,o,l),r=r.sibling}var Lt=null,Yn=!1;function Ci(r,o,l){for(l=l.child;l!==null;)Ly(r,o,l),l=l.sibling}function Ly(r,o,l){if(hn&&typeof hn.onCommitFiberUnmount=="function")try{hn.onCommitFiberUnmount(mo,l)}catch{}switch(l.tag){case 5:Wt||Os(l,o);case 6:var h=Lt,m=Yn;Lt=null,Ci(r,o,l),Lt=h,Yn=m,Lt!==null&&(Yn?(r=Lt,l=l.stateNode,r.nodeType===8?r.parentNode.removeChild(l):r.removeChild(l)):Lt.removeChild(l.stateNode));break;case 18:Lt!==null&&(Yn?(r=Lt,l=l.stateNode,r.nodeType===8?Eh(r.parentNode,l):r.nodeType===1&&Eh(r,l),Hn(r)):Eh(Lt,l.stateNode));break;case 4:h=Lt,m=Yn,Lt=l.stateNode.containerInfo,Yn=!0,Ci(r,o,l),Lt=h,Yn=m;break;case 0:case 11:case 14:case 15:if(!Wt&&(h=l.updateQueue,h!==null&&(h=h.lastEffect,h!==null))){m=h=h.next;do{var y=m,T=y.destroy;y=y.tag,T!==void 0&&(y&2||y&4)&&sf(l,o,T),m=m.next}while(m!==h)}Ci(r,o,l);break;case 1:if(!Wt&&(Os(l,o),h=l.stateNode,typeof h.componentWillUnmount=="function"))try{h.props=l.memoizedProps,h.state=l.memoizedState,h.componentWillUnmount()}catch(O){ct(l,o,O)}Ci(r,o,l);break;case 21:Ci(r,o,l);break;case 22:l.mode&1?(Wt=(h=Wt)||l.memoizedState!==null,Ci(r,o,l),Wt=h):Ci(r,o,l);break;default:Ci(r,o,l)}}function Vy(r){var o=r.updateQueue;if(o!==null){r.updateQueue=null;var l=r.stateNode;l===null&&(l=r.stateNode=new GS),o.forEach(function(h){var m=iI.bind(null,r,h);l.has(h)||(l.add(h),h.then(m,m))})}}function Xn(r,o){var l=o.deletions;if(l!==null)for(var h=0;h<l.length;h++){var m=l[h];try{var y=r,T=o,O=T;e:for(;O!==null;){switch(O.tag){case 5:Lt=O.stateNode,Yn=!1;break e;case 3:Lt=O.stateNode.containerInfo,Yn=!0;break e;case 4:Lt=O.stateNode.containerInfo,Yn=!0;break e}O=O.return}if(Lt===null)throw Error(t(160));Ly(y,T,m),Lt=null,Yn=!1;var U=m.alternate;U!==null&&(U.return=null),m.return=null}catch(K){ct(m,o,K)}}if(o.subtreeFlags&12854)for(o=o.child;o!==null;)My(o,r),o=o.sibling}function My(r,o){var l=r.alternate,h=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(Xn(o,r),gr(r),h&4){try{dl(3,r,r.return),oc(3,r)}catch(me){ct(r,r.return,me)}try{dl(5,r,r.return)}catch(me){ct(r,r.return,me)}}break;case 1:Xn(o,r),gr(r),h&512&&l!==null&&Os(l,l.return);break;case 5:if(Xn(o,r),gr(r),h&512&&l!==null&&Os(l,l.return),r.flags&32){var m=r.stateNode;try{li(m,"")}catch(me){ct(r,r.return,me)}}if(h&4&&(m=r.stateNode,m!=null)){var y=r.memoizedProps,T=l!==null?l.memoizedProps:y,O=r.type,U=r.updateQueue;if(r.updateQueue=null,U!==null)try{O==="input"&&y.type==="radio"&&y.name!=null&&Ln(m,y),ba(O,T);var K=ba(O,y);for(T=0;T<U.length;T+=2){var te=U[T],re=U[T+1];te==="style"?xa(m,re):te==="dangerouslySetInnerHTML"?Ra(m,re):te==="children"?li(m,re):B(m,te,re,K)}switch(O){case"input":Vn(m,y);break;case"textarea":Yo(m,y);break;case"select":var ee=m._wrapperState.wasMultiple;m._wrapperState.wasMultiple=!!y.multiple;var ce=y.value;ce!=null?kr(m,!!y.multiple,ce,!1):ee!==!!y.multiple&&(y.defaultValue!=null?kr(m,!!y.multiple,y.defaultValue,!0):kr(m,!!y.multiple,y.multiple?[]:"",!1))}m[el]=y}catch(me){ct(r,r.return,me)}}break;case 6:if(Xn(o,r),gr(r),h&4){if(r.stateNode===null)throw Error(t(162));m=r.stateNode,y=r.memoizedProps;try{m.nodeValue=y}catch(me){ct(r,r.return,me)}}break;case 3:if(Xn(o,r),gr(r),h&4&&l!==null&&l.memoizedState.isDehydrated)try{Hn(o.containerInfo)}catch(me){ct(r,r.return,me)}break;case 4:Xn(o,r),gr(r);break;case 13:Xn(o,r),gr(r),m=r.child,m.flags&8192&&(y=m.memoizedState!==null,m.stateNode.isHidden=y,!y||m.alternate!==null&&m.alternate.memoizedState!==null||(hf=Xe())),h&4&&Vy(r);break;case 22:if(te=l!==null&&l.memoizedState!==null,r.mode&1?(Wt=(K=Wt)||te,Xn(o,r),Wt=K):Xn(o,r),gr(r),h&8192){if(K=r.memoizedState!==null,(r.stateNode.isHidden=K)&&!te&&r.mode&1)for(he=r,te=r.child;te!==null;){for(re=he=te;he!==null;){switch(ee=he,ce=ee.child,ee.tag){case 0:case 11:case 14:case 15:dl(4,ee,ee.return);break;case 1:Os(ee,ee.return);var fe=ee.stateNode;if(typeof fe.componentWillUnmount=="function"){h=ee,l=ee.return;try{o=h,fe.props=o.memoizedProps,fe.state=o.memoizedState,fe.componentWillUnmount()}catch(me){ct(h,l,me)}}break;case 5:Os(ee,ee.return);break;case 22:if(ee.memoizedState!==null){jy(re);continue}}ce!==null?(ce.return=ee,he=ce):jy(re)}te=te.sibling}e:for(te=null,re=r;;){if(re.tag===5){if(te===null){te=re;try{m=re.stateNode,K?(y=m.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none"):(O=re.stateNode,U=re.memoizedProps.style,T=U!=null&&U.hasOwnProperty("display")?U.display:null,O.style.display=Aa("display",T))}catch(me){ct(r,r.return,me)}}}else if(re.tag===6){if(te===null)try{re.stateNode.nodeValue=K?"":re.memoizedProps}catch(me){ct(r,r.return,me)}}else if((re.tag!==22&&re.tag!==23||re.memoizedState===null||re===r)&&re.child!==null){re.child.return=re,re=re.child;continue}if(re===r)break e;for(;re.sibling===null;){if(re.return===null||re.return===r)break e;te===re&&(te=null),re=re.return}te===re&&(te=null),re.sibling.return=re.return,re=re.sibling}}break;case 19:Xn(o,r),gr(r),h&4&&Vy(r);break;case 21:break;default:Xn(o,r),gr(r)}}function gr(r){var o=r.flags;if(o&2){try{e:{for(var l=r.return;l!==null;){if(Dy(l)){var h=l;break e}l=l.return}throw Error(t(160))}switch(h.tag){case 5:var m=h.stateNode;h.flags&32&&(li(m,""),h.flags&=-33);var y=Oy(r);uf(r,y,m);break;case 3:case 4:var T=h.stateNode.containerInfo,O=Oy(r);lf(r,O,T);break;default:throw Error(t(161))}}catch(U){ct(r,r.return,U)}r.flags&=-3}o&4096&&(r.flags&=-4097)}function YS(r,o,l){he=r,Fy(r)}function Fy(r,o,l){for(var h=(r.mode&1)!==0;he!==null;){var m=he,y=m.child;if(m.tag===22&&h){var T=m.memoizedState!==null||ic;if(!T){var O=m.alternate,U=O!==null&&O.memoizedState!==null||Wt;O=ic;var K=Wt;if(ic=T,(Wt=U)&&!K)for(he=m;he!==null;)T=he,U=T.child,T.tag===22&&T.memoizedState!==null?zy(m):U!==null?(U.return=T,he=U):zy(m);for(;y!==null;)he=y,Fy(y),y=y.sibling;he=m,ic=O,Wt=K}Uy(r)}else m.subtreeFlags&8772&&y!==null?(y.return=m,he=y):Uy(r)}}function Uy(r){for(;he!==null;){var o=he;if(o.flags&8772){var l=o.alternate;try{if(o.flags&8772)switch(o.tag){case 0:case 11:case 15:Wt||oc(5,o);break;case 1:var h=o.stateNode;if(o.flags&4&&!Wt)if(l===null)h.componentDidMount();else{var m=o.elementType===o.type?l.memoizedProps:Qn(o.type,l.memoizedProps);h.componentDidUpdate(m,l.memoizedState,h.__reactInternalSnapshotBeforeUpdate)}var y=o.updateQueue;y!==null&&jg(o,y,h);break;case 3:var T=o.updateQueue;if(T!==null){if(l=null,o.child!==null)switch(o.child.tag){case 5:l=o.child.stateNode;break;case 1:l=o.child.stateNode}jg(o,T,l)}break;case 5:var O=o.stateNode;if(l===null&&o.flags&4){l=O;var U=o.memoizedProps;switch(o.type){case"button":case"input":case"select":case"textarea":U.autoFocus&&l.focus();break;case"img":U.src&&(l.src=U.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(o.memoizedState===null){var K=o.alternate;if(K!==null){var te=K.memoizedState;if(te!==null){var re=te.dehydrated;re!==null&&Hn(re)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}Wt||o.flags&512&&af(o)}catch(ee){ct(o,o.return,ee)}}if(o===r){he=null;break}if(l=o.sibling,l!==null){l.return=o.return,he=l;break}he=o.return}}function jy(r){for(;he!==null;){var o=he;if(o===r){he=null;break}var l=o.sibling;if(l!==null){l.return=o.return,he=l;break}he=o.return}}function zy(r){for(;he!==null;){var o=he;try{switch(o.tag){case 0:case 11:case 15:var l=o.return;try{oc(4,o)}catch(U){ct(o,l,U)}break;case 1:var h=o.stateNode;if(typeof h.componentDidMount=="function"){var m=o.return;try{h.componentDidMount()}catch(U){ct(o,m,U)}}var y=o.return;try{af(o)}catch(U){ct(o,y,U)}break;case 5:var T=o.return;try{af(o)}catch(U){ct(o,T,U)}}}catch(U){ct(o,o.return,U)}if(o===r){he=null;break}var O=o.sibling;if(O!==null){O.return=o.return,he=O;break}he=o.return}}var XS=Math.ceil,sc=G.ReactCurrentDispatcher,cf=G.ReactCurrentOwner,Dn=G.ReactCurrentBatchConfig,qe=0,kt=null,mt=null,Vt=0,vn=0,Ls=wi(0),St=0,hl=null,Po=0,ac=0,df=0,fl=null,an=null,hf=0,Vs=1/0,Hr=null,lc=!1,ff=null,Ri=null,uc=!1,Ai=null,cc=0,pl=0,pf=null,dc=-1,hc=0;function en(){return qe&6?Xe():dc!==-1?dc:dc=Xe()}function xi(r){return r.mode&1?qe&2&&Vt!==0?Vt&-Vt:OS.transition!==null?(hc===0&&(hc=yo()),hc):(r=Be,r!==0||(r=window.event,r=r===void 0?16:Ba(r.type)),r):1}function Jn(r,o,l,h){if(50<pl)throw pl=0,pf=null,Error(t(185));hi(r,l,h),(!(qe&2)||r!==kt)&&(r===kt&&(!(qe&2)&&(ac|=l),St===4&&Pi(r,Vt)),ln(r,h),l===1&&qe===0&&!(o.mode&1)&&(Vs=Xe()+500,ju&&Ti()))}function ln(r,o){var l=r.callbackNode;Dr(r,o);var h=go(r,r===kt?Vt:0);if(h===0)l!==null&&Ma(l),r.callbackNode=null,r.callbackPriority=0;else if(o=h&-h,r.callbackPriority!==o){if(l!=null&&Ma(l),o===1)r.tag===0?DS($y.bind(null,r)):xg($y.bind(null,r)),PS(function(){!(qe&6)&&Ti()}),l=null;else{switch(pi(h)){case 1:l=po;break;case 4:l=ui;break;case 16:l=Rn;break;case 536870912:l=hu;break;default:l=Rn}l=Xy(l,By.bind(null,r))}r.callbackPriority=o,r.callbackNode=l}}function By(r,o){if(dc=-1,hc=0,qe&6)throw Error(t(327));var l=r.callbackNode;if(Ms()&&r.callbackNode!==l)return null;var h=go(r,r===kt?Vt:0);if(h===0)return null;if(h&30||h&r.expiredLanes||o)o=fc(r,h);else{o=h;var m=qe;qe|=2;var y=Hy();(kt!==r||Vt!==o)&&(Hr=null,Vs=Xe()+500,bo(r,o));do try{eI();break}catch(O){Wy(r,O)}while(!0);bh(),sc.current=y,qe=m,mt!==null?o=0:(kt=null,Vt=0,o=St)}if(o!==0){if(o===2&&(m=fn(r),m!==0&&(h=m,o=mf(r,m))),o===1)throw l=hl,bo(r,0),Pi(r,h),ln(r,Xe()),l;if(o===6)Pi(r,h);else{if(m=r.current.alternate,!(h&30)&&!JS(m)&&(o=fc(r,h),o===2&&(y=fn(r),y!==0&&(h=y,o=mf(r,y))),o===1))throw l=hl,bo(r,0),Pi(r,h),ln(r,Xe()),l;switch(r.finishedWork=m,r.finishedLanes=h,o){case 0:case 1:throw Error(t(345));case 2:No(r,an,Hr);break;case 3:if(Pi(r,h),(h&130023424)===h&&(o=hf+500-Xe(),10<o)){if(go(r,0)!==0)break;if(m=r.suspendedLanes,(m&h)!==h){en(),r.pingedLanes|=r.suspendedLanes&m;break}r.timeoutHandle=wh(No.bind(null,r,an,Hr),o);break}No(r,an,Hr);break;case 4:if(Pi(r,h),(h&4194240)===h)break;for(o=r.eventTimes,m=-1;0<h;){var T=31-Xt(h);y=1<<T,T=o[T],T>m&&(m=T),h&=~y}if(h=m,h=Xe()-h,h=(120>h?120:480>h?480:1080>h?1080:1920>h?1920:3e3>h?3e3:4320>h?4320:1960*XS(h/1960))-h,10<h){r.timeoutHandle=wh(No.bind(null,r,an,Hr),h);break}No(r,an,Hr);break;case 5:No(r,an,Hr);break;default:throw Error(t(329))}}}return ln(r,Xe()),r.callbackNode===l?By.bind(null,r):null}function mf(r,o){var l=fl;return r.current.memoizedState.isDehydrated&&(bo(r,o).flags|=256),r=fc(r,o),r!==2&&(o=an,an=l,o!==null&&gf(o)),r}function gf(r){an===null?an=r:an.push.apply(an,r)}function JS(r){for(var o=r;;){if(o.flags&16384){var l=o.updateQueue;if(l!==null&&(l=l.stores,l!==null))for(var h=0;h<l.length;h++){var m=l[h],y=m.getSnapshot;m=m.value;try{if(!Kn(y(),m))return!1}catch{return!1}}}if(l=o.child,o.subtreeFlags&16384&&l!==null)l.return=o,o=l;else{if(o===r)break;for(;o.sibling===null;){if(o.return===null||o.return===r)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Pi(r,o){for(o&=~df,o&=~ac,r.suspendedLanes|=o,r.pingedLanes&=~o,r=r.expirationTimes;0<o;){var l=31-Xt(o),h=1<<l;r[l]=-1,o&=~h}}function $y(r){if(qe&6)throw Error(t(327));Ms();var o=go(r,0);if(!(o&1))return ln(r,Xe()),null;var l=fc(r,o);if(r.tag!==0&&l===2){var h=fn(r);h!==0&&(o=h,l=mf(r,h))}if(l===1)throw l=hl,bo(r,0),Pi(r,o),ln(r,Xe()),l;if(l===6)throw Error(t(345));return r.finishedWork=r.current.alternate,r.finishedLanes=o,No(r,an,Hr),ln(r,Xe()),null}function yf(r,o){var l=qe;qe|=1;try{return r(o)}finally{qe=l,qe===0&&(Vs=Xe()+500,ju&&Ti())}}function ko(r){Ai!==null&&Ai.tag===0&&!(qe&6)&&Ms();var o=qe;qe|=1;var l=Dn.transition,h=Be;try{if(Dn.transition=null,Be=1,r)return r()}finally{Be=h,Dn.transition=l,qe=o,!(qe&6)&&Ti()}}function vf(){vn=Ls.current,et(Ls)}function bo(r,o){r.finishedWork=null,r.finishedLanes=0;var l=r.timeoutHandle;if(l!==-1&&(r.timeoutHandle=-1,xS(l)),mt!==null)for(l=mt.return;l!==null;){var h=l;switch(Rh(h),h.tag){case 1:h=h.type.childContextTypes,h!=null&&Fu();break;case 3:Ns(),et(rn),et(zt),Uh();break;case 5:Mh(h);break;case 4:Ns();break;case 13:et(st);break;case 19:et(st);break;case 10:Nh(h.type._context);break;case 22:case 23:vf()}l=l.return}if(kt=r,mt=r=ki(r.current,null),Vt=vn=o,St=0,hl=null,df=ac=Po=0,an=fl=null,Ro!==null){for(o=0;o<Ro.length;o++)if(l=Ro[o],h=l.interleaved,h!==null){l.interleaved=null;var m=h.next,y=l.pending;if(y!==null){var T=y.next;y.next=m,h.next=T}l.pending=h}Ro=null}return r}function Wy(r,o){do{var l=mt;try{if(bh(),Yu.current=ec,Xu){for(var h=at.memoizedState;h!==null;){var m=h.queue;m!==null&&(m.pending=null),h=h.next}Xu=!1}if(xo=0,Pt=Tt=at=null,sl=!1,al=0,cf.current=null,l===null||l.return===null){St=1,hl=o,mt=null;break}e:{var y=r,T=l.return,O=l,U=o;if(o=Vt,O.flags|=32768,U!==null&&typeof U=="object"&&typeof U.then=="function"){var K=U,te=O,re=te.tag;if(!(te.mode&1)&&(re===0||re===11||re===15)){var ee=te.alternate;ee?(te.updateQueue=ee.updateQueue,te.memoizedState=ee.memoizedState,te.lanes=ee.lanes):(te.updateQueue=null,te.memoizedState=null)}var ce=my(T);if(ce!==null){ce.flags&=-257,gy(ce,T,O,y,o),ce.mode&1&&py(y,K,o),o=ce,U=K;var fe=o.updateQueue;if(fe===null){var me=new Set;me.add(U),o.updateQueue=me}else fe.add(U);break e}else{if(!(o&1)){py(y,K,o),_f();break e}U=Error(t(426))}}else if(rt&&O.mode&1){var ht=my(T);if(ht!==null){!(ht.flags&65536)&&(ht.flags|=256),gy(ht,T,O,y,o),Ph(Ds(U,O));break e}}y=U=Ds(U,O),St!==4&&(St=2),fl===null?fl=[y]:fl.push(y),y=T;do{switch(y.tag){case 3:y.flags|=65536,o&=-o,y.lanes|=o;var H=hy(y,U,o);Ug(y,H);break e;case 1:O=U;var j=y.type,q=y.stateNode;if(!(y.flags&128)&&(typeof j.getDerivedStateFromError=="function"||q!==null&&typeof q.componentDidCatch=="function"&&(Ri===null||!Ri.has(q)))){y.flags|=65536,o&=-o,y.lanes|=o;var oe=fy(y,O,o);Ug(y,oe);break e}}y=y.return}while(y!==null)}Ky(l)}catch(ye){o=ye,mt===l&&l!==null&&(mt=l=l.return);continue}break}while(!0)}function Hy(){var r=sc.current;return sc.current=ec,r===null?ec:r}function _f(){(St===0||St===3||St===2)&&(St=4),kt===null||!(Po&268435455)&&!(ac&268435455)||Pi(kt,Vt)}function fc(r,o){var l=qe;qe|=2;var h=Hy();(kt!==r||Vt!==o)&&(Hr=null,bo(r,o));do try{ZS();break}catch(m){Wy(r,m)}while(!0);if(bh(),qe=l,sc.current=h,mt!==null)throw Error(t(261));return kt=null,Vt=0,St}function ZS(){for(;mt!==null;)qy(mt)}function eI(){for(;mt!==null&&!cu();)qy(mt)}function qy(r){var o=Yy(r.alternate,r,vn);r.memoizedProps=r.pendingProps,o===null?Ky(r):mt=o,cf.current=null}function Ky(r){var o=r;do{var l=o.alternate;if(r=o.return,o.flags&32768){if(l=KS(l,o),l!==null){l.flags&=32767,mt=l;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{St=6,mt=null;return}}else if(l=qS(l,o,vn),l!==null){mt=l;return}if(o=o.sibling,o!==null){mt=o;return}mt=o=r}while(o!==null);St===0&&(St=5)}function No(r,o,l){var h=Be,m=Dn.transition;try{Dn.transition=null,Be=1,tI(r,o,l,h)}finally{Dn.transition=m,Be=h}return null}function tI(r,o,l,h){do Ms();while(Ai!==null);if(qe&6)throw Error(t(327));l=r.finishedWork;var m=r.finishedLanes;if(l===null)return null;if(r.finishedWork=null,r.finishedLanes=0,l===r.current)throw Error(t(177));r.callbackNode=null,r.callbackPriority=0;var y=l.lanes|l.childLanes;if(Ye(r,y),r===kt&&(mt=kt=null,Vt=0),!(l.subtreeFlags&2064)&&!(l.flags&2064)||uc||(uc=!0,Xy(Rn,function(){return Ms(),null})),y=(l.flags&15990)!==0,l.subtreeFlags&15990||y){y=Dn.transition,Dn.transition=null;var T=Be;Be=1;var O=qe;qe|=4,cf.current=null,QS(r,l),My(l,r),ES(vh),gi=!!yh,vh=yh=null,r.current=l,YS(l),th(),qe=O,Be=T,Dn.transition=y}else r.current=l;if(uc&&(uc=!1,Ai=r,cc=m),y=r.pendingLanes,y===0&&(Ri=null),fu(l.stateNode),ln(r,Xe()),o!==null)for(h=r.onRecoverableError,l=0;l<o.length;l++)m=o[l],h(m.value,{componentStack:m.stack,digest:m.digest});if(lc)throw lc=!1,r=ff,ff=null,r;return cc&1&&r.tag!==0&&Ms(),y=r.pendingLanes,y&1?r===pf?pl++:(pl=0,pf=r):pl=0,Ti(),null}function Ms(){if(Ai!==null){var r=pi(cc),o=Dn.transition,l=Be;try{if(Dn.transition=null,Be=16>r?16:r,Ai===null)var h=!1;else{if(r=Ai,Ai=null,cc=0,qe&6)throw Error(t(331));var m=qe;for(qe|=4,he=r.current;he!==null;){var y=he,T=y.child;if(he.flags&16){var O=y.deletions;if(O!==null){for(var U=0;U<O.length;U++){var K=O[U];for(he=K;he!==null;){var te=he;switch(te.tag){case 0:case 11:case 15:dl(8,te,y)}var re=te.child;if(re!==null)re.return=te,he=re;else for(;he!==null;){te=he;var ee=te.sibling,ce=te.return;if(Ny(te),te===K){he=null;break}if(ee!==null){ee.return=ce,he=ee;break}he=ce}}}var fe=y.alternate;if(fe!==null){var me=fe.child;if(me!==null){fe.child=null;do{var ht=me.sibling;me.sibling=null,me=ht}while(me!==null)}}he=y}}if(y.subtreeFlags&2064&&T!==null)T.return=y,he=T;else e:for(;he!==null;){if(y=he,y.flags&2048)switch(y.tag){case 0:case 11:case 15:dl(9,y,y.return)}var H=y.sibling;if(H!==null){H.return=y.return,he=H;break e}he=y.return}}var j=r.current;for(he=j;he!==null;){T=he;var q=T.child;if(T.subtreeFlags&2064&&q!==null)q.return=T,he=q;else e:for(T=j;he!==null;){if(O=he,O.flags&2048)try{switch(O.tag){case 0:case 11:case 15:oc(9,O)}}catch(ye){ct(O,O.return,ye)}if(O===T){he=null;break e}var oe=O.sibling;if(oe!==null){oe.return=O.return,he=oe;break e}he=O.return}}if(qe=m,Ti(),hn&&typeof hn.onPostCommitFiberRoot=="function")try{hn.onPostCommitFiberRoot(mo,r)}catch{}h=!0}return h}finally{Be=l,Dn.transition=o}}return!1}function Gy(r,o,l){o=Ds(l,o),o=hy(r,o,1),r=Ii(r,o,1),o=en(),r!==null&&(hi(r,1,o),ln(r,o))}function ct(r,o,l){if(r.tag===3)Gy(r,r,l);else for(;o!==null;){if(o.tag===3){Gy(o,r,l);break}else if(o.tag===1){var h=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(Ri===null||!Ri.has(h))){r=Ds(l,r),r=fy(o,r,1),o=Ii(o,r,1),r=en(),o!==null&&(hi(o,1,r),ln(o,r));break}}o=o.return}}function nI(r,o,l){var h=r.pingCache;h!==null&&h.delete(o),o=en(),r.pingedLanes|=r.suspendedLanes&l,kt===r&&(Vt&l)===l&&(St===4||St===3&&(Vt&130023424)===Vt&&500>Xe()-hf?bo(r,0):df|=l),ln(r,o)}function Qy(r,o){o===0&&(r.mode&1?(o=ss,ss<<=1,!(ss&130023424)&&(ss=4194304)):o=1);var l=en();r=Br(r,o),r!==null&&(hi(r,o,l),ln(r,l))}function rI(r){var o=r.memoizedState,l=0;o!==null&&(l=o.retryLane),Qy(r,l)}function iI(r,o){var l=0;switch(r.tag){case 13:var h=r.stateNode,m=r.memoizedState;m!==null&&(l=m.retryLane);break;case 19:h=r.stateNode;break;default:throw Error(t(314))}h!==null&&h.delete(o),Qy(r,l)}var Yy;Yy=function(r,o,l){if(r!==null)if(r.memoizedProps!==o.pendingProps||rn.current)sn=!0;else{if(!(r.lanes&l)&&!(o.flags&128))return sn=!1,HS(r,o,l);sn=!!(r.flags&131072)}else sn=!1,rt&&o.flags&1048576&&Pg(o,Bu,o.index);switch(o.lanes=0,o.tag){case 2:var h=o.type;rc(r,o),r=o.pendingProps;var m=Cs(o,zt.current);bs(o,l),m=Bh(null,o,h,r,m,l);var y=$h();return o.flags|=1,typeof m=="object"&&m!==null&&typeof m.render=="function"&&m.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,on(h)?(y=!0,Uu(o)):y=!1,o.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,Lh(o),m.updater=tc,o.stateNode=m,m._reactInternals=o,Qh(o,h,r,l),o=Zh(null,o,h,!0,y,l)):(o.tag=0,rt&&y&&Ch(o),Zt(null,o,m,l),o=o.child),o;case 16:h=o.elementType;e:{switch(rc(r,o),r=o.pendingProps,m=h._init,h=m(h._payload),o.type=h,m=o.tag=sI(h),r=Qn(h,r),m){case 0:o=Jh(null,o,h,r,l);break e;case 1:o=Ty(null,o,h,r,l);break e;case 11:o=yy(null,o,h,r,l);break e;case 14:o=vy(null,o,h,Qn(h.type,r),l);break e}throw Error(t(306,h,""))}return o;case 0:return h=o.type,m=o.pendingProps,m=o.elementType===h?m:Qn(h,m),Jh(r,o,h,m,l);case 1:return h=o.type,m=o.pendingProps,m=o.elementType===h?m:Qn(h,m),Ty(r,o,h,m,l);case 3:e:{if(Sy(o),r===null)throw Error(t(387));h=o.pendingProps,y=o.memoizedState,m=y.element,Fg(r,o),Gu(o,h,null,l);var T=o.memoizedState;if(h=T.element,y.isDehydrated)if(y={element:h,isDehydrated:!1,cache:T.cache,pendingSuspenseBoundaries:T.pendingSuspenseBoundaries,transitions:T.transitions},o.updateQueue.baseState=y,o.memoizedState=y,o.flags&256){m=Ds(Error(t(423)),o),o=Iy(r,o,h,l,m);break e}else if(h!==m){m=Ds(Error(t(424)),o),o=Iy(r,o,h,l,m);break e}else for(yn=_i(o.stateNode.containerInfo.firstChild),gn=o,rt=!0,Gn=null,l=Vg(o,null,h,l),o.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(xs(),h===m){o=Wr(r,o,l);break e}Zt(r,o,h,l)}o=o.child}return o;case 5:return zg(o),r===null&&xh(o),h=o.type,m=o.pendingProps,y=r!==null?r.memoizedProps:null,T=m.children,_h(h,m)?T=null:y!==null&&_h(h,y)&&(o.flags|=32),Ey(r,o),Zt(r,o,T,l),o.child;case 6:return r===null&&xh(o),null;case 13:return Cy(r,o,l);case 4:return Vh(o,o.stateNode.containerInfo),h=o.pendingProps,r===null?o.child=Ps(o,null,h,l):Zt(r,o,h,l),o.child;case 11:return h=o.type,m=o.pendingProps,m=o.elementType===h?m:Qn(h,m),yy(r,o,h,m,l);case 7:return Zt(r,o,o.pendingProps,l),o.child;case 8:return Zt(r,o,o.pendingProps.children,l),o.child;case 12:return Zt(r,o,o.pendingProps.children,l),o.child;case 10:e:{if(h=o.type._context,m=o.pendingProps,y=o.memoizedProps,T=m.value,Je(Hu,h._currentValue),h._currentValue=T,y!==null)if(Kn(y.value,T)){if(y.children===m.children&&!rn.current){o=Wr(r,o,l);break e}}else for(y=o.child,y!==null&&(y.return=o);y!==null;){var O=y.dependencies;if(O!==null){T=y.child;for(var U=O.firstContext;U!==null;){if(U.context===h){if(y.tag===1){U=$r(-1,l&-l),U.tag=2;var K=y.updateQueue;if(K!==null){K=K.shared;var te=K.pending;te===null?U.next=U:(U.next=te.next,te.next=U),K.pending=U}}y.lanes|=l,U=y.alternate,U!==null&&(U.lanes|=l),Dh(y.return,l,o),O.lanes|=l;break}U=U.next}}else if(y.tag===10)T=y.type===o.type?null:y.child;else if(y.tag===18){if(T=y.return,T===null)throw Error(t(341));T.lanes|=l,O=T.alternate,O!==null&&(O.lanes|=l),Dh(T,l,o),T=y.sibling}else T=y.child;if(T!==null)T.return=y;else for(T=y;T!==null;){if(T===o){T=null;break}if(y=T.sibling,y!==null){y.return=T.return,T=y;break}T=T.return}y=T}Zt(r,o,m.children,l),o=o.child}return o;case 9:return m=o.type,h=o.pendingProps.children,bs(o,l),m=bn(m),h=h(m),o.flags|=1,Zt(r,o,h,l),o.child;case 14:return h=o.type,m=Qn(h,o.pendingProps),m=Qn(h.type,m),vy(r,o,h,m,l);case 15:return _y(r,o,o.type,o.pendingProps,l);case 17:return h=o.type,m=o.pendingProps,m=o.elementType===h?m:Qn(h,m),rc(r,o),o.tag=1,on(h)?(r=!0,Uu(o)):r=!1,bs(o,l),cy(o,h,m),Qh(o,h,m,l),Zh(null,o,h,!0,r,l);case 19:return Ay(r,o,l);case 22:return wy(r,o,l)}throw Error(t(156,o.tag))};function Xy(r,o){return is(r,o)}function oI(r,o,l,h){this.tag=r,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function On(r,o,l,h){return new oI(r,o,l,h)}function wf(r){return r=r.prototype,!(!r||!r.isReactComponent)}function sI(r){if(typeof r=="function")return wf(r)?1:0;if(r!=null){if(r=r.$$typeof,r===M)return 11;if(r===Oe)return 14}return 2}function ki(r,o){var l=r.alternate;return l===null?(l=On(r.tag,o,r.key,r.mode),l.elementType=r.elementType,l.type=r.type,l.stateNode=r.stateNode,l.alternate=r,r.alternate=l):(l.pendingProps=o,l.type=r.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=r.flags&14680064,l.childLanes=r.childLanes,l.lanes=r.lanes,l.child=r.child,l.memoizedProps=r.memoizedProps,l.memoizedState=r.memoizedState,l.updateQueue=r.updateQueue,o=r.dependencies,l.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},l.sibling=r.sibling,l.index=r.index,l.ref=r.ref,l}function pc(r,o,l,h,m,y){var T=2;if(h=r,typeof r=="function")wf(r)&&(T=1);else if(typeof r=="string")T=5;else e:switch(r){case b:return Do(l.children,m,y,o);case P:T=8,m|=8;break;case k:return r=On(12,l,o,m|2),r.elementType=k,r.lanes=y,r;case N:return r=On(13,l,o,m),r.elementType=N,r.lanes=y,r;case ve:return r=On(19,l,o,m),r.elementType=ve,r.lanes=y,r;case ge:return mc(l,m,y,o);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case V:T=10;break e;case F:T=9;break e;case M:T=11;break e;case Oe:T=14;break e;case Ee:T=16,h=null;break e}throw Error(t(130,r==null?r:typeof r,""))}return o=On(T,l,o,m),o.elementType=r,o.type=h,o.lanes=y,o}function Do(r,o,l,h){return r=On(7,r,h,o),r.lanes=l,r}function mc(r,o,l,h){return r=On(22,r,h,o),r.elementType=ge,r.lanes=l,r.stateNode={isHidden:!1},r}function Ef(r,o,l){return r=On(6,r,null,o),r.lanes=l,r}function Tf(r,o,l){return o=On(4,r.children!==null?r.children:[],r.key,o),o.lanes=l,o.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},o}function aI(r,o,l,h,m){this.tag=o,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=di(0),this.expirationTimes=di(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=di(0),this.identifierPrefix=h,this.onRecoverableError=m,this.mutableSourceEagerHydrationData=null}function Sf(r,o,l,h,m,y,T,O,U){return r=new aI(r,o,l,O,U),o===1?(o=1,y===!0&&(o|=8)):o=0,y=On(3,null,null,o),r.current=y,y.stateNode=r,y.memoizedState={element:h,isDehydrated:l,cache:null,transitions:null,pendingSuspenseBoundaries:null},Lh(y),r}function lI(r,o,l){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ie,key:h==null?null:""+h,children:r,containerInfo:o,implementation:l}}function Jy(r){if(!r)return Ei;r=r._reactInternals;e:{if(jn(r)!==r||r.tag!==1)throw Error(t(170));var o=r;do{switch(o.tag){case 3:o=o.stateNode.context;break e;case 1:if(on(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break e}}o=o.return}while(o!==null);throw Error(t(171))}if(r.tag===1){var l=r.type;if(on(l))return Rg(r,l,o)}return o}function Zy(r,o,l,h,m,y,T,O,U){return r=Sf(l,h,!0,r,m,y,T,O,U),r.context=Jy(null),l=r.current,h=en(),m=xi(l),y=$r(h,m),y.callback=o??null,Ii(l,y,m),r.current.lanes=m,hi(r,m,h),ln(r,h),r}function gc(r,o,l,h){var m=o.current,y=en(),T=xi(m);return l=Jy(l),o.context===null?o.context=l:o.pendingContext=l,o=$r(y,T),o.payload={element:r},h=h===void 0?null:h,h!==null&&(o.callback=h),r=Ii(m,o,T),r!==null&&(Jn(r,m,T,y),Ku(r,m,T)),T}function yc(r){if(r=r.current,!r.child)return null;switch(r.child.tag){case 5:return r.child.stateNode;default:return r.child.stateNode}}function ev(r,o){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var l=r.retryLane;r.retryLane=l!==0&&l<o?l:o}}function If(r,o){ev(r,o),(r=r.alternate)&&ev(r,o)}function uI(){return null}var tv=typeof reportError=="function"?reportError:function(r){console.error(r)};function Cf(r){this._internalRoot=r}vc.prototype.render=Cf.prototype.render=function(r){var o=this._internalRoot;if(o===null)throw Error(t(409));gc(r,o,null,null)},vc.prototype.unmount=Cf.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var o=r.containerInfo;ko(function(){gc(null,r,null,null)}),o[Fr]=null}};function vc(r){this._internalRoot=r}vc.prototype.unstable_scheduleHydration=function(r){if(r){var o=vu();r={blockedOn:null,target:r,priority:o};for(var l=0;l<ur.length&&o!==0&&o<ur[l].priority;l++);ur.splice(l,0,r),l===0&&Eu(r)}};function Rf(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function _c(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function nv(){}function cI(r,o,l,h,m){if(m){if(typeof h=="function"){var y=h;h=function(){var K=yc(T);y.call(K)}}var T=Zy(o,h,r,0,null,!1,!1,"",nv);return r._reactRootContainer=T,r[Fr]=T.current,Ja(r.nodeType===8?r.parentNode:r),ko(),T}for(;m=r.lastChild;)r.removeChild(m);if(typeof h=="function"){var O=h;h=function(){var K=yc(U);O.call(K)}}var U=Sf(r,0,!1,null,null,!1,!1,"",nv);return r._reactRootContainer=U,r[Fr]=U.current,Ja(r.nodeType===8?r.parentNode:r),ko(function(){gc(o,U,l,h)}),U}function wc(r,o,l,h,m){var y=l._reactRootContainer;if(y){var T=y;if(typeof m=="function"){var O=m;m=function(){var U=yc(T);O.call(U)}}gc(o,T,r,m)}else T=cI(l,o,r,m,h);return yc(T)}gu=function(r){switch(r.tag){case 3:var o=r.stateNode;if(o.current.memoizedState.isDehydrated){var l=ci(o.pendingLanes);l!==0&&(fi(o,l|1),ln(o,Xe()),!(qe&6)&&(Vs=Xe()+500,Ti()))}break;case 13:ko(function(){var h=Br(r,1);if(h!==null){var m=en();Jn(h,r,1,m)}}),If(r,1)}},as=function(r){if(r.tag===13){var o=Br(r,134217728);if(o!==null){var l=en();Jn(o,r,134217728,l)}If(r,134217728)}},yu=function(r){if(r.tag===13){var o=xi(r),l=Br(r,o);if(l!==null){var h=en();Jn(l,r,o,h)}If(r,o)}},vu=function(){return Be},_u=function(r,o){var l=Be;try{return Be=r,o()}finally{Be=l}},Jo=function(r,o,l){switch(o){case"input":if(Vn(r,l),o=l.name,l.type==="radio"&&o!=null){for(l=r;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),o=0;o<l.length;o++){var h=l[o];if(h!==r&&h.form===r.form){var m=Mu(h);if(!m)throw Error(t(90));ze(h),Vn(h,m)}}}break;case"textarea":Yo(r,l);break;case"select":o=l.value,o!=null&&kr(r,!!l.multiple,o,!1)}},uo=yf,Da=ko;var dI={usingClientEntryPoint:!1,Events:[tl,Ss,Mu,ar,Na,yf]},ml={findFiberByHostInstance:To,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},hI={bundleType:ml.bundleType,version:ml.version,rendererPackageName:ml.rendererPackageName,rendererConfig:ml.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:G.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=Va(r),r===null?null:r.stateNode},findFiberByHostInstance:ml.findFiberByHostInstance||uI,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ec=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ec.isDisabled&&Ec.supportsFiber)try{mo=Ec.inject(hI),hn=Ec}catch{}}return un.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=dI,un.createPortal=function(r,o){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Rf(o))throw Error(t(200));return lI(r,o,null,l)},un.createRoot=function(r,o){if(!Rf(r))throw Error(t(299));var l=!1,h="",m=tv;return o!=null&&(o.unstable_strictMode===!0&&(l=!0),o.identifierPrefix!==void 0&&(h=o.identifierPrefix),o.onRecoverableError!==void 0&&(m=o.onRecoverableError)),o=Sf(r,1,!1,null,null,l,!1,h,m),r[Fr]=o.current,Ja(r.nodeType===8?r.parentNode:r),new Cf(o)},un.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var o=r._reactInternals;if(o===void 0)throw typeof r.render=="function"?Error(t(188)):(r=Object.keys(r).join(","),Error(t(268,r)));return r=Va(o),r=r===null?null:r.stateNode,r},un.flushSync=function(r){return ko(r)},un.hydrate=function(r,o,l){if(!_c(o))throw Error(t(200));return wc(null,r,o,!0,l)},un.hydrateRoot=function(r,o,l){if(!Rf(r))throw Error(t(405));var h=l!=null&&l.hydratedSources||null,m=!1,y="",T=tv;if(l!=null&&(l.unstable_strictMode===!0&&(m=!0),l.identifierPrefix!==void 0&&(y=l.identifierPrefix),l.onRecoverableError!==void 0&&(T=l.onRecoverableError)),o=Zy(o,null,r,1,l??null,m,!1,y,T),r[Fr]=o.current,Ja(r),h)for(r=0;r<h.length;r++)l=h[r],m=l._getVersion,m=m(l._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[l,m]:o.mutableSourceEagerHydrationData.push(l,m);return new vc(o)},un.render=function(r,o,l){if(!_c(o))throw Error(t(200));return wc(null,r,o,!1,l)},un.unmountComponentAtNode=function(r){if(!_c(r))throw Error(t(40));return r._reactRootContainer?(ko(function(){wc(null,null,r,!1,function(){r._reactRootContainer=null,r[Fr]=null})}),!0):!1},un.unstable_batchedUpdates=yf,un.unstable_renderSubtreeIntoContainer=function(r,o,l,h){if(!_c(l))throw Error(t(200));if(r==null||r._reactInternals===void 0)throw Error(t(38));return wc(r,o,l,!1,h)},un.version="18.3.1-next-f1338f8080-20240426",un}var cv;function iw(){if(cv)return Pf.exports;cv=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Pf.exports=EI(),Pf.exports}var dv;function TI(){if(dv)return Tc;dv=1;var n=iw();return Tc.createRoot=n.createRoot,Tc.hydrateRoot=n.hydrateRoot,Tc}var SI=TI(),yl={},hv;function II(){if(hv)return yl;hv=1,Object.defineProperty(yl,"__esModule",{value:!0}),yl.parse=u,yl.serialize=p;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,s=Object.prototype.toString,a=(()=>{const E=function(){};return E.prototype=Object.create(null),E})();function u(E,R){const x=new a,I=E.length;if(I<2)return x;const C=(R==null?void 0:R.decode)||v;let D=0;do{const L=E.indexOf("=",D);if(L===-1)break;const B=E.indexOf(";",D),G=B===-1?I:B;if(L>G){D=E.lastIndexOf(";",L-1)+1;continue}const X=d(E,D,L),ie=f(E,L,X),b=E.slice(X,ie);if(x[b]===void 0){let P=d(E,L+1,G),k=f(E,G,P);const V=C(E.slice(P,k));x[b]=V}D=G+1}while(D<I);return x}function d(E,R,x){do{const I=E.charCodeAt(R);if(I!==32&&I!==9)return R}while(++R<x);return x}function f(E,R,x){for(;R>x;){const I=E.charCodeAt(--R);if(I!==32&&I!==9)return R+1}return x}function p(E,R,x){const I=(x==null?void 0:x.encode)||encodeURIComponent;if(!n.test(E))throw new TypeError(`argument name is invalid: ${E}`);const C=I(R);if(!e.test(C))throw new TypeError(`argument val is invalid: ${R}`);let D=E+"="+C;if(!x)return D;if(x.maxAge!==void 0){if(!Number.isInteger(x.maxAge))throw new TypeError(`option maxAge is invalid: ${x.maxAge}`);D+="; Max-Age="+x.maxAge}if(x.domain){if(!t.test(x.domain))throw new TypeError(`option domain is invalid: ${x.domain}`);D+="; Domain="+x.domain}if(x.path){if(!i.test(x.path))throw new TypeError(`option path is invalid: ${x.path}`);D+="; Path="+x.path}if(x.expires){if(!w(x.expires)||!Number.isFinite(x.expires.valueOf()))throw new TypeError(`option expires is invalid: ${x.expires}`);D+="; Expires="+x.expires.toUTCString()}if(x.httpOnly&&(D+="; HttpOnly"),x.secure&&(D+="; Secure"),x.partitioned&&(D+="; Partitioned"),x.priority)switch(typeof x.priority=="string"?x.priority.toLowerCase():void 0){case"low":D+="; Priority=Low";break;case"medium":D+="; Priority=Medium";break;case"high":D+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${x.priority}`)}if(x.sameSite)switch(typeof x.sameSite=="string"?x.sameSite.toLowerCase():x.sameSite){case!0:case"strict":D+="; SameSite=Strict";break;case"lax":D+="; SameSite=Lax";break;case"none":D+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${x.sameSite}`)}return D}function v(E){if(E.indexOf("%")===-1)return E;try{return decodeURIComponent(E)}catch{return E}}function w(E){return s.call(E)==="[object Date]"}return yl}II();/**
 * react-router v7.0.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var fv="popstate";function CI(n={}){function e(i,s){let{pathname:a,search:u,hash:d}=i.location;return np("",{pathname:a,search:u,hash:d},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function t(i,s){return typeof s=="string"?s:Nl(s)}return AI(e,t,null,n)}function ot(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function nr(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function RI(){return Math.random().toString(36).substring(2,10)}function pv(n,e){return{usr:n.state,key:n.key,idx:e}}function np(n,e,t=null,i){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?da(e):e,state:t,key:e&&e.key||i||RI()}}function Nl({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function da(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substring(i),n=n.substring(0,i)),n&&(e.pathname=n)}return e}function AI(n,e,t,i={}){let{window:s=document.defaultView,v5Compat:a=!1}=i,u=s.history,d="POP",f=null,p=v();p==null&&(p=0,u.replaceState({...u.state,idx:p},""));function v(){return(u.state||{idx:null}).idx}function w(){d="POP";let C=v(),D=C==null?null:C-p;p=C,f&&f({action:d,location:I.location,delta:D})}function E(C,D){d="PUSH";let L=np(I.location,C,D);p=v()+1;let B=pv(L,p),G=I.createHref(L);try{u.pushState(B,"",G)}catch(X){if(X instanceof DOMException&&X.name==="DataCloneError")throw X;s.location.assign(G)}a&&f&&f({action:d,location:I.location,delta:1})}function R(C,D){d="REPLACE";let L=np(I.location,C,D);p=v();let B=pv(L,p),G=I.createHref(L);u.replaceState(B,"",G),a&&f&&f({action:d,location:I.location,delta:0})}function x(C){let D=s.location.origin!=="null"?s.location.origin:s.location.href,L=typeof C=="string"?C:Nl(C);return L=L.replace(/ $/,"%20"),ot(D,`No window.location.(origin|href) available to create URL for href: ${L}`),new URL(L,D)}let I={get action(){return d},get location(){return n(s,u)},listen(C){if(f)throw new Error("A history only accepts one active listener");return s.addEventListener(fv,w),f=C,()=>{s.removeEventListener(fv,w),f=null}},createHref(C){return e(s,C)},createURL:x,encodeLocation(C){let D=x(C);return{pathname:D.pathname,search:D.search,hash:D.hash}},push:E,replace:R,go(C){return u.go(C)}};return I}function ow(n,e,t="/"){return xI(n,e,t,!1)}function xI(n,e,t,i){let s=typeof e=="string"?da(e):e,a=Hi(s.pathname||"/",t);if(a==null)return null;let u=sw(n);PI(u);let d=null;for(let f=0;d==null&&f<u.length;++f){let p=jI(a);d=FI(u[f],p,i)}return d}function sw(n,e=[],t=[],i=""){let s=(a,u,d)=>{let f={relativePath:d===void 0?a.path||"":d,caseSensitive:a.caseSensitive===!0,childrenIndex:u,route:a};f.relativePath.startsWith("/")&&(ot(f.relativePath.startsWith(i),`Absolute route path "${f.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(i.length));let p=Jr([i,f.relativePath]),v=t.concat(f);a.children&&a.children.length>0&&(ot(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),sw(a.children,e,v,p)),!(a.path==null&&!a.index)&&e.push({path:p,score:VI(p,a.index),routesMeta:v})};return n.forEach((a,u)=>{var d;if(a.path===""||!((d=a.path)!=null&&d.includes("?")))s(a,u);else for(let f of aw(a.path))s(a,u,f)}),e}function aw(n){let e=n.split("/");if(e.length===0)return[];let[t,...i]=e,s=t.endsWith("?"),a=t.replace(/\?$/,"");if(i.length===0)return s?[a,""]:[a];let u=aw(i.join("/")),d=[];return d.push(...u.map(f=>f===""?a:[a,f].join("/"))),s&&d.push(...u),d.map(f=>n.startsWith("/")&&f===""?"/":f)}function PI(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:MI(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}var kI=/^:[\w-]+$/,bI=3,NI=2,DI=1,OI=10,LI=-2,mv=n=>n==="*";function VI(n,e){let t=n.split("/"),i=t.length;return t.some(mv)&&(i+=LI),e&&(i+=NI),t.filter(s=>!mv(s)).reduce((s,a)=>s+(kI.test(a)?bI:a===""?DI:OI),i)}function MI(n,e){return n.length===e.length&&n.slice(0,-1).every((i,s)=>i===e[s])?n[n.length-1]-e[e.length-1]:0}function FI(n,e,t=!1){let{routesMeta:i}=n,s={},a="/",u=[];for(let d=0;d<i.length;++d){let f=i[d],p=d===i.length-1,v=a==="/"?e:e.slice(a.length)||"/",w=Yc({path:f.relativePath,caseSensitive:f.caseSensitive,end:p},v),E=f.route;if(!w&&p&&t&&!i[i.length-1].route.index&&(w=Yc({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},v)),!w)return null;Object.assign(s,w.params),u.push({params:s,pathname:Jr([a,w.pathname]),pathnameBase:WI(Jr([a,w.pathnameBase])),route:E}),w.pathnameBase!=="/"&&(a=Jr([a,w.pathnameBase]))}return u}function Yc(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,i]=UI(n.path,n.caseSensitive,n.end),s=e.match(t);if(!s)return null;let a=s[0],u=a.replace(/(.)\/+$/,"$1"),d=s.slice(1);return{params:i.reduce((p,{paramName:v,isOptional:w},E)=>{if(v==="*"){let x=d[E]||"";u=a.slice(0,a.length-x.length).replace(/(.)\/+$/,"$1")}const R=d[E];return w&&!R?p[v]=void 0:p[v]=(R||"").replace(/%2F/g,"/"),p},{}),pathname:a,pathnameBase:u,pattern:n}}function UI(n,e=!1,t=!0){nr(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let i=[],s="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,d,f)=>(i.push({paramName:d,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(i.push({paramName:"*"}),s+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?s+="\\/*$":n!==""&&n!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),i]}function jI(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return nr(!1,`The URL path "${n}" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Hi(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}function zI(n,e="/"){let{pathname:t,search:i="",hash:s=""}=typeof n=="string"?da(n):n;return{pathname:t?t.startsWith("/")?t:BI(t,e):e,search:HI(i),hash:qI(s)}}function BI(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(s=>{s===".."?t.length>1&&t.pop():s!=="."&&t.push(s)}),t.length>1?t.join("/"):"/"}function Nf(n,e,t,i){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function $I(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function zp(n){let e=$I(n);return e.map((t,i)=>i===e.length-1?t.pathname:t.pathnameBase)}function Bp(n,e,t,i=!1){let s;typeof n=="string"?s=da(n):(s={...n},ot(!s.pathname||!s.pathname.includes("?"),Nf("?","pathname","search",s)),ot(!s.pathname||!s.pathname.includes("#"),Nf("#","pathname","hash",s)),ot(!s.search||!s.search.includes("#"),Nf("#","search","hash",s)));let a=n===""||s.pathname==="",u=a?"/":s.pathname,d;if(u==null)d=t;else{let w=e.length-1;if(!i&&u.startsWith("..")){let E=u.split("/");for(;E[0]==="..";)E.shift(),w-=1;s.pathname=E.join("/")}d=w>=0?e[w]:"/"}let f=zI(s,d),p=u&&u!=="/"&&u.endsWith("/"),v=(a||u===".")&&t.endsWith("/");return!f.pathname.endsWith("/")&&(p||v)&&(f.pathname+="/"),f}var Jr=n=>n.join("/").replace(/\/\/+/g,"/"),WI=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),HI=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,qI=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function KI(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var lw=["POST","PUT","PATCH","DELETE"];new Set(lw);var GI=["GET",...lw];new Set(GI);var ha=S.createContext(null);ha.displayName="DataRouter";var wd=S.createContext(null);wd.displayName="DataRouterState";var uw=S.createContext({isTransitioning:!1});uw.displayName="ViewTransition";var QI=S.createContext(new Map);QI.displayName="Fetchers";var YI=S.createContext(null);YI.displayName="Await";var or=S.createContext(null);or.displayName="Navigation";var Wl=S.createContext(null);Wl.displayName="Location";var Ar=S.createContext({outlet:null,matches:[],isDataRoute:!1});Ar.displayName="Route";var $p=S.createContext(null);$p.displayName="RouteError";function XI(n,{relative:e}={}){ot(fa(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:i}=S.useContext(or),{hash:s,pathname:a,search:u}=ql(n,{relative:e}),d=a;return t!=="/"&&(d=a==="/"?t:Jr([t,a])),i.createHref({pathname:d,search:u,hash:s})}function fa(){return S.useContext(Wl)!=null}function to(){return ot(fa(),"useLocation() may be used only in the context of a <Router> component."),S.useContext(Wl).location}var cw="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function dw(n){S.useContext(or).static||S.useLayoutEffect(n)}function Hl(){let{isDataRoute:n}=S.useContext(Ar);return n?cC():JI()}function JI(){ot(fa(),"useNavigate() may be used only in the context of a <Router> component.");let n=S.useContext(ha),{basename:e,navigator:t}=S.useContext(or),{matches:i}=S.useContext(Ar),{pathname:s}=to(),a=JSON.stringify(zp(i)),u=S.useRef(!1);return dw(()=>{u.current=!0}),S.useCallback((f,p={})=>{if(nr(u.current,cw),!u.current)return;if(typeof f=="number"){t.go(f);return}let v=Bp(f,JSON.parse(a),s,p.relative==="path");n==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:Jr([e,v.pathname])),(p.replace?t.replace:t.push)(v,p.state,p)},[e,t,a,s,n])}S.createContext(null);function ql(n,{relative:e}={}){let{matches:t}=S.useContext(Ar),{pathname:i}=to(),s=JSON.stringify(zp(t));return S.useMemo(()=>Bp(n,JSON.parse(s),i,e==="path"),[n,s,i,e])}function ZI(n,e){return hw(n,e)}function hw(n,e,t,i){var D;ot(fa(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=S.useContext(or),{matches:a}=S.useContext(Ar),u=a[a.length-1],d=u?u.params:{},f=u?u.pathname:"/",p=u?u.pathnameBase:"/",v=u&&u.route;{let L=v&&v.path||"";fw(f,!v||L.endsWith("*")||L.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${L}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${L}"> to <Route path="${L==="/"?"*":`${L}/*`}">.`)}let w=to(),E;if(e){let L=typeof e=="string"?da(e):e;ot(p==="/"||((D=L.pathname)==null?void 0:D.startsWith(p)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${L.pathname}" was given in the \`location\` prop.`),E=L}else E=w;let R=E.pathname||"/",x=R;if(p!=="/"){let L=p.replace(/^\//,"").split("/");x="/"+R.replace(/^\//,"").split("/").slice(L.length).join("/")}let I=ow(n,{pathname:x});nr(v||I!=null,`No routes matched location "${E.pathname}${E.search}${E.hash}" `),nr(I==null||I[I.length-1].route.element!==void 0||I[I.length-1].route.Component!==void 0||I[I.length-1].route.lazy!==void 0,`Matched leaf route at location "${E.pathname}${E.search}${E.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let C=iC(I&&I.map(L=>Object.assign({},L,{params:Object.assign({},d,L.params),pathname:Jr([p,s.encodeLocation?s.encodeLocation(L.pathname).pathname:L.pathname]),pathnameBase:L.pathnameBase==="/"?p:Jr([p,s.encodeLocation?s.encodeLocation(L.pathnameBase).pathname:L.pathnameBase])})),a,t,i);return e&&C?S.createElement(Wl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...E},navigationType:"POP"}},C):C}function eC(){let n=uC(),e=KI(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:i},a={padding:"2px 4px",backgroundColor:i},u=null;return console.error("Error handled by React Router default ErrorBoundary:",n),u=S.createElement(S.Fragment,null,S.createElement("p",null," Hey developer "),S.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",S.createElement("code",{style:a},"ErrorBoundary")," or"," ",S.createElement("code",{style:a},"errorElement")," prop on your route.")),S.createElement(S.Fragment,null,S.createElement("h2",null,"Unexpected Application Error!"),S.createElement("h3",{style:{fontStyle:"italic"}},e),t?S.createElement("pre",{style:s},t):null,u)}var tC=S.createElement(eC,null),nC=class extends S.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?S.createElement(Ar.Provider,{value:this.props.routeContext},S.createElement($p.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function rC({routeContext:n,match:e,children:t}){let i=S.useContext(ha);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),S.createElement(Ar.Provider,{value:n},t)}function iC(n,e=[],t=null,i=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let s=n,a=t==null?void 0:t.errors;if(a!=null){let f=s.findIndex(p=>p.route.id&&(a==null?void 0:a[p.route.id])!==void 0);ot(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),s=s.slice(0,Math.min(s.length,f+1))}let u=!1,d=-1;if(t)for(let f=0;f<s.length;f++){let p=s[f];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(d=f),p.route.id){let{loaderData:v,errors:w}=t,E=p.route.loader&&!v.hasOwnProperty(p.route.id)&&(!w||w[p.route.id]===void 0);if(p.route.lazy||E){u=!0,d>=0?s=s.slice(0,d+1):s=[s[0]];break}}}return s.reduceRight((f,p,v)=>{let w,E=!1,R=null,x=null;t&&(w=a&&p.route.id?a[p.route.id]:void 0,R=p.route.errorElement||tC,u&&(d<0&&v===0?(fw("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),E=!0,x=null):d===v&&(E=!0,x=p.route.hydrateFallbackElement||null)));let I=e.concat(s.slice(0,v+1)),C=()=>{let D;return w?D=R:E?D=x:p.route.Component?D=S.createElement(p.route.Component,null):p.route.element?D=p.route.element:D=f,S.createElement(rC,{match:p,routeContext:{outlet:f,matches:I,isDataRoute:t!=null},children:D})};return t&&(p.route.ErrorBoundary||p.route.errorElement||v===0)?S.createElement(nC,{location:t.location,revalidation:t.revalidation,component:R,error:w,children:C(),routeContext:{outlet:null,matches:I,isDataRoute:!0}}):C()},null)}function Wp(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function oC(n){let e=S.useContext(ha);return ot(e,Wp(n)),e}function sC(n){let e=S.useContext(wd);return ot(e,Wp(n)),e}function aC(n){let e=S.useContext(Ar);return ot(e,Wp(n)),e}function Hp(n){let e=aC(n),t=e.matches[e.matches.length-1];return ot(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function lC(){return Hp("useRouteId")}function uC(){var i;let n=S.useContext($p),e=sC("useRouteError"),t=Hp("useRouteError");return n!==void 0?n:(i=e.errors)==null?void 0:i[t]}function cC(){let{router:n}=oC("useNavigate"),e=Hp("useNavigate"),t=S.useRef(!1);return dw(()=>{t.current=!0}),S.useCallback(async(s,a={})=>{nr(t.current,cw),t.current&&(typeof s=="number"?n.navigate(s):await n.navigate(s,{fromRouteId:e,...a}))},[n,e])}var gv={};function fw(n,e,t){!e&&!gv[n]&&(gv[n]=!0,nr(!1,t))}S.memo(dC);function dC({routes:n,future:e,state:t}){return hw(n,void 0,t,e)}function Df({to:n,replace:e,state:t,relative:i}){ot(fa(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=S.useContext(or);nr(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=S.useContext(Ar),{pathname:u}=to(),d=Hl(),f=Bp(n,zp(a),u,i==="path"),p=JSON.stringify(f);return S.useEffect(()=>{d(JSON.parse(p),{replace:e,state:t,relative:i})},[d,p,i,e,t]),null}function El(n){ot(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function hC({basename:n="/",children:e=null,location:t,navigationType:i="POP",navigator:s,static:a=!1}){ot(!fa(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=n.replace(/^\/*/,"/"),d=S.useMemo(()=>({basename:u,navigator:s,static:a,future:{}}),[u,s,a]);typeof t=="string"&&(t=da(t));let{pathname:f="/",search:p="",hash:v="",state:w=null,key:E="default"}=t,R=S.useMemo(()=>{let x=Hi(f,u);return x==null?null:{location:{pathname:x,search:p,hash:v,state:w,key:E},navigationType:i}},[u,f,p,v,w,E,i]);return nr(R!=null,`<Router basename="${u}"> is not able to match the URL "${f}${p}${v}" because it does not start with the basename, so the <Router> won't render anything.`),R==null?null:S.createElement(or.Provider,{value:d},S.createElement(Wl.Provider,{children:e,value:R}))}function fC({children:n,location:e}){return ZI(rp(n),e)}function rp(n,e=[]){let t=[];return S.Children.forEach(n,(i,s)=>{if(!S.isValidElement(i))return;let a=[...e,s];if(i.type===S.Fragment){t.push.apply(t,rp(i.props.children,a));return}ot(i.type===El,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ot(!i.props.index||!i.props.children,"An index route cannot have child routes.");let u={id:i.props.id||a.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(u.children=rp(i.props.children,a)),t.push(u)}),t}var Lc="get",Vc="application/x-www-form-urlencoded";function Ed(n){return n!=null&&typeof n.tagName=="string"}function pC(n){return Ed(n)&&n.tagName.toLowerCase()==="button"}function mC(n){return Ed(n)&&n.tagName.toLowerCase()==="form"}function gC(n){return Ed(n)&&n.tagName.toLowerCase()==="input"}function yC(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function vC(n,e){return n.button===0&&(!e||e==="_self")&&!yC(n)}var Sc=null;function _C(){if(Sc===null)try{new FormData(document.createElement("form"),0),Sc=!1}catch{Sc=!0}return Sc}var wC=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Of(n){return n!=null&&!wC.has(n)?(nr(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Vc}"`),null):n}function EC(n,e){let t,i,s,a,u;if(mC(n)){let d=n.getAttribute("action");i=d?Hi(d,e):null,t=n.getAttribute("method")||Lc,s=Of(n.getAttribute("enctype"))||Vc,a=new FormData(n)}else if(pC(n)||gC(n)&&(n.type==="submit"||n.type==="image")){let d=n.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=n.getAttribute("formaction")||d.getAttribute("action");if(i=f?Hi(f,e):null,t=n.getAttribute("formmethod")||d.getAttribute("method")||Lc,s=Of(n.getAttribute("formenctype"))||Of(d.getAttribute("enctype"))||Vc,a=new FormData(d,n),!_C()){let{name:p,type:v,value:w}=n;if(v==="image"){let E=p?`${p}.`:"";a.append(`${E}x`,"0"),a.append(`${E}y`,"0")}else p&&a.append(p,w)}}else{if(Ed(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Lc,i=null,s=Vc,u=n}return a&&s==="text/plain"&&(u=a,a=void 0),{action:i,method:t.toLowerCase(),encType:s,formData:a,body:u}}function qp(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function TC(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function SC(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function IC(n,e,t){let i=await Promise.all(n.map(async s=>{let a=e.routes[s.route.id];if(a){let u=await TC(a,t);return u.links?u.links():[]}return[]}));return xC(i.flat(1).filter(SC).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function yv(n,e,t,i,s,a){let u=(f,p)=>t[p]?f.route.id!==t[p].route.id:!0,d=(f,p)=>{var v;return t[p].pathname!==f.pathname||((v=t[p].route.path)==null?void 0:v.endsWith("*"))&&t[p].params["*"]!==f.params["*"]};return a==="assets"?e.filter((f,p)=>u(f,p)||d(f,p)):a==="data"?e.filter((f,p)=>{var w;let v=i.routes[f.route.id];if(!v||!v.hasLoader)return!1;if(u(f,p)||d(f,p))return!0;if(f.route.shouldRevalidate){let E=f.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((w=t[0])==null?void 0:w.params)||{},nextUrl:new URL(n,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof E=="boolean")return E}return!0}):[]}function CC(n,e){return RC(n.map(t=>{let i=e.routes[t.route.id];if(!i)return[];let s=[i.module];return i.imports&&(s=s.concat(i.imports)),s}).flat(1))}function RC(n){return[...new Set(n)]}function AC(n){let e={},t=Object.keys(n).sort();for(let i of t)e[i]=n[i];return e}function xC(n,e){let t=new Set;return new Set(e),n.reduce((i,s)=>{let a=JSON.stringify(AC(s));return t.has(a)||(t.add(a),i.push({key:a,link:s})),i},[])}function PC(n){let e=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function kC(){let n=S.useContext(ha);return qp(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function bC(){let n=S.useContext(wd);return qp(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var Kp=S.createContext(void 0);Kp.displayName="FrameworkContext";function pw(){let n=S.useContext(Kp);return qp(n,"You must render this element inside a <HydratedRouter> element"),n}function NC(n,e){let t=S.useContext(Kp),[i,s]=S.useState(!1),[a,u]=S.useState(!1),{onFocus:d,onBlur:f,onMouseEnter:p,onMouseLeave:v,onTouchStart:w}=e,E=S.useRef(null);S.useEffect(()=>{if(n==="render"&&u(!0),n==="viewport"){let I=D=>{D.forEach(L=>{u(L.isIntersecting)})},C=new IntersectionObserver(I,{threshold:.5});return E.current&&C.observe(E.current),()=>{C.disconnect()}}},[n]),S.useEffect(()=>{if(i){let I=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(I)}}},[i]);let R=()=>{s(!0)},x=()=>{s(!1),u(!1)};return t?n!=="intent"?[a,E,{}]:[a,E,{onFocus:vl(d,R),onBlur:vl(f,x),onMouseEnter:vl(p,R),onMouseLeave:vl(v,x),onTouchStart:vl(w,R)}]:[!1,E,{}]}function vl(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function DC({page:n,...e}){let{router:t}=kC(),i=S.useMemo(()=>ow(t.routes,n,t.basename),[t.routes,n,t.basename]);return i?S.createElement(LC,{page:n,matches:i,...e}):(console.warn(`Tried to prefetch ${n} but no routes matched.`),null)}function OC(n){let{manifest:e,routeModules:t}=pw(),[i,s]=S.useState([]);return S.useEffect(()=>{let a=!1;return IC(n,e,t).then(u=>{a||s(u)}),()=>{a=!0}},[n,e,t]),i}function LC({page:n,matches:e,...t}){let i=to(),{manifest:s,routeModules:a}=pw(),{loaderData:u,matches:d}=bC(),f=S.useMemo(()=>yv(n,e,d,s,i,"data"),[n,e,d,s,i]),p=S.useMemo(()=>yv(n,e,d,s,i,"assets"),[n,e,d,s,i]),v=S.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let R=new Set,x=!1;if(e.forEach(C=>{var L;let D=s.routes[C.route.id];!D||!D.hasLoader||(!f.some(B=>B.route.id===C.route.id)&&C.route.id in u&&((L=a[C.route.id])!=null&&L.shouldRevalidate)||D.hasClientLoader?x=!0:R.add(C.route.id))}),R.size===0)return[];let I=PC(n);return x&&R.size>0&&I.searchParams.set("_routes",e.filter(C=>R.has(C.route.id)).map(C=>C.route.id).join(",")),[I.pathname+I.search]},[u,i,s,f,e,n,a]),w=S.useMemo(()=>CC(p,s),[p,s]),E=OC(p);return S.createElement(S.Fragment,null,v.map(R=>S.createElement("link",{key:R,rel:"prefetch",as:"fetch",href:R,...t})),w.map(R=>S.createElement("link",{key:R,rel:"modulepreload",href:R,...t})),E.map(({key:R,link:x})=>S.createElement("link",{key:R,...x})))}function VC(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var mw=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{mw&&(window.__reactRouterVersion="7.0.2")}catch{}function MC({basename:n,children:e,window:t}){let i=S.useRef();i.current==null&&(i.current=CI({window:t,v5Compat:!0}));let s=i.current,[a,u]=S.useState({action:s.action,location:s.location}),d=S.useCallback(f=>{S.startTransition(()=>u(f))},[u]);return S.useLayoutEffect(()=>s.listen(d),[s,d]),S.createElement(hC,{basename:n,children:e,location:a.location,navigationType:a.action,navigator:s})}var gw=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Fo=S.forwardRef(function({onClick:e,discover:t="render",prefetch:i="none",relative:s,reloadDocument:a,replace:u,state:d,target:f,to:p,preventScrollReset:v,viewTransition:w,...E},R){let{basename:x}=S.useContext(or),I=typeof p=="string"&&gw.test(p),C,D=!1;if(typeof p=="string"&&I&&(C=p,mw))try{let k=new URL(window.location.href),V=p.startsWith("//")?new URL(k.protocol+p):new URL(p),F=Hi(V.pathname,x);V.origin===k.origin&&F!=null?p=F+V.search+V.hash:D=!0}catch{nr(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let L=XI(p,{relative:s}),[B,G,X]=NC(i,E),ie=zC(p,{replace:u,state:d,target:f,preventScrollReset:v,relative:s,viewTransition:w});function b(k){e&&e(k),k.defaultPrevented||ie(k)}let P=S.createElement("a",{...E,...X,href:C||L,onClick:D||a?e:b,ref:VC(R,G),target:f,"data-discover":!I&&t==="render"?"true":void 0});return B&&!I?S.createElement(S.Fragment,null,P,S.createElement(DC,{page:L})):P});Fo.displayName="Link";var FC=S.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:i="",end:s=!1,style:a,to:u,viewTransition:d,children:f,...p},v){let w=ql(u,{relative:p.relative}),E=to(),R=S.useContext(wd),{navigator:x,basename:I}=S.useContext(or),C=R!=null&&qC(w)&&d===!0,D=x.encodeLocation?x.encodeLocation(w).pathname:w.pathname,L=E.pathname,B=R&&R.navigation&&R.navigation.location?R.navigation.location.pathname:null;t||(L=L.toLowerCase(),B=B?B.toLowerCase():null,D=D.toLowerCase()),B&&I&&(B=Hi(B,I)||B);const G=D!=="/"&&D.endsWith("/")?D.length-1:D.length;let X=L===D||!s&&L.startsWith(D)&&L.charAt(G)==="/",ie=B!=null&&(B===D||!s&&B.startsWith(D)&&B.charAt(D.length)==="/"),b={isActive:X,isPending:ie,isTransitioning:C},P=X?e:void 0,k;typeof i=="function"?k=i(b):k=[i,X?"active":null,ie?"pending":null,C?"transitioning":null].filter(Boolean).join(" ");let V=typeof a=="function"?a(b):a;return S.createElement(Fo,{...p,"aria-current":P,className:k,ref:v,style:V,to:u,viewTransition:d},typeof f=="function"?f(b):f)});FC.displayName="NavLink";var UC=S.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:i,replace:s,state:a,method:u=Lc,action:d,onSubmit:f,relative:p,preventScrollReset:v,viewTransition:w,...E},R)=>{let x=WC(),I=HC(d,{relative:p}),C=u.toLowerCase()==="get"?"get":"post",D=typeof d=="string"&&gw.test(d),L=B=>{if(f&&f(B),B.defaultPrevented)return;B.preventDefault();let G=B.nativeEvent.submitter,X=(G==null?void 0:G.getAttribute("formmethod"))||u;x(G||B.currentTarget,{fetcherKey:e,method:X,navigate:t,replace:s,state:a,relative:p,preventScrollReset:v,viewTransition:w})};return S.createElement("form",{ref:R,method:C,action:I,onSubmit:i?f:L,...E,"data-discover":!D&&n==="render"?"true":void 0})});UC.displayName="Form";function jC(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function yw(n){let e=S.useContext(ha);return ot(e,jC(n)),e}function zC(n,{target:e,replace:t,state:i,preventScrollReset:s,relative:a,viewTransition:u}={}){let d=Hl(),f=to(),p=ql(n,{relative:a});return S.useCallback(v=>{if(vC(v,e)){v.preventDefault();let w=t!==void 0?t:Nl(f)===Nl(p);d(n,{replace:w,state:i,preventScrollReset:s,relative:a,viewTransition:u})}},[f,d,p,t,i,e,n,s,a,u])}var BC=0,$C=()=>`__${String(++BC)}__`;function WC(){let{router:n}=yw("useSubmit"),{basename:e}=S.useContext(or),t=lC();return S.useCallback(async(i,s={})=>{let{action:a,method:u,encType:d,formData:f,body:p}=EC(i,e);if(s.navigate===!1){let v=s.fetcherKey||$C();await n.fetch(v,t,s.action||a,{preventScrollReset:s.preventScrollReset,formData:f,body:p,formMethod:s.method||u,formEncType:s.encType||d,flushSync:s.flushSync})}else await n.navigate(s.action||a,{preventScrollReset:s.preventScrollReset,formData:f,body:p,formMethod:s.method||u,formEncType:s.encType||d,replace:s.replace,state:s.state,fromRouteId:t,flushSync:s.flushSync,viewTransition:s.viewTransition})},[n,e,t])}function HC(n,{relative:e}={}){let{basename:t}=S.useContext(or),i=S.useContext(Ar);ot(i,"useFormAction must be used inside a RouteContext");let[s]=i.matches.slice(-1),a={...ql(n||".",{relative:e})},u=to();if(n==null){a.search=u.search;let d=new URLSearchParams(a.search),f=d.getAll("index");if(f.some(v=>v==="")){d.delete("index"),f.filter(w=>w).forEach(w=>d.append("index",w));let v=d.toString();a.search=v?`?${v}`:""}}return(!n||n===".")&&s.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(a.pathname=a.pathname==="/"?t:Jr([t,a.pathname])),Nl(a)}function qC(n,e={}){let t=S.useContext(uw);ot(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=yw("useViewTransitionState"),s=ql(n,{relative:e.relative});if(!t.isTransitioning)return!1;let a=Hi(t.currentLocation.pathname,i)||t.currentLocation.pathname,u=Hi(t.nextLocation.pathname,i)||t.nextLocation.pathname;return Yc(s.pathname,u)!=null||Yc(s.pathname,a)!=null}new TextEncoder;var Kl=iw();const KC=rw(Kl);var vv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vw=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let s=n.charCodeAt(i);s<128?e[t++]=s:s<2048?(e[t++]=s>>6|192,e[t++]=s&63|128):(s&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(s=65536+((s&1023)<<10)+(n.charCodeAt(++i)&1023),e[t++]=s>>18|240,e[t++]=s>>12&63|128,e[t++]=s>>6&63|128,e[t++]=s&63|128):(e[t++]=s>>12|224,e[t++]=s>>6&63|128,e[t++]=s&63|128)}return e},GC=function(n){const e=[];let t=0,i=0;for(;t<n.length;){const s=n[t++];if(s<128)e[i++]=String.fromCharCode(s);else if(s>191&&s<224){const a=n[t++];e[i++]=String.fromCharCode((s&31)<<6|a&63)}else if(s>239&&s<365){const a=n[t++],u=n[t++],d=n[t++],f=((s&7)<<18|(a&63)<<12|(u&63)<<6|d&63)-65536;e[i++]=String.fromCharCode(55296+(f>>10)),e[i++]=String.fromCharCode(56320+(f&1023))}else{const a=n[t++],u=n[t++];e[i++]=String.fromCharCode((s&15)<<12|(a&63)<<6|u&63)}}return e.join("")},_w={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let s=0;s<n.length;s+=3){const a=n[s],u=s+1<n.length,d=u?n[s+1]:0,f=s+2<n.length,p=f?n[s+2]:0,v=a>>2,w=(a&3)<<4|d>>4;let E=(d&15)<<2|p>>6,R=p&63;f||(R=64,u||(E=64)),i.push(t[v],t[w],t[E],t[R])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(vw(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):GC(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let s=0;s<n.length;){const a=t[n.charAt(s++)],d=s<n.length?t[n.charAt(s)]:0;++s;const p=s<n.length?t[n.charAt(s)]:64;++s;const w=s<n.length?t[n.charAt(s)]:64;if(++s,a==null||d==null||p==null||w==null)throw new QC;const E=a<<2|d>>4;if(i.push(E),p!==64){const R=d<<4&240|p>>2;if(i.push(R),w!==64){const x=p<<6&192|w;i.push(x)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class QC extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const YC=function(n){const e=vw(n);return _w.encodeByteArray(e,!0)},Xc=function(n){return YC(n).replace(/\./g,"")},ww=function(n){try{return _w.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XC(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JC=()=>XC().__FIREBASE_DEFAULTS__,ZC=()=>{if(typeof process>"u"||typeof vv>"u")return;const n=vv.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},e1=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&ww(n[1]);return e&&JSON.parse(e)},Td=()=>{try{return JC()||ZC()||e1()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},Ew=n=>{var e,t;return(t=(e=Td())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},t1=n=>{const e=Ew(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},Tw=()=>{var n;return(n=Td())===null||n===void 0?void 0:n.config},Sw=n=>{var e;return(e=Td())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r1(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",s=n.iat||0,a=n.sub||n.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:s,exp:s+3600,auth_time:s,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Xc(JSON.stringify(t)),Xc(JSON.stringify(u)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function i1(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Gt())}function o1(){var n;const e=(n=Td())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function s1(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function a1(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function l1(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function u1(){const n=Gt();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function c1(){return!o1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function d1(){try{return typeof indexedDB=="object"}catch{return!1}}function h1(){return new Promise((n,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(i);s.onsuccess=()=>{s.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},s.onupgradeneeded=()=>{t=!1},s.onerror=()=>{var a;e(((a=s.error)===null||a===void 0?void 0:a.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f1="FirebaseError";class ai extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=f1,Object.setPrototypeOf(this,ai.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Gl.prototype.create)}}class Gl{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},s=`${this.service}/${e}`,a=this.errors[e],u=a?p1(a,i):"Error",d=`${this.serviceName}: ${u} (${s}).`;return new ai(s,d,i)}}function p1(n,e){return n.replace(m1,(t,i)=>{const s=e[i];return s!=null?String(s):`<${i}?>`})}const m1=/\{\$([^}]+)}/g;function g1(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Jc(n,e){if(n===e)return!0;const t=Object.keys(n),i=Object.keys(e);for(const s of t){if(!i.includes(s))return!1;const a=n[s],u=e[s];if(_v(a)&&_v(u)){if(!Jc(a,u))return!1}else if(a!==u)return!1}for(const s of i)if(!t.includes(s))return!1;return!0}function _v(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ql(n){const e=[];for(const[t,i]of Object.entries(n))Array.isArray(i)?i.forEach(s=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function y1(n,e){const t=new v1(n,e);return t.subscribe.bind(t)}class v1{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let s;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");_1(e,["next","error","complete"])?s=e:s={next:e,error:t,complete:i},s.next===void 0&&(s.next=Lf),s.error===void 0&&(s.error=Lf),s.complete===void 0&&(s.complete=Lf);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function _1(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Lf(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qt(n){return n&&n._delegate?n._delegate:n}class zo{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w1{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new n1;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:t});s&&i.resolve(s)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(a){if(s)return null;throw a}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(T1(e))try{this.getOrInitializeService({instanceIdentifier:Oo})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(t);try{const a=this.getOrInitializeService({instanceIdentifier:s});i.resolve(a)}catch{}}}}clearInstance(e=Oo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Oo){return this.instances.has(e)}getOptions(e=Oo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[a,u]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(a);i===d&&u.resolve(s)}return s}onInit(e,t){var i;const s=this.normalizeInstanceIdentifier(t),a=(i=this.onInitCallbacks.get(s))!==null&&i!==void 0?i:new Set;a.add(e),this.onInitCallbacks.set(s,a);const u=this.instances.get(s);return u&&e(u,s),()=>{a.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const s of i)try{s(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:E1(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Oo){return this.component?this.component.multipleInstances?e:Oo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function E1(n){return n===Oo?void 0:n}function T1(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S1{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new w1(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ue;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Ue||(Ue={}));const I1={debug:Ue.DEBUG,verbose:Ue.VERBOSE,info:Ue.INFO,warn:Ue.WARN,error:Ue.ERROR,silent:Ue.SILENT},C1=Ue.INFO,R1={[Ue.DEBUG]:"log",[Ue.VERBOSE]:"log",[Ue.INFO]:"info",[Ue.WARN]:"warn",[Ue.ERROR]:"error"},A1=(n,e,...t)=>{if(e<n.logLevel)return;const i=new Date().toISOString(),s=R1[e];if(s)console[s](`[${i}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Gp{constructor(e){this.name=e,this._logLevel=C1,this._logHandler=A1,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ue))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?I1[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ue.DEBUG,...e),this._logHandler(this,Ue.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ue.VERBOSE,...e),this._logHandler(this,Ue.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ue.INFO,...e),this._logHandler(this,Ue.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ue.WARN,...e),this._logHandler(this,Ue.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ue.ERROR,...e),this._logHandler(this,Ue.ERROR,...e)}}const x1=(n,e)=>e.some(t=>n instanceof t);let wv,Ev;function P1(){return wv||(wv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function k1(){return Ev||(Ev=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Iw=new WeakMap,ip=new WeakMap,Cw=new WeakMap,Vf=new WeakMap,Qp=new WeakMap;function b1(n){const e=new Promise((t,i)=>{const s=()=>{n.removeEventListener("success",a),n.removeEventListener("error",u)},a=()=>{t(zi(n.result)),s()},u=()=>{i(n.error),s()};n.addEventListener("success",a),n.addEventListener("error",u)});return e.then(t=>{t instanceof IDBCursor&&Iw.set(t,n)}).catch(()=>{}),Qp.set(e,n),e}function N1(n){if(ip.has(n))return;const e=new Promise((t,i)=>{const s=()=>{n.removeEventListener("complete",a),n.removeEventListener("error",u),n.removeEventListener("abort",u)},a=()=>{t(),s()},u=()=>{i(n.error||new DOMException("AbortError","AbortError")),s()};n.addEventListener("complete",a),n.addEventListener("error",u),n.addEventListener("abort",u)});ip.set(n,e)}let op={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return ip.get(n);if(e==="objectStoreNames")return n.objectStoreNames||Cw.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return zi(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function D1(n){op=n(op)}function O1(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=n.call(Mf(this),e,...t);return Cw.set(i,e.sort?e.sort():[e]),zi(i)}:k1().includes(n)?function(...e){return n.apply(Mf(this),e),zi(Iw.get(this))}:function(...e){return zi(n.apply(Mf(this),e))}}function L1(n){return typeof n=="function"?O1(n):(n instanceof IDBTransaction&&N1(n),x1(n,P1())?new Proxy(n,op):n)}function zi(n){if(n instanceof IDBRequest)return b1(n);if(Vf.has(n))return Vf.get(n);const e=L1(n);return e!==n&&(Vf.set(n,e),Qp.set(e,n)),e}const Mf=n=>Qp.get(n);function V1(n,e,{blocked:t,upgrade:i,blocking:s,terminated:a}={}){const u=indexedDB.open(n,e),d=zi(u);return i&&u.addEventListener("upgradeneeded",f=>{i(zi(u.result),f.oldVersion,f.newVersion,zi(u.transaction),f)}),t&&u.addEventListener("blocked",f=>t(f.oldVersion,f.newVersion,f)),d.then(f=>{a&&f.addEventListener("close",()=>a()),s&&f.addEventListener("versionchange",p=>s(p.oldVersion,p.newVersion,p))}).catch(()=>{}),d}const M1=["get","getKey","getAll","getAllKeys","count"],F1=["put","add","delete","clear"],Ff=new Map;function Tv(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Ff.get(e))return Ff.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,s=F1.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(s||M1.includes(t)))return;const a=async function(u,...d){const f=this.transaction(u,s?"readwrite":"readonly");let p=f.store;return i&&(p=p.index(d.shift())),(await Promise.all([p[t](...d),s&&f.done]))[0]};return Ff.set(e,a),a}D1(n=>({...n,get:(e,t,i)=>Tv(e,t)||n.get(e,t,i),has:(e,t)=>!!Tv(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U1{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(j1(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function j1(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const sp="@firebase/app",Sv="0.10.16";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ei=new Gp("@firebase/app"),z1="@firebase/app-compat",B1="@firebase/analytics-compat",$1="@firebase/analytics",W1="@firebase/app-check-compat",H1="@firebase/app-check",q1="@firebase/auth",K1="@firebase/auth-compat",G1="@firebase/database",Q1="@firebase/data-connect",Y1="@firebase/database-compat",X1="@firebase/functions",J1="@firebase/functions-compat",Z1="@firebase/installations",eR="@firebase/installations-compat",tR="@firebase/messaging",nR="@firebase/messaging-compat",rR="@firebase/performance",iR="@firebase/performance-compat",oR="@firebase/remote-config",sR="@firebase/remote-config-compat",aR="@firebase/storage",lR="@firebase/storage-compat",uR="@firebase/firestore",cR="@firebase/vertexai",dR="@firebase/firestore-compat",hR="firebase",fR="11.0.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ap="[DEFAULT]",pR={[sp]:"fire-core",[z1]:"fire-core-compat",[$1]:"fire-analytics",[B1]:"fire-analytics-compat",[H1]:"fire-app-check",[W1]:"fire-app-check-compat",[q1]:"fire-auth",[K1]:"fire-auth-compat",[G1]:"fire-rtdb",[Q1]:"fire-data-connect",[Y1]:"fire-rtdb-compat",[X1]:"fire-fn",[J1]:"fire-fn-compat",[Z1]:"fire-iid",[eR]:"fire-iid-compat",[tR]:"fire-fcm",[nR]:"fire-fcm-compat",[rR]:"fire-perf",[iR]:"fire-perf-compat",[oR]:"fire-rc",[sR]:"fire-rc-compat",[aR]:"fire-gcs",[lR]:"fire-gcs-compat",[uR]:"fire-fst",[dR]:"fire-fst-compat",[cR]:"fire-vertex","fire-js":"fire-js",[hR]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zc=new Map,mR=new Map,lp=new Map;function Iv(n,e){try{n.container.addComponent(e)}catch(t){ei.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Zs(n){const e=n.name;if(lp.has(e))return ei.debug(`There were multiple attempts to register component ${e}.`),!1;lp.set(e,n);for(const t of Zc.values())Iv(t,n);for(const t of mR.values())Iv(t,n);return!0}function Yp(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Gr(n){return n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Bi=new Gl("app","Firebase",gR);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yR{constructor(e,t,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new zo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Bi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pa=fR;function Rw(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const i=Object.assign({name:ap,automaticDataCollectionEnabled:!1},e),s=i.name;if(typeof s!="string"||!s)throw Bi.create("bad-app-name",{appName:String(s)});if(t||(t=Tw()),!t)throw Bi.create("no-options");const a=Zc.get(s);if(a){if(Jc(t,a.options)&&Jc(i,a.config))return a;throw Bi.create("duplicate-app",{appName:s})}const u=new S1(s);for(const f of lp.values())u.addComponent(f);const d=new yR(t,i,u);return Zc.set(s,d),d}function Aw(n=ap){const e=Zc.get(n);if(!e&&n===ap&&Tw())return Rw();if(!e)throw Bi.create("no-app",{appName:n});return e}function $i(n,e,t){var i;let s=(i=pR[n])!==null&&i!==void 0?i:n;t&&(s+=`-${t}`);const a=s.match(/\s|\//),u=e.match(/\s|\//);if(a||u){const d=[`Unable to register library "${s}" with version "${e}":`];a&&d.push(`library name "${s}" contains illegal characters (whitespace or "/")`),a&&u&&d.push("and"),u&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ei.warn(d.join(" "));return}Zs(new zo(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vR="firebase-heartbeat-database",_R=1,Dl="firebase-heartbeat-store";let Uf=null;function xw(){return Uf||(Uf=V1(vR,_R,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Dl)}catch(t){console.warn(t)}}}}).catch(n=>{throw Bi.create("idb-open",{originalErrorMessage:n.message})})),Uf}async function wR(n){try{const t=(await xw()).transaction(Dl),i=await t.objectStore(Dl).get(Pw(n));return await t.done,i}catch(e){if(e instanceof ai)ei.warn(e.message);else{const t=Bi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ei.warn(t.message)}}}async function Cv(n,e){try{const i=(await xw()).transaction(Dl,"readwrite");await i.objectStore(Dl).put(e,Pw(n)),await i.done}catch(t){if(t instanceof ai)ei.warn(t.message);else{const i=Bi.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});ei.warn(i.message)}}}function Pw(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ER=1024,TR=30*24*60*60*1e3;class SR{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new CR(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,t;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=Rv();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(u=>u.date===a)?void 0:(this._heartbeatsCache.heartbeats.push({date:a,agent:s}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(u=>{const d=new Date(u.date).valueOf();return Date.now()-d<=TR}),this._storage.overwrite(this._heartbeatsCache))}catch(i){ei.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Rv(),{heartbeatsToSend:i,unsentEntries:s}=IR(this._heartbeatsCache.heartbeats),a=Xc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(t){return ei.warn(t),""}}}function Rv(){return new Date().toISOString().substring(0,10)}function IR(n,e=ER){const t=[];let i=n.slice();for(const s of n){const a=t.find(u=>u.agent===s.agent);if(a){if(a.dates.push(s.date),Av(t)>e){a.dates.pop();break}}else if(t.push({agent:s.agent,dates:[s.date]}),Av(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class CR{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return d1()?h1().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await wR(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const s=await this.read();return Cv(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const s=await this.read();return Cv(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function Av(n){return Xc(JSON.stringify({version:2,heartbeats:n})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RR(n){Zs(new zo("platform-logger",e=>new U1(e),"PRIVATE")),Zs(new zo("heartbeat",e=>new SR(e),"PRIVATE")),$i(sp,Sv,n),$i(sp,Sv,"esm2017"),$i("fire-js","")}RR("");var yr=function(){return yr=Object.assign||function(e){for(var t,i=1,s=arguments.length;i<s;i++){t=arguments[i];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},yr.apply(this,arguments)};function Yl(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(n);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(n,i[s])&&(t[i[s]]=n[i[s]]);return t}function AR(n,e,t){if(t||arguments.length===2)for(var i=0,s=e.length,a;i<s;i++)(a||!(i in e))&&(a||(a=Array.prototype.slice.call(e,0,i)),a[i]=e[i]);return n.concat(a||Array.prototype.slice.call(e))}function kw(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const xR=kw,bw=new Gl("auth","Firebase",kw());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ed=new Gp("@firebase/auth");function PR(n,...e){ed.logLevel<=Ue.WARN&&ed.warn(`Auth (${pa}): ${n}`,...e)}function Mc(n,...e){ed.logLevel<=Ue.ERROR&&ed.error(`Auth (${pa}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sr(n,...e){throw Jp(n,...e)}function tr(n,...e){return Jp(n,...e)}function Xp(n,e,t){const i=Object.assign(Object.assign({},xR()),{[e]:t});return new Gl("auth","Firebase",i).create(e,{appName:n.name})}function Uo(n){return Xp(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function kR(n,e,t){const i=t;if(!(e instanceof i))throw i.name!==e.constructor.name&&Sr(n,"argument-error"),Xp(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Jp(n,...e){if(typeof n!="string"){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return bw.create(n,...e)}function xe(n,e,...t){if(!n)throw Jp(e,...t)}function Qr(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Mc(e),new Error(e)}function ti(n,e){n||Qr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function up(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function bR(){return xv()==="http:"||xv()==="https:"}function xv(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NR(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(bR()||a1()||"connection"in navigator)?navigator.onLine:!0}function DR(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xl{constructor(e,t){this.shortDelay=e,this.longDelay=t,ti(t>e,"Short delay should be less than long delay!"),this.isMobile=i1()||l1()}get(){return NR()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zp(n,e){ti(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nw{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Qr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Qr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Qr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OR={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LR=new Xl(3e4,6e4);function em(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function ma(n,e,t,i,s={}){return Dw(n,s,async()=>{let a={},u={};i&&(e==="GET"?u=i:a={body:JSON.stringify(i)});const d=Ql(Object.assign({key:n.config.apiKey},u)).slice(1),f=await n._getAdditionalHeaders();f["Content-Type"]="application/json",n.languageCode&&(f["X-Firebase-Locale"]=n.languageCode);const p=Object.assign({method:e,headers:f},a);return s1()||(p.referrerPolicy="no-referrer"),Nw.fetch()(Ow(n,n.config.apiHost,t,d),p)})}async function Dw(n,e,t){n._canInitEmulator=!1;const i=Object.assign(Object.assign({},OR),e);try{const s=new MR(n),a=await Promise.race([t(),s.promise]);s.clearNetworkTimeout();const u=await a.json();if("needConfirmation"in u)throw Ic(n,"account-exists-with-different-credential",u);if(a.ok&&!("errorMessage"in u))return u;{const d=a.ok?u.errorMessage:u.error.message,[f,p]=d.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ic(n,"credential-already-in-use",u);if(f==="EMAIL_EXISTS")throw Ic(n,"email-already-in-use",u);if(f==="USER_DISABLED")throw Ic(n,"user-disabled",u);const v=i[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw Xp(n,v,p);Sr(n,v)}}catch(s){if(s instanceof ai)throw s;Sr(n,"network-request-failed",{message:String(s)})}}async function VR(n,e,t,i,s={}){const a=await ma(n,e,t,i,s);return"mfaPendingCredential"in a&&Sr(n,"multi-factor-auth-required",{_serverResponse:a}),a}function Ow(n,e,t,i){const s=`${e}${t}?${i}`;return n.config.emulator?Zp(n.config,s):`${n.config.apiScheme}://${s}`}class MR{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(tr(this.auth,"network-request-failed")),LR.get())})}}function Ic(n,e,t){const i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const s=tr(n,e,i);return s.customData._tokenResponse=t,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FR(n,e){return ma(n,"POST","/v1/accounts:delete",e)}async function Lw(n,e){return ma(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Al(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function UR(n,e=!1){const t=Qt(n),i=await t.getIdToken(e),s=tm(i);xe(s&&s.exp&&s.auth_time&&s.iat,t.auth,"internal-error");const a=typeof s.firebase=="object"?s.firebase:void 0,u=a==null?void 0:a.sign_in_provider;return{claims:s,token:i,authTime:Al(jf(s.auth_time)),issuedAtTime:Al(jf(s.iat)),expirationTime:Al(jf(s.exp)),signInProvider:u||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function jf(n){return Number(n)*1e3}function tm(n){const[e,t,i]=n.split(".");if(e===void 0||t===void 0||i===void 0)return Mc("JWT malformed, contained fewer than 3 sections"),null;try{const s=ww(t);return s?JSON.parse(s):(Mc("Failed to decode base64 JWT payload"),null)}catch(s){return Mc("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function Pv(n){const e=tm(n);return xe(e,"internal-error"),xe(typeof e.exp<"u","internal-error"),xe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ol(n,e,t=!1){if(t)return e;try{return await e}catch(i){throw i instanceof ai&&jR(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function jR({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zR{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const s=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cp{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Al(this.lastLoginAt),this.creationTime=Al(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function td(n){var e;const t=n.auth,i=await n.getIdToken(),s=await Ol(n,Lw(t,{idToken:i}));xe(s==null?void 0:s.users.length,t,"internal-error");const a=s.users[0];n._notifyReloadListener(a);const u=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?Vw(a.providerUserInfo):[],d=$R(n.providerData,u),f=n.isAnonymous,p=!(n.email&&a.passwordHash)&&!(d!=null&&d.length),v=f?p:!1,w={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:d,metadata:new cp(a.createdAt,a.lastLoginAt),isAnonymous:v};Object.assign(n,w)}async function BR(n){const e=Qt(n);await td(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function $R(n,e){return[...n.filter(i=>!e.some(s=>s.providerId===i.providerId)),...e]}function Vw(n){return n.map(e=>{var{providerId:t}=e,i=Yl(e,["providerId"]);return{providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WR(n,e){const t=await Dw(n,{},async()=>{const i=Ql({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:a}=n.config,u=Ow(n,s,"/v1/token",`key=${a}`),d=await n._getAdditionalHeaders();return d["Content-Type"]="application/x-www-form-urlencoded",Nw.fetch()(u,{method:"POST",headers:d,body:i})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function HR(n,e){return ma(n,"POST","/v2/accounts:revokeToken",em(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qs{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){xe(e.idToken,"internal-error"),xe(typeof e.idToken<"u","internal-error"),xe(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Pv(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){xe(e.length!==0,"internal-error");const t=Pv(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(xe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:i,refreshToken:s,expiresIn:a}=await WR(e,t);this.updateTokensAndExpiration(i,s,Number(a))}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){const{refreshToken:i,accessToken:s,expirationTime:a}=t,u=new qs;return i&&(xe(typeof i=="string","internal-error",{appName:e}),u.refreshToken=i),s&&(xe(typeof s=="string","internal-error",{appName:e}),u.accessToken=s),a&&(xe(typeof a=="number","internal-error",{appName:e}),u.expirationTime=a),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new qs,this.toJSON())}_performRefresh(){return Qr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ni(n,e){xe(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Yr{constructor(e){var{uid:t,auth:i,stsTokenManager:s}=e,a=Yl(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new zR(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new cp(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const t=await Ol(this,this.stsTokenManager.getToken(this.auth,e));return xe(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return UR(this,e)}reload(){return BR(this)}_assign(e){this!==e&&(xe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Yr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){xe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&await td(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Gr(this.auth.app))return Promise.reject(Uo(this.auth));const e=await this.getIdToken();return await Ol(this,FR(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var i,s,a,u,d,f,p,v;const w=(i=t.displayName)!==null&&i!==void 0?i:void 0,E=(s=t.email)!==null&&s!==void 0?s:void 0,R=(a=t.phoneNumber)!==null&&a!==void 0?a:void 0,x=(u=t.photoURL)!==null&&u!==void 0?u:void 0,I=(d=t.tenantId)!==null&&d!==void 0?d:void 0,C=(f=t._redirectEventId)!==null&&f!==void 0?f:void 0,D=(p=t.createdAt)!==null&&p!==void 0?p:void 0,L=(v=t.lastLoginAt)!==null&&v!==void 0?v:void 0,{uid:B,emailVerified:G,isAnonymous:X,providerData:ie,stsTokenManager:b}=t;xe(B&&b,e,"internal-error");const P=qs.fromJSON(this.name,b);xe(typeof B=="string",e,"internal-error"),Ni(w,e.name),Ni(E,e.name),xe(typeof G=="boolean",e,"internal-error"),xe(typeof X=="boolean",e,"internal-error"),Ni(R,e.name),Ni(x,e.name),Ni(I,e.name),Ni(C,e.name),Ni(D,e.name),Ni(L,e.name);const k=new Yr({uid:B,auth:e,email:E,emailVerified:G,displayName:w,isAnonymous:X,photoURL:x,phoneNumber:R,tenantId:I,stsTokenManager:P,createdAt:D,lastLoginAt:L});return ie&&Array.isArray(ie)&&(k.providerData=ie.map(V=>Object.assign({},V))),C&&(k._redirectEventId=C),k}static async _fromIdTokenResponse(e,t,i=!1){const s=new qs;s.updateFromServerResponse(t);const a=new Yr({uid:t.localId,auth:e,stsTokenManager:s,isAnonymous:i});return await td(a),a}static async _fromGetAccountInfoResponse(e,t,i){const s=t.users[0];xe(s.localId!==void 0,"internal-error");const a=s.providerUserInfo!==void 0?Vw(s.providerUserInfo):[],u=!(s.email&&s.passwordHash)&&!(a!=null&&a.length),d=new qs;d.updateFromIdToken(i);const f=new Yr({uid:s.localId,auth:e,stsTokenManager:d,isAnonymous:u}),p={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new cp(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(a!=null&&a.length)};return Object.assign(f,p),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kv=new Map;function Xr(n){ti(n instanceof Function,"Expected a class definition");let e=kv.get(n);return e?(ti(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,kv.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mw{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Mw.type="NONE";const bv=Mw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fc(n,e,t){return`firebase:${n}:${e}:${t}`}class Ks{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:s,name:a}=this.auth;this.fullUserKey=Fc(this.userKey,s.apiKey,a),this.fullPersistenceKey=Fc("persistence",s.apiKey,a),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Yr._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,i="authUser"){if(!t.length)return new Ks(Xr(bv),e,i);const s=(await Promise.all(t.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let a=s[0]||Xr(bv);const u=Fc(i,e.config.apiKey,e.name);let d=null;for(const p of t)try{const v=await p._get(u);if(v){const w=Yr._fromJSON(e,v);p!==a&&(d=w),a=p;break}}catch{}const f=s.filter(p=>p._shouldAllowMigration);return!a._shouldAllowMigration||!f.length?new Ks(a,e,i):(a=f[0],d&&await a._set(u,d.toJSON()),await Promise.all(t.map(async p=>{if(p!==a)try{await p._remove(u)}catch{}})),new Ks(a,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nv(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(zw(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Fw(e))return"Firefox";if(e.includes("silk/"))return"Silk";if($w(e))return"Blackberry";if(Ww(e))return"Webos";if(Uw(e))return"Safari";if((e.includes("chrome/")||jw(e))&&!e.includes("edge/"))return"Chrome";if(Bw(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(t);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function Fw(n=Gt()){return/firefox\//i.test(n)}function Uw(n=Gt()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function jw(n=Gt()){return/crios\//i.test(n)}function zw(n=Gt()){return/iemobile/i.test(n)}function Bw(n=Gt()){return/android/i.test(n)}function $w(n=Gt()){return/blackberry/i.test(n)}function Ww(n=Gt()){return/webos/i.test(n)}function nm(n=Gt()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function qR(n=Gt()){var e;return nm(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function KR(){return u1()&&document.documentMode===10}function Hw(n=Gt()){return nm(n)||Bw(n)||Ww(n)||$w(n)||/windows phone/i.test(n)||zw(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qw(n,e=[]){let t;switch(n){case"Browser":t=Nv(Gt());break;case"Worker":t=`${Nv(Gt())}-${n}`;break;default:t=n}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${pa}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GR{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=a=>new Promise((u,d)=>{try{const f=e(a);u(f)}catch(f){d(f)}});i.onAbort=t,this.queue.push(i);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const i of this.queue)await i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(const s of t)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QR(n,e={}){return ma(n,"GET","/v2/passwordPolicy",em(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YR=6;class XR{constructor(e){var t,i,s,a;const u=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=u.minPasswordLength)!==null&&t!==void 0?t:YR,u.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=u.maxPasswordLength),u.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=u.containsLowercaseCharacter),u.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=u.containsUppercaseCharacter),u.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=u.containsNumericCharacter),u.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=u.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,i,s,a,u,d;const f={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,f),this.validatePasswordCharacterOptions(e,f),f.isValid&&(f.isValid=(t=f.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),f.isValid&&(f.isValid=(i=f.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),f.isValid&&(f.isValid=(s=f.containsLowercaseLetter)!==null&&s!==void 0?s:!0),f.isValid&&(f.isValid=(a=f.containsUppercaseLetter)!==null&&a!==void 0?a:!0),f.isValid&&(f.isValid=(u=f.containsNumericCharacter)!==null&&u!==void 0?u:!0),f.isValid&&(f.isValid=(d=f.containsNonAlphanumericCharacter)!==null&&d!==void 0?d:!0),f}validatePasswordLengthOptions(e,t){const i=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),s&&(t.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let s=0;s<e.length;s++)i=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,s,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JR{constructor(e,t,i,s){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Dv(this),this.idTokenSubscription=new Dv(this),this.beforeStateQueue=new GR(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=bw,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Xr(t)),this._initializationPromise=this.queue(async()=>{var i,s;if(!this._deleted&&(this.persistenceManager=await Ks.create(this,e),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Lw(this,{idToken:e}),i=await Yr._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Gr(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let s=i,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,d=s==null?void 0:s._redirectEventId,f=await this.tryRedirectSignIn(e);(!u||u===d)&&(f!=null&&f.user)&&(s=f.user,a=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return xe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await td(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=DR()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Gr(this.app))return Promise.reject(Uo(this));const t=e?Qt(e):null;return t&&xe(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&xe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Gr(this.app)?Promise.reject(Uo(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Gr(this.app)?Promise.reject(Uo(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Xr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await QR(this),t=new XR(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Gl("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),await HR(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const i=await this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Xr(e)||this._popupRedirectResolver;xe(t,this,"argument-error"),this.redirectPersistenceManager=await Ks.create(this,[Xr(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,i;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,s){if(this._deleted)return()=>{};const a=typeof t=="function"?t:t.next.bind(t);let u=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(xe(d,this,"internal-error"),d.then(()=>{u||a(this.currentUser)}),typeof t=="function"){const f=e.addObserver(t,i,s);return()=>{u=!0,f()}}else{const f=e.addObserver(t);return()=>{u=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return xe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=qw(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(t["X-Firebase-Client"]=i);const s=await this._getAppCheckToken();return s&&(t["X-Firebase-AppCheck"]=s),t}async _getAppCheckToken(){var e;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&PR(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function Sd(n){return Qt(n)}class Dv{constructor(e){this.auth=e,this.observer=null,this.addObserver=y1(t=>this.observer=t)}get next(){return xe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function ZR(n){rm=n}function eA(n){return rm.loadJS(n)}function tA(){return rm.gapiScript}function nA(n){return`__${n}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rA(n,e){const t=Yp(n,"auth");if(t.isInitialized()){const s=t.getImmediate(),a=t.getOptions();if(Jc(a,e??{}))return s;Sr(s,"already-initialized")}return t.initialize({options:e})}function iA(n,e){const t=(e==null?void 0:e.persistence)||[],i=(Array.isArray(t)?t:[t]).map(Xr);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function oA(n,e,t){const i=Sd(n);xe(i._canInitEmulator,i,"emulator-config-failed"),xe(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const s=!1,a=Kw(e),{host:u,port:d}=sA(e),f=d===null?"":`:${d}`;i.config.emulator={url:`${a}//${u}${f}/`},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:u,port:d,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:s})}),aA()}function Kw(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function sA(n){const e=Kw(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(i);if(s){const a=s[1];return{host:a,port:Ov(i.substr(a.length+1))}}else{const[a,u]=i.split(":");return{host:a,port:Ov(u)}}}function Ov(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function aA(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gw{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Qr("not implemented")}_getIdTokenResponse(e){return Qr("not implemented")}_linkToIdToken(e,t){return Qr("not implemented")}_getReauthenticationResolver(e){return Qr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gs(n,e){return VR(n,"POST","/v1/accounts:signInWithIdp",em(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lA="http://localhost";class Bo extends Gw{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Bo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Sr("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:s}=t,a=Yl(t,["providerId","signInMethod"]);if(!i||!s)return null;const u=new Bo(i,s);return u.idToken=a.idToken||void 0,u.accessToken=a.accessToken||void 0,u.secret=a.secret,u.nonce=a.nonce,u.pendingToken=a.pendingToken||null,u}_getIdTokenResponse(e){const t=this.buildRequest();return Gs(e,t)}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,Gs(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Gs(e,t)}buildRequest(){const e={requestUri:lA,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Ql(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class im{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jl extends im{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mi extends Jl{constructor(){super("facebook.com")}static credential(e){return Bo._fromParams({providerId:Mi.PROVIDER_ID,signInMethod:Mi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Mi.credentialFromTaggedObject(e)}static credentialFromError(e){return Mi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Mi.credential(e.oauthAccessToken)}catch{return null}}}Mi.FACEBOOK_SIGN_IN_METHOD="facebook.com";Mi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kr extends Jl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Bo._fromParams({providerId:Kr.PROVIDER_ID,signInMethod:Kr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Kr.credentialFromTaggedObject(e)}static credentialFromError(e){return Kr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i}=e;if(!t&&!i)return null;try{return Kr.credential(t,i)}catch{return null}}}Kr.GOOGLE_SIGN_IN_METHOD="google.com";Kr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fi extends Jl{constructor(){super("github.com")}static credential(e){return Bo._fromParams({providerId:Fi.PROVIDER_ID,signInMethod:Fi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Fi.credentialFromTaggedObject(e)}static credentialFromError(e){return Fi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Fi.credential(e.oauthAccessToken)}catch{return null}}}Fi.GITHUB_SIGN_IN_METHOD="github.com";Fi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ui extends Jl{constructor(){super("twitter.com")}static credential(e,t){return Bo._fromParams({providerId:Ui.PROVIDER_ID,signInMethod:Ui.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Ui.credentialFromTaggedObject(e)}static credentialFromError(e){return Ui.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:i}=e;if(!t||!i)return null;try{return Ui.credential(t,i)}catch{return null}}}Ui.TWITTER_SIGN_IN_METHOD="twitter.com";Ui.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ea{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,i,s=!1){const a=await Yr._fromIdTokenResponse(e,i,s),u=Lv(i);return new ea({user:a,providerId:u,_tokenResponse:i,operationType:t})}static async _forOperation(e,t,i){await e._updateTokensIfNecessary(i,!0);const s=Lv(i);return new ea({user:e,providerId:s,_tokenResponse:i,operationType:t})}}function Lv(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nd extends ai{constructor(e,t,i,s){var a;super(t.code,t.message),this.operationType=i,this.user=s,Object.setPrototypeOf(this,nd.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,s){return new nd(e,t,i,s)}}function Qw(n,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?nd._fromErrorAndOperation(n,a,e,i):a})}async function uA(n,e,t=!1){const i=await Ol(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return ea._forOperation(n,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cA(n,e,t=!1){const{auth:i}=n;if(Gr(i.app))return Promise.reject(Uo(i));const s="reauthenticate";try{const a=await Ol(n,Qw(i,s,e,n),t);xe(a.idToken,i,"internal-error");const u=tm(a.idToken);xe(u,i,"internal-error");const{sub:d}=u;return xe(n.uid===d,i,"user-mismatch"),ea._forOperation(n,s,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&Sr(i,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dA(n,e,t=!1){if(Gr(n.app))return Promise.reject(Uo(n));const i="signIn",s=await Qw(n,i,e),a=await ea._fromIdTokenResponse(n,i,s);return t||await n._updateCurrentUser(a.user),a}function hA(n,e,t,i){return Qt(n).onIdTokenChanged(e,t,i)}function fA(n,e,t){return Qt(n).beforeAuthStateChanged(e,t)}function pA(n,e,t,i){return Qt(n).onAuthStateChanged(e,t,i)}function mA(n){return Qt(n).signOut()}const rd="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yw{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(rd,"1"),this.storage.removeItem(rd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gA=1e3,yA=10;class Xw extends Yw{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Hw(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const i=this.storage.getItem(t),s=this.localCache[t];i!==s&&e(t,s,i)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((u,d,f)=>{this.notifyListeners(u,f)});return}const i=e.key;t?this.detachListener():this.stopPolling();const s=()=>{const u=this.storage.getItem(i);!t&&this.localCache[i]===u||this.notifyListeners(i,u)},a=this.storage.getItem(i);KR()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,yA):s()}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const s of Array.from(i))s(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:i}),!0)})},gA)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}Xw.type="LOCAL";const vA=Xw;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jw extends Yw{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}Jw.type="SESSION";const Zw=Jw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _A(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Id{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(s=>s.isListeningto(e));if(t)return t;const i=new Id(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:i,eventType:s,data:a}=t.data,u=this.handlersMap[s];if(!(u!=null&&u.size))return;t.ports[0].postMessage({status:"ack",eventId:i,eventType:s});const d=Array.from(u).map(async p=>p(t.origin,a)),f=await _A(d);t.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:f})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Id.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function om(n="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wA{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,i=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let a,u;return new Promise((d,f)=>{const p=om("",20);s.port1.start();const v=setTimeout(()=>{f(new Error("unsupported_event"))},i);u={messageChannel:s,onMessage(w){const E=w;if(E.data.eventId===p)switch(E.data.status){case"ack":clearTimeout(v),a=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),d(E.data.response);break;default:clearTimeout(v),clearTimeout(a),f(new Error("invalid_response"));break}}},this.handlers.add(u),s.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:p,data:t},[s.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vr(){return window}function EA(n){vr().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e0(){return typeof vr().WorkerGlobalScope<"u"&&typeof vr().importScripts=="function"}async function TA(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function SA(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function IA(){return e0()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t0="firebaseLocalStorageDb",CA=1,id="firebaseLocalStorage",n0="fbase_key";class Zl{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Cd(n,e){return n.transaction([id],e?"readwrite":"readonly").objectStore(id)}function RA(){const n=indexedDB.deleteDatabase(t0);return new Zl(n).toPromise()}function dp(){const n=indexedDB.open(t0,CA);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(id,{keyPath:n0})}catch(s){t(s)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(id)?e(i):(i.close(),await RA(),e(await dp()))})})}async function Vv(n,e,t){const i=Cd(n,!0).put({[n0]:e,value:t});return new Zl(i).toPromise()}async function AA(n,e){const t=Cd(n,!1).get(e),i=await new Zl(t).toPromise();return i===void 0?null:i.value}function Mv(n,e){const t=Cd(n,!0).delete(e);return new Zl(t).toPromise()}const xA=800,PA=3;class r0{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await dp(),this.db)}async _withRetries(e){let t=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(t++>PA)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return e0()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Id._getInstance(IA()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await TA(),!this.activeServiceWorker)return;this.sender=new wA(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((t=i[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||SA()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await dp();return await Vv(e,rd,"1"),await Mv(e,rd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(i=>Vv(i,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(i=>AA(i,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Mv(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const a=Cd(s,!1).getAll();return new Zl(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],i=new Set;if(e.length!==0)for(const{fbase_key:s,value:a}of e)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(a)&&(this.notifyListeners(s,a),t.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),t.push(s));return t}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const s of Array.from(i))s(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),xA)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}r0.type="LOCAL";const kA=r0;new Xl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i0(n,e){return e?Xr(e):(xe(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sm extends Gw{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Gs(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Gs(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Gs(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function bA(n){return dA(n.auth,new sm(n),n.bypassAuthState)}function NA(n){const{auth:e,user:t}=n;return xe(t,e,"internal-error"),cA(t,new sm(n),n.bypassAuthState)}async function DA(n){const{auth:e,user:t}=n;return xe(t,e,"internal-error"),uA(t,new sm(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o0{constructor(e,t,i,s,a=!1){this.auth=e,this.resolver=i,this.user=s,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:i,postBody:s,tenantId:a,error:u,type:d}=e;if(u){this.reject(u);return}const f={auth:this.auth,requestUri:t,sessionId:i,tenantId:a||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(f))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return bA;case"linkViaPopup":case"linkViaRedirect":return DA;case"reauthViaPopup":case"reauthViaRedirect":return NA;default:Sr(this.auth,"internal-error")}}resolve(e){ti(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ti(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OA=new Xl(2e3,1e4);async function LA(n,e,t){if(Gr(n.app))return Promise.reject(tr(n,"operation-not-supported-in-this-environment"));const i=Sd(n);kR(n,e,im);const s=i0(i,t);return new Lo(i,"signInViaPopup",e,s).executeNotNull()}class Lo extends o0{constructor(e,t,i,s,a){super(e,t,s,a),this.provider=i,this.authWindow=null,this.pollId=null,Lo.currentPopupAction&&Lo.currentPopupAction.cancel(),Lo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return xe(e,this.auth,"internal-error"),e}async onExecution(){ti(this.filter.length===1,"Popup operations only handle one event");const e=om();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(tr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(tr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Lo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,i;if(!((i=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(tr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,OA.get())};e()}}Lo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VA="pendingRedirect",Uc=new Map;class MA extends o0{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}async execute(){let e=Uc.get(this.auth._key());if(!e){try{const i=await FA(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}Uc.set(this.auth._key(),e)}return this.bypassAuthState||Uc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function FA(n,e){const t=zA(e),i=jA(n);if(!await i._isAvailable())return!1;const s=await i._get(t)==="true";return await i._remove(t),s}function UA(n,e){Uc.set(n._key(),e)}function jA(n){return Xr(n._redirectPersistence)}function zA(n){return Fc(VA,n.config.apiKey,n.name)}async function BA(n,e,t=!1){if(Gr(n.app))return Promise.reject(Uo(n));const i=Sd(n),s=i0(i,e),u=await new MA(i,s,t).execute();return u&&!t&&(delete u.user._redirectEventId,await i._persistUserIfCurrent(u.user),await i._setRedirectUser(null,e)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $A=10*60*1e3;class WA{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!HA(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var i;if(e.error&&!s0(e)){const s=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";t.onError(tr(this.auth,s))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=$A&&this.cachedEventUids.clear(),this.cachedEventUids.has(Fv(e))}saveEventToCache(e){this.cachedEventUids.add(Fv(e)),this.lastProcessedEventTime=Date.now()}}function Fv(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function s0({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function HA(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return s0(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qA(n,e={}){return ma(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KA=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,GA=/^https?/;async function QA(n){if(n.config.emulator)return;const{authorizedDomains:e}=await qA(n);for(const t of e)try{if(YA(t))return}catch{}Sr(n,"unauthorized-domain")}function YA(n){const e=up(),{protocol:t,hostname:i}=new URL(e);if(n.startsWith("chrome-extension://")){const u=new URL(n);return u.hostname===""&&i===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&u.hostname===i}if(!GA.test(t))return!1;if(KA.test(n))return i===n;const s=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XA=new Xl(3e4,6e4);function Uv(){const n=vr().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function JA(n){return new Promise((e,t)=>{var i,s,a;function u(){Uv(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Uv(),t(tr(n,"network-request-failed"))},timeout:XA.get()})}if(!((s=(i=vr().gapi)===null||i===void 0?void 0:i.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((a=vr().gapi)===null||a===void 0)&&a.load)u();else{const d=nA("iframefcb");return vr()[d]=()=>{gapi.load?u():t(tr(n,"network-request-failed"))},eA(`${tA()}?onload=${d}`).catch(f=>t(f))}}).catch(e=>{throw jc=null,e})}let jc=null;function ZA(n){return jc=jc||JA(n),jc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ex=new Xl(5e3,15e3),tx="__/auth/iframe",nx="emulator/auth/iframe",rx={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ix=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ox(n){const e=n.config;xe(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?Zp(e,nx):`https://${n.config.authDomain}/${tx}`,i={apiKey:e.apiKey,appName:n.name,v:pa},s=ix.get(n.config.apiHost);s&&(i.eid=s);const a=n._getFrameworks();return a.length&&(i.fw=a.join(",")),`${t}?${Ql(i).slice(1)}`}async function sx(n){const e=await ZA(n),t=vr().gapi;return xe(t,n,"internal-error"),e.open({where:document.body,url:ox(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:rx,dontclear:!0},i=>new Promise(async(s,a)=>{await i.restyle({setHideOnLeave:!1});const u=tr(n,"network-request-failed"),d=vr().setTimeout(()=>{a(u)},ex.get());function f(){vr().clearTimeout(d),s(i)}i.ping(f).then(f,()=>{a(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ax={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},lx=500,ux=600,cx="_blank",dx="http://localhost";class jv{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function hx(n,e,t,i=lx,s=ux){const a=Math.max((window.screen.availHeight-s)/2,0).toString(),u=Math.max((window.screen.availWidth-i)/2,0).toString();let d="";const f=Object.assign(Object.assign({},ax),{width:i.toString(),height:s.toString(),top:a,left:u}),p=Gt().toLowerCase();t&&(d=jw(p)?cx:t),Fw(p)&&(e=e||dx,f.scrollbars="yes");const v=Object.entries(f).reduce((E,[R,x])=>`${E}${R}=${x},`,"");if(qR(p)&&d!=="_self")return fx(e||"",d),new jv(null);const w=window.open(e||"",d,v);xe(w,n,"popup-blocked");try{w.focus()}catch{}return new jv(w)}function fx(n,e){const t=document.createElement("a");t.href=n,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const px="__/auth/handler",mx="emulator/auth/handler",gx=encodeURIComponent("fac");async function zv(n,e,t,i,s,a){xe(n.config.authDomain,n,"auth-domain-config-required"),xe(n.config.apiKey,n,"invalid-api-key");const u={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:i,v:pa,eventId:s};if(e instanceof im){e.setDefaultLanguage(n.languageCode),u.providerId=e.providerId||"",g1(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,w]of Object.entries({}))u[v]=w}if(e instanceof Jl){const v=e.getScopes().filter(w=>w!=="");v.length>0&&(u.scopes=v.join(","))}n.tenantId&&(u.tid=n.tenantId);const d=u;for(const v of Object.keys(d))d[v]===void 0&&delete d[v];const f=await n._getAppCheckToken(),p=f?`#${gx}=${encodeURIComponent(f)}`:"";return`${yx(n)}?${Ql(d).slice(1)}${p}`}function yx({config:n}){return n.emulator?Zp(n,mx):`https://${n.authDomain}/${px}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zf="webStorageSupport";class vx{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Zw,this._completeRedirectFn=BA,this._overrideRedirectResult=UA}async _openPopup(e,t,i,s){var a;ti((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const u=await zv(e,t,i,up(),s);return hx(e,u,om())}async _openRedirect(e,t,i,s){await this._originValidation(e);const a=await zv(e,t,i,up(),s);return EA(a),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:s,promise:a}=this.eventManagers[t];return s?Promise.resolve(s):(ti(a,"If manager is not set, promise should be"),a)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}async initAndGetManager(e){const t=await sx(e),i=new WA(e);return t.register("authEvent",s=>(xe(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(zf,{type:zf},s=>{var a;const u=(a=s==null?void 0:s[0])===null||a===void 0?void 0:a[zf];u!==void 0&&t(!!u),Sr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=QA(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Hw()||Uw()||nm()}}const _x=vx;var Bv="@firebase/auth",$v="1.8.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wx{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){xe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ex(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Tx(n){Zs(new zo("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:u,authDomain:d}=i.options;xe(u&&!u.includes(":"),"invalid-api-key",{appName:i.name});const f={apiKey:u,authDomain:d,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:qw(n)},p=new JR(i,s,a,f);return iA(p,t),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),Zs(new zo("auth-internal",e=>{const t=Sd(e.getProvider("auth").getImmediate());return(i=>new wx(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),$i(Bv,$v,Ex(n)),$i(Bv,$v,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sx=5*60,Ix=Sw("authIdTokenMaxAge")||Sx;let Wv=null;const Cx=n=>async e=>{const t=e&&await e.getIdTokenResult(),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>Ix)return;const s=t==null?void 0:t.token;Wv!==s&&(Wv=s,await fetch(n,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function Rx(n=Aw()){const e=Yp(n,"auth");if(e.isInitialized())return e.getImmediate();const t=rA(n,{popupRedirectResolver:_x,persistence:[kA,vA,Zw]}),i=Sw("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(i,location.origin);if(location.origin===a.origin){const u=Cx(a.toString());fA(t,u,()=>u(t.currentUser)),hA(t,d=>u(d))}}const s=Ew("auth");return s&&oA(t,`http://${s}`),t}function Ax(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}ZR({loadJS(n){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=s=>{const a=tr("internal-error");a.customData=s,t(a)},i.type="text/javascript",i.charset="UTF-8",Ax().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Tx("Browser");/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function xx(n,e,t,i){function s(a){return a instanceof t?a:new t(function(u){u(a)})}return new(t||(t=Promise))(function(a,u){function d(v){try{p(i.next(v))}catch(w){u(w)}}function f(v){try{p(i.throw(v))}catch(w){u(w)}}function p(v){v.done?a(v.value):s(v.value).then(d,f)}p((i=i.apply(n,[])).next())})}function Px(n,e){var t={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},i,s,a,u;return u={next:d(0),throw:d(1),return:d(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function d(p){return function(v){return f([p,v])}}function f(p){if(i)throw new TypeError("Generator is already executing.");for(;t;)try{if(i=1,s&&(a=p[0]&2?s.return:p[0]?s.throw||((a=s.return)&&a.call(s),0):s.next)&&!(a=a.call(s,p[1])).done)return a;switch(s=0,a&&(p=[p[0]&2,a.value]),p[0]){case 0:case 1:a=p;break;case 4:return t.label++,{value:p[1],done:!1};case 5:t.label++,s=p[1],p=[0];continue;case 7:p=t.ops.pop(),t.trys.pop();continue;default:if(a=t.trys,!(a=a.length>0&&a[a.length-1])&&(p[0]===6||p[0]===2)){t=0;continue}if(p[0]===3&&(!a||p[1]>a[0]&&p[1]<a[3])){t.label=p[1];break}if(p[0]===6&&t.label<a[1]){t.label=a[1],a=p;break}if(a&&t.label<a[2]){t.label=a[2],t.ops.push(p);break}a[2]&&t.ops.pop(),t.trys.pop();continue}p=e.call(n,t)}catch(v){p=[6,v],s=0}finally{i=a=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Hs=function(){return Hs=Object.assign||function(e){for(var t,i=1,s=arguments.length;i<s;i++){t=arguments[i];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},Hs.apply(this,arguments)},a0=function(n){return{loading:n==null,value:n}},kx=function(){return function(n,e){switch(e.type){case"error":return Hs(Hs({},n),{error:e.error,loading:!1,value:void 0});case"reset":return a0(e.defaultValue);case"value":return Hs(Hs({},n),{error:void 0,loading:!1,value:e.value});default:return n}}},bx=function(n){var e=n?n():void 0,t=S.useReducer(kx(),a0(e)),i=t[0],s=t[1],a=S.useCallback(function(){var f=n?n():void 0;s({type:"reset",defaultValue:f})},[n]),u=S.useCallback(function(f){s({type:"error",error:f})},[]),d=S.useCallback(function(f){s({type:"value",value:f})},[]);return S.useMemo(function(){return{error:i.error,loading:i.loading,reset:a,setError:u,setValue:d,value:i.value}},[i.error,i.loading,a,u,d,i.value])},Rd=function(n,e){var t=bx(function(){return n.currentUser}),i=t.error,s=t.loading,a=t.setError,u=t.setValue,d=t.value;return S.useEffect(function(){var f=pA(n,function(p){return xx(void 0,void 0,void 0,function(){var v;return Px(this,function(w){switch(w.label){case 0:return[3,4];case 1:return w.trys.push([1,3,,4]),[4,e.onUserChanged(p)];case 2:return w.sent(),[3,4];case 3:return v=w.sent(),a(v),[3,4];case 4:return u(p),[2]}})})},a);return function(){f()}},[n]),[d,s,i]},Nx="firebase",Dx="11.0.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */$i(Nx,Dx,"app");var Hv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var jo,l0;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(b,P){function k(){}k.prototype=P.prototype,b.D=P.prototype,b.prototype=new k,b.prototype.constructor=b,b.C=function(V,F,M){for(var N=Array(arguments.length-2),ve=2;ve<arguments.length;ve++)N[ve-2]=arguments[ve];return P.prototype[F].apply(V,N)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,t),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(b,P,k){k||(k=0);var V=Array(16);if(typeof P=="string")for(var F=0;16>F;++F)V[F]=P.charCodeAt(k++)|P.charCodeAt(k++)<<8|P.charCodeAt(k++)<<16|P.charCodeAt(k++)<<24;else for(F=0;16>F;++F)V[F]=P[k++]|P[k++]<<8|P[k++]<<16|P[k++]<<24;P=b.g[0],k=b.g[1],F=b.g[2];var M=b.g[3],N=P+(M^k&(F^M))+V[0]+3614090360&4294967295;P=k+(N<<7&4294967295|N>>>25),N=M+(F^P&(k^F))+V[1]+3905402710&4294967295,M=P+(N<<12&4294967295|N>>>20),N=F+(k^M&(P^k))+V[2]+606105819&4294967295,F=M+(N<<17&4294967295|N>>>15),N=k+(P^F&(M^P))+V[3]+3250441966&4294967295,k=F+(N<<22&4294967295|N>>>10),N=P+(M^k&(F^M))+V[4]+4118548399&4294967295,P=k+(N<<7&4294967295|N>>>25),N=M+(F^P&(k^F))+V[5]+1200080426&4294967295,M=P+(N<<12&4294967295|N>>>20),N=F+(k^M&(P^k))+V[6]+2821735955&4294967295,F=M+(N<<17&4294967295|N>>>15),N=k+(P^F&(M^P))+V[7]+4249261313&4294967295,k=F+(N<<22&4294967295|N>>>10),N=P+(M^k&(F^M))+V[8]+1770035416&4294967295,P=k+(N<<7&4294967295|N>>>25),N=M+(F^P&(k^F))+V[9]+2336552879&4294967295,M=P+(N<<12&4294967295|N>>>20),N=F+(k^M&(P^k))+V[10]+4294925233&4294967295,F=M+(N<<17&4294967295|N>>>15),N=k+(P^F&(M^P))+V[11]+2304563134&4294967295,k=F+(N<<22&4294967295|N>>>10),N=P+(M^k&(F^M))+V[12]+1804603682&4294967295,P=k+(N<<7&4294967295|N>>>25),N=M+(F^P&(k^F))+V[13]+4254626195&4294967295,M=P+(N<<12&4294967295|N>>>20),N=F+(k^M&(P^k))+V[14]+2792965006&4294967295,F=M+(N<<17&4294967295|N>>>15),N=k+(P^F&(M^P))+V[15]+1236535329&4294967295,k=F+(N<<22&4294967295|N>>>10),N=P+(F^M&(k^F))+V[1]+4129170786&4294967295,P=k+(N<<5&4294967295|N>>>27),N=M+(k^F&(P^k))+V[6]+3225465664&4294967295,M=P+(N<<9&4294967295|N>>>23),N=F+(P^k&(M^P))+V[11]+643717713&4294967295,F=M+(N<<14&4294967295|N>>>18),N=k+(M^P&(F^M))+V[0]+3921069994&4294967295,k=F+(N<<20&4294967295|N>>>12),N=P+(F^M&(k^F))+V[5]+3593408605&4294967295,P=k+(N<<5&4294967295|N>>>27),N=M+(k^F&(P^k))+V[10]+38016083&4294967295,M=P+(N<<9&4294967295|N>>>23),N=F+(P^k&(M^P))+V[15]+3634488961&4294967295,F=M+(N<<14&4294967295|N>>>18),N=k+(M^P&(F^M))+V[4]+3889429448&4294967295,k=F+(N<<20&4294967295|N>>>12),N=P+(F^M&(k^F))+V[9]+568446438&4294967295,P=k+(N<<5&4294967295|N>>>27),N=M+(k^F&(P^k))+V[14]+3275163606&4294967295,M=P+(N<<9&4294967295|N>>>23),N=F+(P^k&(M^P))+V[3]+4107603335&4294967295,F=M+(N<<14&4294967295|N>>>18),N=k+(M^P&(F^M))+V[8]+1163531501&4294967295,k=F+(N<<20&4294967295|N>>>12),N=P+(F^M&(k^F))+V[13]+2850285829&4294967295,P=k+(N<<5&4294967295|N>>>27),N=M+(k^F&(P^k))+V[2]+4243563512&4294967295,M=P+(N<<9&4294967295|N>>>23),N=F+(P^k&(M^P))+V[7]+1735328473&4294967295,F=M+(N<<14&4294967295|N>>>18),N=k+(M^P&(F^M))+V[12]+2368359562&4294967295,k=F+(N<<20&4294967295|N>>>12),N=P+(k^F^M)+V[5]+4294588738&4294967295,P=k+(N<<4&4294967295|N>>>28),N=M+(P^k^F)+V[8]+2272392833&4294967295,M=P+(N<<11&4294967295|N>>>21),N=F+(M^P^k)+V[11]+1839030562&4294967295,F=M+(N<<16&4294967295|N>>>16),N=k+(F^M^P)+V[14]+4259657740&4294967295,k=F+(N<<23&4294967295|N>>>9),N=P+(k^F^M)+V[1]+2763975236&4294967295,P=k+(N<<4&4294967295|N>>>28),N=M+(P^k^F)+V[4]+1272893353&4294967295,M=P+(N<<11&4294967295|N>>>21),N=F+(M^P^k)+V[7]+4139469664&4294967295,F=M+(N<<16&4294967295|N>>>16),N=k+(F^M^P)+V[10]+3200236656&4294967295,k=F+(N<<23&4294967295|N>>>9),N=P+(k^F^M)+V[13]+681279174&4294967295,P=k+(N<<4&4294967295|N>>>28),N=M+(P^k^F)+V[0]+3936430074&4294967295,M=P+(N<<11&4294967295|N>>>21),N=F+(M^P^k)+V[3]+3572445317&4294967295,F=M+(N<<16&4294967295|N>>>16),N=k+(F^M^P)+V[6]+76029189&4294967295,k=F+(N<<23&4294967295|N>>>9),N=P+(k^F^M)+V[9]+3654602809&4294967295,P=k+(N<<4&4294967295|N>>>28),N=M+(P^k^F)+V[12]+3873151461&4294967295,M=P+(N<<11&4294967295|N>>>21),N=F+(M^P^k)+V[15]+530742520&4294967295,F=M+(N<<16&4294967295|N>>>16),N=k+(F^M^P)+V[2]+3299628645&4294967295,k=F+(N<<23&4294967295|N>>>9),N=P+(F^(k|~M))+V[0]+4096336452&4294967295,P=k+(N<<6&4294967295|N>>>26),N=M+(k^(P|~F))+V[7]+1126891415&4294967295,M=P+(N<<10&4294967295|N>>>22),N=F+(P^(M|~k))+V[14]+2878612391&4294967295,F=M+(N<<15&4294967295|N>>>17),N=k+(M^(F|~P))+V[5]+4237533241&4294967295,k=F+(N<<21&4294967295|N>>>11),N=P+(F^(k|~M))+V[12]+1700485571&4294967295,P=k+(N<<6&4294967295|N>>>26),N=M+(k^(P|~F))+V[3]+2399980690&4294967295,M=P+(N<<10&4294967295|N>>>22),N=F+(P^(M|~k))+V[10]+4293915773&4294967295,F=M+(N<<15&4294967295|N>>>17),N=k+(M^(F|~P))+V[1]+2240044497&4294967295,k=F+(N<<21&4294967295|N>>>11),N=P+(F^(k|~M))+V[8]+1873313359&4294967295,P=k+(N<<6&4294967295|N>>>26),N=M+(k^(P|~F))+V[15]+4264355552&4294967295,M=P+(N<<10&4294967295|N>>>22),N=F+(P^(M|~k))+V[6]+2734768916&4294967295,F=M+(N<<15&4294967295|N>>>17),N=k+(M^(F|~P))+V[13]+1309151649&4294967295,k=F+(N<<21&4294967295|N>>>11),N=P+(F^(k|~M))+V[4]+4149444226&4294967295,P=k+(N<<6&4294967295|N>>>26),N=M+(k^(P|~F))+V[11]+3174756917&4294967295,M=P+(N<<10&4294967295|N>>>22),N=F+(P^(M|~k))+V[2]+718787259&4294967295,F=M+(N<<15&4294967295|N>>>17),N=k+(M^(F|~P))+V[9]+3951481745&4294967295,b.g[0]=b.g[0]+P&4294967295,b.g[1]=b.g[1]+(F+(N<<21&4294967295|N>>>11))&4294967295,b.g[2]=b.g[2]+F&4294967295,b.g[3]=b.g[3]+M&4294967295}i.prototype.u=function(b,P){P===void 0&&(P=b.length);for(var k=P-this.blockSize,V=this.B,F=this.h,M=0;M<P;){if(F==0)for(;M<=k;)s(this,b,M),M+=this.blockSize;if(typeof b=="string"){for(;M<P;)if(V[F++]=b.charCodeAt(M++),F==this.blockSize){s(this,V),F=0;break}}else for(;M<P;)if(V[F++]=b[M++],F==this.blockSize){s(this,V),F=0;break}}this.h=F,this.o+=P},i.prototype.v=function(){var b=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);b[0]=128;for(var P=1;P<b.length-8;++P)b[P]=0;var k=8*this.o;for(P=b.length-8;P<b.length;++P)b[P]=k&255,k/=256;for(this.u(b),b=Array(16),P=k=0;4>P;++P)for(var V=0;32>V;V+=8)b[k++]=this.g[P]>>>V&255;return b};function a(b,P){var k=d;return Object.prototype.hasOwnProperty.call(k,b)?k[b]:k[b]=P(b)}function u(b,P){this.h=P;for(var k=[],V=!0,F=b.length-1;0<=F;F--){var M=b[F]|0;V&&M==P||(k[F]=M,V=!1)}this.g=k}var d={};function f(b){return-128<=b&&128>b?a(b,function(P){return new u([P|0],0>P?-1:0)}):new u([b|0],0>b?-1:0)}function p(b){if(isNaN(b)||!isFinite(b))return w;if(0>b)return C(p(-b));for(var P=[],k=1,V=0;b>=k;V++)P[V]=b/k|0,k*=4294967296;return new u(P,0)}function v(b,P){if(b.length==0)throw Error("number format error: empty string");if(P=P||10,2>P||36<P)throw Error("radix out of range: "+P);if(b.charAt(0)=="-")return C(v(b.substring(1),P));if(0<=b.indexOf("-"))throw Error('number format error: interior "-" character');for(var k=p(Math.pow(P,8)),V=w,F=0;F<b.length;F+=8){var M=Math.min(8,b.length-F),N=parseInt(b.substring(F,F+M),P);8>M?(M=p(Math.pow(P,M)),V=V.j(M).add(p(N))):(V=V.j(k),V=V.add(p(N)))}return V}var w=f(0),E=f(1),R=f(16777216);n=u.prototype,n.m=function(){if(I(this))return-C(this).m();for(var b=0,P=1,k=0;k<this.g.length;k++){var V=this.i(k);b+=(0<=V?V:4294967296+V)*P,P*=4294967296}return b},n.toString=function(b){if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(x(this))return"0";if(I(this))return"-"+C(this).toString(b);for(var P=p(Math.pow(b,6)),k=this,V="";;){var F=G(k,P).g;k=D(k,F.j(P));var M=((0<k.g.length?k.g[0]:k.h)>>>0).toString(b);if(k=F,x(k))return M+V;for(;6>M.length;)M="0"+M;V=M+V}},n.i=function(b){return 0>b?0:b<this.g.length?this.g[b]:this.h};function x(b){if(b.h!=0)return!1;for(var P=0;P<b.g.length;P++)if(b.g[P]!=0)return!1;return!0}function I(b){return b.h==-1}n.l=function(b){return b=D(this,b),I(b)?-1:x(b)?0:1};function C(b){for(var P=b.g.length,k=[],V=0;V<P;V++)k[V]=~b.g[V];return new u(k,~b.h).add(E)}n.abs=function(){return I(this)?C(this):this},n.add=function(b){for(var P=Math.max(this.g.length,b.g.length),k=[],V=0,F=0;F<=P;F++){var M=V+(this.i(F)&65535)+(b.i(F)&65535),N=(M>>>16)+(this.i(F)>>>16)+(b.i(F)>>>16);V=N>>>16,M&=65535,N&=65535,k[F]=N<<16|M}return new u(k,k[k.length-1]&-2147483648?-1:0)};function D(b,P){return b.add(C(P))}n.j=function(b){if(x(this)||x(b))return w;if(I(this))return I(b)?C(this).j(C(b)):C(C(this).j(b));if(I(b))return C(this.j(C(b)));if(0>this.l(R)&&0>b.l(R))return p(this.m()*b.m());for(var P=this.g.length+b.g.length,k=[],V=0;V<2*P;V++)k[V]=0;for(V=0;V<this.g.length;V++)for(var F=0;F<b.g.length;F++){var M=this.i(V)>>>16,N=this.i(V)&65535,ve=b.i(F)>>>16,Oe=b.i(F)&65535;k[2*V+2*F]+=N*Oe,L(k,2*V+2*F),k[2*V+2*F+1]+=M*Oe,L(k,2*V+2*F+1),k[2*V+2*F+1]+=N*ve,L(k,2*V+2*F+1),k[2*V+2*F+2]+=M*ve,L(k,2*V+2*F+2)}for(V=0;V<P;V++)k[V]=k[2*V+1]<<16|k[2*V];for(V=P;V<2*P;V++)k[V]=0;return new u(k,0)};function L(b,P){for(;(b[P]&65535)!=b[P];)b[P+1]+=b[P]>>>16,b[P]&=65535,P++}function B(b,P){this.g=b,this.h=P}function G(b,P){if(x(P))throw Error("division by zero");if(x(b))return new B(w,w);if(I(b))return P=G(C(b),P),new B(C(P.g),C(P.h));if(I(P))return P=G(b,C(P)),new B(C(P.g),P.h);if(30<b.g.length){if(I(b)||I(P))throw Error("slowDivide_ only works with positive integers.");for(var k=E,V=P;0>=V.l(b);)k=X(k),V=X(V);var F=ie(k,1),M=ie(V,1);for(V=ie(V,2),k=ie(k,2);!x(V);){var N=M.add(V);0>=N.l(b)&&(F=F.add(k),M=N),V=ie(V,1),k=ie(k,1)}return P=D(b,F.j(P)),new B(F,P)}for(F=w;0<=b.l(P);){for(k=Math.max(1,Math.floor(b.m()/P.m())),V=Math.ceil(Math.log(k)/Math.LN2),V=48>=V?1:Math.pow(2,V-48),M=p(k),N=M.j(P);I(N)||0<N.l(b);)k-=V,M=p(k),N=M.j(P);x(M)&&(M=E),F=F.add(M),b=D(b,N)}return new B(F,b)}n.A=function(b){return G(this,b).h},n.and=function(b){for(var P=Math.max(this.g.length,b.g.length),k=[],V=0;V<P;V++)k[V]=this.i(V)&b.i(V);return new u(k,this.h&b.h)},n.or=function(b){for(var P=Math.max(this.g.length,b.g.length),k=[],V=0;V<P;V++)k[V]=this.i(V)|b.i(V);return new u(k,this.h|b.h)},n.xor=function(b){for(var P=Math.max(this.g.length,b.g.length),k=[],V=0;V<P;V++)k[V]=this.i(V)^b.i(V);return new u(k,this.h^b.h)};function X(b){for(var P=b.g.length+1,k=[],V=0;V<P;V++)k[V]=b.i(V)<<1|b.i(V-1)>>>31;return new u(k,b.h)}function ie(b,P){var k=P>>5;P%=32;for(var V=b.g.length-k,F=[],M=0;M<V;M++)F[M]=0<P?b.i(M+k)>>>P|b.i(M+k+1)<<32-P:b.i(M+k);return new u(F,b.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,l0=i,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.A,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=p,u.fromString=v,jo=u}).apply(typeof Hv<"u"?Hv:typeof self<"u"?self:typeof window<"u"?window:{});var Cc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var u0,Tl,c0,zc,hp,d0,h0,f0;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,g,_){return c==Array.prototype||c==Object.prototype||(c[g]=_.value),c};function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Cc=="object"&&Cc];for(var g=0;g<c.length;++g){var _=c[g];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var i=t(this);function s(c,g){if(g)e:{var _=i;c=c.split(".");for(var A=0;A<c.length-1;A++){var W=c[A];if(!(W in _))break e;_=_[W]}c=c[c.length-1],A=_[c],g=g(A),g!=A&&g!=null&&e(_,c,{configurable:!0,writable:!0,value:g})}}function a(c,g){c instanceof String&&(c+="");var _=0,A=!1,W={next:function(){if(!A&&_<c.length){var Q=_++;return{value:g(Q,c[Q]),done:!1}}return A=!0,{done:!0,value:void 0}}};return W[Symbol.iterator]=function(){return W},W}s("Array.prototype.values",function(c){return c||function(){return a(this,function(g,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},d=this||self;function f(c){var g=typeof c;return g=g!="object"?g:c?Array.isArray(c)?"array":g:"null",g=="array"||g=="object"&&typeof c.length=="number"}function p(c){var g=typeof c;return g=="object"&&c!=null||g=="function"}function v(c,g,_){return c.call.apply(c.bind,arguments)}function w(c,g,_){if(!c)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var W=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(W,A),c.apply(g,W)}}return function(){return c.apply(g,arguments)}}function E(c,g,_){return E=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?v:w,E.apply(null,arguments)}function R(c,g){var _=Array.prototype.slice.call(arguments,1);return function(){var A=_.slice();return A.push.apply(A,arguments),c.apply(this,A)}}function x(c,g){function _(){}_.prototype=g.prototype,c.aa=g.prototype,c.prototype=new _,c.prototype.constructor=c,c.Qb=function(A,W,Q){for(var le=Array(arguments.length-2),Qe=2;Qe<arguments.length;Qe++)le[Qe-2]=arguments[Qe];return g.prototype[W].apply(A,le)}}function I(c){const g=c.length;if(0<g){const _=Array(g);for(let A=0;A<g;A++)_[A]=c[A];return _}return[]}function C(c,g){for(let _=1;_<arguments.length;_++){const A=arguments[_];if(f(A)){const W=c.length||0,Q=A.length||0;c.length=W+Q;for(let le=0;le<Q;le++)c[W+le]=A[le]}else c.push(A)}}class D{constructor(g,_){this.i=g,this.j=_,this.h=0,this.g=null}get(){let g;return 0<this.h?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function L(c){return/^[\s\xa0]*$/.test(c)}function B(){var c=d.navigator;return c&&(c=c.userAgent)?c:""}function G(c){return G[" "](c),c}G[" "]=function(){};var X=B().indexOf("Gecko")!=-1&&!(B().toLowerCase().indexOf("webkit")!=-1&&B().indexOf("Edge")==-1)&&!(B().indexOf("Trident")!=-1||B().indexOf("MSIE")!=-1)&&B().indexOf("Edge")==-1;function ie(c,g,_){for(const A in c)g.call(_,c[A],A,c)}function b(c,g){for(const _ in c)g.call(void 0,c[_],_,c)}function P(c){const g={};for(const _ in c)g[_]=c[_];return g}const k="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function V(c,g){let _,A;for(let W=1;W<arguments.length;W++){A=arguments[W];for(_ in A)c[_]=A[_];for(let Q=0;Q<k.length;Q++)_=k[Q],Object.prototype.hasOwnProperty.call(A,_)&&(c[_]=A[_])}}function F(c){var g=1;c=c.split(":");const _=[];for(;0<g&&c.length;)_.push(c.shift()),g--;return c.length&&_.push(c.join(":")),_}function M(c){d.setTimeout(()=>{throw c},0)}function N(){var c=ae;let g=null;return c.g&&(g=c.g,c.g=c.g.next,c.g||(c.h=null),g.next=null),g}class ve{constructor(){this.h=this.g=null}add(g,_){const A=Oe.get();A.set(g,_),this.h?this.h.next=A:this.g=A,this.h=A}}var Oe=new D(()=>new Ee,c=>c.reset());class Ee{constructor(){this.next=this.g=this.h=null}set(g,_){this.h=g,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let ge,Y=!1,ae=new ve,se=()=>{const c=d.Promise.resolve(void 0);ge=()=>{c.then(z)}};var z=()=>{for(var c;c=N();){try{c.h.call(c.g)}catch(_){M(_)}var g=Oe;g.j(c),100>g.h&&(g.h++,c.next=g.g,g.g=c)}Y=!1};function J(){this.s=this.s,this.C=this.C}J.prototype.s=!1,J.prototype.ma=function(){this.s||(this.s=!0,this.N())},J.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function pe(c,g){this.type=c,this.g=this.target=g,this.defaultPrevented=!1}pe.prototype.h=function(){this.defaultPrevented=!0};var Ce=function(){if(!d.addEventListener||!Object.defineProperty)return!1;var c=!1,g=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};d.addEventListener("test",_,g),d.removeEventListener("test",_,g)}catch{}return c}();function Pe(c,g){if(pe.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var _=this.type=c.type,A=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=g,g=c.relatedTarget){if(X){e:{try{G(g.nodeName);var W=!0;break e}catch{}W=!1}W||(g=null)}}else _=="mouseover"?g=c.fromElement:_=="mouseout"&&(g=c.toElement);this.relatedTarget=g,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:Le[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Pe.aa.h.call(this)}}x(Pe,pe);var Le={2:"touch",3:"pen",4:"mouse"};Pe.prototype.h=function(){Pe.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var ue="closure_listenable_"+(1e6*Math.random()|0),_e=0;function De(c,g,_,A,W){this.listener=c,this.proxy=null,this.src=g,this.type=_,this.capture=!!A,this.ha=W,this.key=++_e,this.da=this.fa=!1}function ke(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Me(c){this.src=c,this.g={},this.h=0}Me.prototype.add=function(c,g,_,A,W){var Q=c.toString();c=this.g[Q],c||(c=this.g[Q]=[],this.h++);var le=ut(c,g,A,W);return-1<le?(g=c[le],_||(g.fa=!1)):(g=new De(g,this.src,Q,!!A,W),g.fa=_,c.push(g)),g};function ze(c,g){var _=g.type;if(_ in c.g){var A=c.g[_],W=Array.prototype.indexOf.call(A,g,void 0),Q;(Q=0<=W)&&Array.prototype.splice.call(A,W,1),Q&&(ke(g),c.g[_].length==0&&(delete c.g[_],c.h--))}}function ut(c,g,_,A){for(var W=0;W<c.length;++W){var Q=c[W];if(!Q.da&&Q.listener==g&&Q.capture==!!_&&Q.ha==A)return W}return-1}var At="closure_lm_"+(1e6*Math.random()|0),In={};function Ln(c,g,_,A,W){if(Array.isArray(g)){for(var Q=0;Q<g.length;Q++)Ln(c,g[Q],_,A,W);return null}return _=Ca(_),c&&c[ue]?c.K(g,_,p(A)?!!A.capture:!!A,W):Vn(c,g,_,!1,A,W)}function Vn(c,g,_,A,W,Q){if(!g)throw Error("Invalid event type");var le=p(W)?!!W.capture:!!W,Qe=Qo(c);if(Qe||(c[At]=Qe=new Me(c)),_=Qe.add(g,_,A,le,Q),_.proxy)return _;if(A=Go(),_.proxy=A,A.src=c,A.listener=_,c.addEventListener)Ce||(W=le),W===void 0&&(W=!1),c.addEventListener(g.toString(),A,W);else if(c.attachEvent)c.attachEvent(kr(g.toString()),A);else if(c.addListener&&c.removeListener)c.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Go(){function c(_){return g.call(c.src,c.listener,_)}const g=Ia;return c}function Mn(c,g,_,A,W){if(Array.isArray(g))for(var Q=0;Q<g.length;Q++)Mn(c,g[Q],_,A,W);else A=p(A)?!!A.capture:!!A,_=Ca(_),c&&c[ue]?(c=c.i,g=String(g).toString(),g in c.g&&(Q=c.g[g],_=ut(Q,_,A,W),-1<_&&(ke(Q[_]),Array.prototype.splice.call(Q,_,1),Q.length==0&&(delete c.g[g],c.h--)))):c&&(c=Qo(c))&&(g=c.g[g.toString()],c=-1,g&&(c=ut(g,_,A,W)),(_=-1<c?g[c]:null)&&Pr(_))}function Pr(c){if(typeof c!="number"&&c&&!c.da){var g=c.src;if(g&&g[ue])ze(g.i,c);else{var _=c.type,A=c.proxy;g.removeEventListener?g.removeEventListener(_,A,c.capture):g.detachEvent?g.detachEvent(kr(_),A):g.addListener&&g.removeListener&&g.removeListener(A),(_=Qo(g))?(ze(_,c),_.h==0&&(_.src=null,g[At]=null)):ke(c)}}}function kr(c){return c in In?In[c]:In[c]="on"+c}function Ia(c,g){if(c.da)c=!0;else{g=new Pe(g,this);var _=c.listener,A=c.ha||c.src;c.fa&&Pr(c),c=_.call(A,g)}return c}function Qo(c){return c=c[At],c instanceof Me?c:null}var Yo="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ca(c){return typeof c=="function"?c:(c[Yo]||(c[Yo]=function(g){return c.handleEvent(g)}),c[Yo])}function _t(){J.call(this),this.i=new Me(this),this.M=this,this.F=null}x(_t,J),_t.prototype[ue]=!0,_t.prototype.removeEventListener=function(c,g,_,A){Mn(this,c,g,_,A)};function wt(c,g){var _,A=c.F;if(A)for(_=[];A;A=A.F)_.push(A);if(c=c.M,A=g.type||g,typeof g=="string")g=new pe(g,c);else if(g instanceof pe)g.target=g.target||c;else{var W=g;g=new pe(A,c),V(g,W)}if(W=!0,_)for(var Q=_.length-1;0<=Q;Q--){var le=g.g=_[Q];W=br(le,A,!0,g)&&W}if(le=g.g=c,W=br(le,A,!0,g)&&W,W=br(le,A,!1,g)&&W,_)for(Q=0;Q<_.length;Q++)le=g.g=_[Q],W=br(le,A,!1,g)&&W}_t.prototype.N=function(){if(_t.aa.N.call(this),this.i){var c=this.i,g;for(g in c.g){for(var _=c.g[g],A=0;A<_.length;A++)ke(_[A]);delete c.g[g],c.h--}}this.F=null},_t.prototype.K=function(c,g,_,A){return this.i.add(String(c),g,!1,_,A)},_t.prototype.L=function(c,g,_,A){return this.i.add(String(c),g,!0,_,A)};function br(c,g,_,A){if(g=c.i.g[String(g)],!g)return!0;g=g.concat();for(var W=!0,Q=0;Q<g.length;++Q){var le=g[Q];if(le&&!le.da&&le.capture==_){var Qe=le.listener,Et=le.ha||le.src;le.fa&&ze(c.i,le),W=Qe.call(Et,A)!==!1&&W}}return W&&!A.defaultPrevented}function Ra(c,g,_){if(typeof c=="function")_&&(c=E(c,_));else if(c&&typeof c.handleEvent=="function")c=E(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(g)?-1:d.setTimeout(c,g||0)}function li(c){c.g=Ra(()=>{c.g=null,c.i&&(c.i=!1,li(c))},c.l);const g=c.h;c.h=null,c.m.apply(null,g)}class so extends J{constructor(g,_){super(),this.m=g,this.l=_,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:li(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ao(c){J.call(this),this.h=c,this.g={}}x(ao,J);var Aa=[];function xa(c){ie(c.g,function(g,_){this.g.hasOwnProperty(_)&&Pr(g)},c),c.g={}}ao.prototype.N=function(){ao.aa.N.call(this),xa(this)},ao.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Pa=d.JSON.stringify,ka=d.JSON.parse,ba=class{stringify(c){return d.JSON.stringify(c,void 0)}parse(c){return d.JSON.parse(c,void 0)}};function lo(){}lo.prototype.h=null;function Xo(c){return c.h||(c.h=c.i())}function Jo(){}var Cn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function sr(){pe.call(this,"d")}x(sr,pe);function Zo(){pe.call(this,"c")}x(Zo,pe);var ar={},Na=null;function uo(){return Na=Na||new _t}ar.La="serverreachability";function Da(c){pe.call(this,ar.La,c)}x(Da,pe);function Nr(c){const g=uo();wt(g,new Da(g))}ar.STAT_EVENT="statevent";function Oa(c,g){pe.call(this,ar.STAT_EVENT,c),this.stat=g}x(Oa,pe);function dt(c){const g=uo();wt(g,new Oa(g,c))}ar.Ma="timingevent";function es(c,g){pe.call(this,ar.Ma,c),this.size=g}x(es,pe);function Fn(c,g){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){c()},g)}function co(){this.g=!0}co.prototype.xa=function(){this.g=!1};function ho(c,g,_,A,W,Q){c.info(function(){if(c.g)if(Q)for(var le="",Qe=Q.split("&"),Et=0;Et<Qe.length;Et++){var We=Qe[Et].split("=");if(1<We.length){var xt=We[0];We=We[1];var pt=xt.split("_");le=2<=pt.length&&pt[1]=="type"?le+(xt+"="+We+"&"):le+(xt+"=redacted&")}}else le=null;else le=Q;return"XMLHTTP REQ ("+A+") [attempt "+W+"]: "+g+`
`+_+`
`+le})}function ts(c,g,_,A,W,Q,le){c.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+W+"]: "+g+`
`+_+`
`+Q+" "+le})}function Un(c,g,_,A){c.info(function(){return"XMLHTTP TEXT ("+g+"): "+eh(c,_)+(A?" "+A:"")})}function La(c,g){c.info(function(){return"TIMEOUT: "+g})}co.prototype.info=function(){};function eh(c,g){if(!c.g)return g;if(!g)return null;try{var _=JSON.parse(g);if(_){for(c=0;c<_.length;c++)if(Array.isArray(_[c])){var A=_[c];if(!(2>A.length)){var W=A[1];if(Array.isArray(W)&&!(1>W.length)){var Q=W[0];if(Q!="noop"&&Q!="stop"&&Q!="close")for(var le=1;le<W.length;le++)W[le]=""}}}}return Pa(_)}catch{return g}}var ns={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},lu={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},jn;function fo(){}x(fo,lo),fo.prototype.g=function(){return new XMLHttpRequest},fo.prototype.i=function(){return{}},jn=new fo;function zn(c,g,_,A){this.j=c,this.i=g,this.l=_,this.R=A||1,this.U=new ao(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new uu}function uu(){this.i=null,this.g="",this.h=!1}var Va={},rs={};function is(c,g,_){c.L=1,c.v=fi(fn(g)),c.m=_,c.P=!0,Ma(c,null)}function Ma(c,g){c.F=Date.now(),Xe(c),c.A=fn(c.v);var _=c.A,A=c.R;Array.isArray(A)||(A=[String(A)]),mi(_.i,"t",A),c.C=0,_=c.j.J,c.h=new uu,c.g=Au(c.j,_?g:null,!c.m),0<c.O&&(c.M=new so(E(c.Y,c,c.g),c.O)),g=c.U,_=c.g,A=c.ca;var W="readystatechange";Array.isArray(W)||(W&&(Aa[0]=W.toString()),W=Aa);for(var Q=0;Q<W.length;Q++){var le=Ln(_,W[Q],A||g.handleEvent,!1,g.h||g);if(!le)break;g.g[le.key]=le}g=c.H?P(c.H):{},c.m?(c.u||(c.u="POST"),g["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,g)):(c.u="GET",c.g.ea(c.A,c.u,null,g)),Nr(),ho(c.i,c.u,c.A,c.l,c.R,c.m)}zn.prototype.ca=function(c){c=c.target;const g=this.M;g&&nn(c)==3?g.j():this.Y(c)},zn.prototype.Y=function(c){try{if(c==this.g)e:{const pt=nn(this.g);var g=this.g.Ba();const xn=this.g.Z();if(!(3>pt)&&(pt!=3||this.g&&(this.h.h||this.g.oa()||$a(this.g)))){this.J||pt!=4||g==7||(g==8||0>=xn?Nr(3):Nr(2)),po(this);var _=this.g.Z();this.X=_;t:if(cu(this)){var A=$a(this.g);c="";var W=A.length,Q=nn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Rn(this),ui(this);var le="";break t}this.h.i=new d.TextDecoder}for(g=0;g<W;g++)this.h.h=!0,c+=this.h.i.decode(A[g],{stream:!(Q&&g==W-1)});A.length=0,this.h.g+=c,this.C=0,le=this.h.g}else le=this.g.oa();if(this.o=_==200,ts(this.i,this.u,this.A,this.l,this.R,pt,_),this.o){if(this.T&&!this.K){t:{if(this.g){var Qe,Et=this.g;if((Qe=Et.g?Et.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!L(Qe)){var We=Qe;break t}}We=null}if(_=We)Un(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Fa(this,_);else{this.o=!1,this.s=3,dt(12),Rn(this),ui(this);break e}}if(this.P){_=!0;let mn;for(;!this.J&&this.C<le.length;)if(mn=th(this,le),mn==rs){pt==4&&(this.s=4,dt(14),_=!1),Un(this.i,this.l,null,"[Incomplete Response]");break}else if(mn==Va){this.s=4,dt(15),Un(this.i,this.l,le,"[Invalid Chunk]"),_=!1;break}else Un(this.i,this.l,mn,null),Fa(this,mn);if(cu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),pt!=4||le.length!=0||this.h.h||(this.s=1,dt(16),_=!1),this.o=this.o&&_,!_)Un(this.i,this.l,le,"[Invalid Chunked Response]"),Rn(this),ui(this);else if(0<le.length&&!this.W){this.W=!0;var xt=this.j;xt.g==this&&xt.ba&&!xt.M&&(xt.j.info("Great, no buffering proxy detected. Bytes received: "+le.length),Ha(xt),xt.M=!0,dt(11))}}else Un(this.i,this.l,le,null),Fa(this,le);pt==4&&Rn(this),this.o&&!this.J&&(pt==4?ms(this.j,this):(this.o=!1,Xe(this)))}else cs(this.g),_==400&&0<le.indexOf("Unknown SID")?(this.s=3,dt(12)):(this.s=0,dt(13)),Rn(this),ui(this)}}}catch{}finally{}};function cu(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function th(c,g){var _=c.C,A=g.indexOf(`
`,_);return A==-1?rs:(_=Number(g.substring(_,A)),isNaN(_)?Va:(A+=1,A+_>g.length?rs:(g=g.slice(A,A+_),c.C=A+_,g)))}zn.prototype.cancel=function(){this.J=!0,Rn(this)};function Xe(c){c.S=Date.now()+c.I,du(c,c.I)}function du(c,g){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Fn(E(c.ba,c),g)}function po(c){c.B&&(d.clearTimeout(c.B),c.B=null)}zn.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(La(this.i,this.A),this.L!=2&&(Nr(),dt(17)),Rn(this),this.s=2,ui(this)):du(this,this.S-c)};function ui(c){c.j.G==0||c.J||ms(c.j,c)}function Rn(c){po(c);var g=c.M;g&&typeof g.ma=="function"&&g.ma(),c.M=null,xa(c.U),c.g&&(g=c.g,c.g=null,g.abort(),g.ma())}function Fa(c,g){try{var _=c.j;if(_.G!=0&&(_.g==c||Xt(_.h,c))){if(!c.K&&Xt(_.h,c)&&_.G==3){try{var A=_.Da.g.parse(g)}catch{A=null}if(Array.isArray(A)&&A.length==3){var W=A;if(W[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<c.F)ps(_),qn(_);else break e;fs(_),dt(18)}}else _.za=W[1],0<_.za-_.T&&37500>W[2]&&_.F&&_.v==0&&!_.C&&(_.C=Fn(E(_.Za,_),6e3));if(1>=fu(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else Mr(_,11)}else if((c.K||_.g==c)&&ps(_),!L(g))for(W=_.Da.g.parse(g),g=0;g<W.length;g++){let We=W[g];if(_.T=We[0],We=We[1],_.G==2)if(We[0]=="c"){_.K=We[1],_.ia=We[2];const xt=We[3];xt!=null&&(_.la=xt,_.j.info("VER="+_.la));const pt=We[4];pt!=null&&(_.Aa=pt,_.j.info("SVER="+_.Aa));const xn=We[5];xn!=null&&typeof xn=="number"&&0<xn&&(A=1.5*xn,_.L=A,_.j.info("backChannelRequestTimeoutMs_="+A)),A=_;const mn=c.g;if(mn){const Eo=mn.g?mn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Eo){var Q=A.h;Q.g||Eo.indexOf("spdy")==-1&&Eo.indexOf("quic")==-1&&Eo.indexOf("h2")==-1||(Q.j=Q.l,Q.g=new Set,Q.h&&(Ua(Q,Q.h),Q.h=null))}if(A.D){const ys=mn.g?mn.g.getResponseHeader("X-HTTP-Session-Id"):null;ys&&(A.ya=ys,Ye(A.I,A.D,ys))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-c.F,_.j.info("Handshake RTT: "+_.R+"ms")),A=_;var le=c;if(A.qa=Ru(A,A.J?A.ia:null,A.W),le.K){pu(A.h,le);var Qe=le,Et=A.L;Et&&(Qe.I=Et),Qe.B&&(po(Qe),Xe(Qe)),A.g=le}else wo(A);0<_.i.length&&dr(_)}else We[0]!="stop"&&We[0]!="close"||Mr(_,7);else _.G==3&&(We[0]=="stop"||We[0]=="close"?We[0]=="stop"?Mr(_,7):Ot(_):We[0]!="noop"&&_.l&&_.l.ta(We),_.v=0)}}Nr(4)}catch{}}var hu=class{constructor(c,g){this.g=c,this.map=g}};function mo(c){this.l=c||10,d.PerformanceNavigationTiming?(c=d.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function hn(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function fu(c){return c.h?1:c.g?c.g.size:0}function Xt(c,g){return c.h?c.h==g:c.g?c.g.has(g):!1}function Ua(c,g){c.g?c.g.add(g):c.h=g}function pu(c,g){c.h&&c.h==g?c.h=null:c.g&&c.g.has(g)&&c.g.delete(g)}mo.prototype.cancel=function(){if(this.i=mu(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function mu(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let g=c.i;for(const _ of c.g.values())g=g.concat(_.D);return g}return I(c.i)}function os(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(f(c)){for(var g=[],_=c.length,A=0;A<_;A++)g.push(c[A]);return g}g=[],_=0;for(A in c)g[_++]=c[A];return g}function ss(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(f(c)||typeof c=="string"){var g=[];c=c.length;for(var _=0;_<c;_++)g.push(_);return g}g=[],_=0;for(const A in c)g[_++]=A;return g}}}function ci(c,g){if(c.forEach&&typeof c.forEach=="function")c.forEach(g,void 0);else if(f(c)||typeof c=="string")Array.prototype.forEach.call(c,g,void 0);else for(var _=ss(c),A=os(c),W=A.length,Q=0;Q<W;Q++)g.call(void 0,A[Q],_&&_[Q],c)}var go=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function nh(c,g){if(c){c=c.split("&");for(var _=0;_<c.length;_++){var A=c[_].indexOf("="),W=null;if(0<=A){var Q=c[_].substring(0,A);W=c[_].substring(A+1)}else Q=c[_];g(Q,W?decodeURIComponent(W.replace(/\+/g," ")):"")}}}function Dr(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Dr){this.h=c.h,yo(this,c.j),this.o=c.o,this.g=c.g,di(this,c.s),this.l=c.l;var g=c.i,_=new lr;_.i=g.i,g.g&&(_.g=new Map(g.g),_.h=g.h),hi(this,_),this.m=c.m}else c&&(g=String(c).match(go))?(this.h=!1,yo(this,g[1]||"",!0),this.o=Be(g[2]||""),this.g=Be(g[3]||"",!0),di(this,g[4]),this.l=Be(g[5]||"",!0),hi(this,g[6]||"",!0),this.m=Be(g[7]||"")):(this.h=!1,this.i=new lr(null,this.h))}Dr.prototype.toString=function(){var c=[],g=this.j;g&&c.push(pi(g,as,!0),":");var _=this.g;return(_||g=="file")&&(c.push("//"),(g=this.o)&&c.push(pi(g,as,!0),"@"),c.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&c.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(pi(_,_.charAt(0)=="/"?vu:yu,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",pi(_,ja)),c.join("")};function fn(c){return new Dr(c)}function yo(c,g,_){c.j=_?Be(g,!0):g,c.j&&(c.j=c.j.replace(/:$/,""))}function di(c,g){if(g){if(g=Number(g),isNaN(g)||0>g)throw Error("Bad port number "+g);c.s=g}else c.s=null}function hi(c,g,_){g instanceof lr?(c.i=g,ur(c.i,c.h)):(_||(g=pi(g,_u)),c.i=new lr(g,c.h))}function Ye(c,g,_){c.i.set(g,_)}function fi(c){return Ye(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Be(c,g){return c?g?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function pi(c,g,_){return typeof c=="string"?(c=encodeURI(c).replace(g,gu),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function gu(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var as=/[#\/\?@]/g,yu=/[#\?:]/g,vu=/[#\?]/g,_u=/[#\?@]/g,ja=/#/g;function lr(c,g){this.h=this.g=null,this.i=c||null,this.j=!!g}function Dt(c){c.g||(c.g=new Map,c.h=0,c.i&&nh(c.i,function(g,_){c.add(decodeURIComponent(g.replace(/\+/g," ")),_)}))}n=lr.prototype,n.add=function(c,g){Dt(this),this.i=null,c=An(this,c);var _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(g),this.h+=1,this};function Bn(c,g){Dt(c),g=An(c,g),c.g.has(g)&&(c.i=null,c.h-=c.g.get(g).length,c.g.delete(g))}function $n(c,g){return Dt(c),g=An(c,g),c.g.has(g)}n.forEach=function(c,g){Dt(this),this.g.forEach(function(_,A){_.forEach(function(W){c.call(g,W,A,this)},this)},this)},n.na=function(){Dt(this);const c=Array.from(this.g.values()),g=Array.from(this.g.keys()),_=[];for(let A=0;A<g.length;A++){const W=c[A];for(let Q=0;Q<W.length;Q++)_.push(g[A])}return _},n.V=function(c){Dt(this);let g=[];if(typeof c=="string")$n(this,c)&&(g=g.concat(this.g.get(An(this,c))));else{c=Array.from(this.g.values());for(let _=0;_<c.length;_++)g=g.concat(c[_])}return g},n.set=function(c,g){return Dt(this),this.i=null,c=An(this,c),$n(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[g]),this.h+=1,this},n.get=function(c,g){return c?(c=this.V(c),0<c.length?String(c[0]):g):g};function mi(c,g,_){Bn(c,g),0<_.length&&(c.i=null,c.g.set(An(c,g),I(_)),c.h+=_.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],g=Array.from(this.g.keys());for(var _=0;_<g.length;_++){var A=g[_];const Q=encodeURIComponent(String(A)),le=this.V(A);for(A=0;A<le.length;A++){var W=Q;le[A]!==""&&(W+="="+encodeURIComponent(String(le[A]))),c.push(W)}}return this.i=c.join("&")};function An(c,g){return g=String(g),c.j&&(g=g.toLowerCase()),g}function ur(c,g){g&&!c.j&&(Dt(c),c.i=null,c.g.forEach(function(_,A){var W=A.toLowerCase();A!=W&&(Bn(this,A),mi(this,W,_))},c)),c.j=g}function rh(c,g){const _=new co;if(d.Image){const A=new Image;A.onload=R(tn,_,"TestLoadImage: loaded",!0,g,A),A.onerror=R(tn,_,"TestLoadImage: error",!1,g,A),A.onabort=R(tn,_,"TestLoadImage: abort",!1,g,A),A.ontimeout=R(tn,_,"TestLoadImage: timeout",!1,g,A),d.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=c}else g(!1)}function wu(c,g){const _=new co,A=new AbortController,W=setTimeout(()=>{A.abort(),tn(_,"TestPingServer: timeout",!1,g)},1e4);fetch(c,{signal:A.signal}).then(Q=>{clearTimeout(W),Q.ok?tn(_,"TestPingServer: ok",!0,g):tn(_,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(W),tn(_,"TestPingServer: error",!1,g)})}function tn(c,g,_,A,W){try{W&&(W.onload=null,W.onerror=null,W.onabort=null,W.ontimeout=null),A(_)}catch{}}function ih(){this.g=new ba}function Eu(c,g,_){const A=_||"";try{ci(c,function(W,Q){let le=W;p(W)&&(le=Pa(W)),g.push(A+Q+"="+encodeURIComponent(le))})}catch(W){throw g.push(A+"type="+encodeURIComponent("_badmap")),W}}function Or(c){this.l=c.Ub||null,this.j=c.eb||!1}x(Or,lo),Or.prototype.g=function(){return new vo(this.l,this.j)},Or.prototype.i=function(c){return function(){return c}}({});function vo(c,g){_t.call(this),this.D=c,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}x(vo,_t),n=vo.prototype,n.open=function(c,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=g,this.readyState=1,Hn(this)},n.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const g={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(g.body=c),(this.D||d).fetch(new Request(this.A,g)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Wn(this)),this.readyState=0},n.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Hn(this)),this.g&&(this.readyState=3,Hn(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Tu(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Tu(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}n.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var g=c.value?c.value:new Uint8Array(0);(g=this.v.decode(g,{stream:!c.done}))&&(this.response=this.responseText+=g)}c.done?Wn(this):Hn(this),this.readyState==3&&Tu(this)}},n.Ra=function(c){this.g&&(this.response=this.responseText=c,Wn(this))},n.Qa=function(c){this.g&&(this.response=c,Wn(this))},n.ga=function(){this.g&&Wn(this)};function Wn(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Hn(c)}n.setRequestHeader=function(c,g){this.u.append(c,g)},n.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],g=this.h.entries();for(var _=g.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=g.next();return c.join(`\r
`)};function Hn(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(vo.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Lr(c){let g="";return ie(c,function(_,A){g+=A,g+=":",g+=_,g+=`\r
`}),g}function gi(c,g,_){e:{for(A in _){var A=!1;break e}A=!0}A||(_=Lr(_),typeof c=="string"?_!=null&&encodeURIComponent(String(_)):Ye(c,g,_))}function nt(c){_t.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}x(nt,_t);var oh=/^https?$/i,za=["POST","PUT"];n=nt.prototype,n.Ha=function(c){this.J=c},n.ea=function(c,g,_,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);g=g?g.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():jn.g(),this.v=this.o?Xo(this.o):Xo(jn),this.g.onreadystatechange=E(this.Ea,this);try{this.B=!0,this.g.open(g,String(c),!0),this.B=!1}catch(Q){_o(this,Q);return}if(c=_||"",_=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var W in A)_.set(W,A[W]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const Q of A.keys())_.set(Q,A.get(Q));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(_.keys()).find(Q=>Q.toLowerCase()=="content-type"),W=d.FormData&&c instanceof d.FormData,!(0<=Array.prototype.indexOf.call(za,g,void 0))||A||W||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Q,le]of _)this.g.setRequestHeader(Q,le);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{us(this),this.u=!0,this.g.send(c),this.u=!1}catch(Q){_o(this,Q)}};function _o(c,g){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=g,c.m=5,ls(c),pn(c)}function ls(c){c.A||(c.A=!0,wt(c,"complete"),wt(c,"error"))}n.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,wt(this,"complete"),wt(this,"abort"),pn(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),pn(this,!0)),nt.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Ba(this):this.bb())},n.bb=function(){Ba(this)};function Ba(c){if(c.h&&typeof u<"u"&&(!c.v[1]||nn(c)!=4||c.Z()!=2)){if(c.u&&nn(c)==4)Ra(c.Ea,0,c);else if(wt(c,"readystatechange"),nn(c)==4){c.h=!1;try{const le=c.Z();e:switch(le){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var _;if(!(_=g)){var A;if(A=le===0){var W=String(c.D).match(go)[1]||null;!W&&d.self&&d.self.location&&(W=d.self.location.protocol.slice(0,-1)),A=!oh.test(W?W.toLowerCase():"")}_=A}if(_)wt(c,"complete"),wt(c,"success");else{c.m=6;try{var Q=2<nn(c)?c.g.statusText:""}catch{Q=""}c.l=Q+" ["+c.Z()+"]",ls(c)}}finally{pn(c)}}}}function pn(c,g){if(c.g){us(c);const _=c.g,A=c.v[0]?()=>{}:null;c.g=null,c.v=null,g||wt(c,"ready");try{_.onreadystatechange=A}catch{}}}function us(c){c.I&&(d.clearTimeout(c.I),c.I=null)}n.isActive=function(){return!!this.g};function nn(c){return c.g?c.g.readyState:0}n.Z=function(){try{return 2<nn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(c){if(this.g){var g=this.g.responseText;return c&&g.indexOf(c)==0&&(g=g.substring(c.length)),ka(g)}};function $a(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function cs(c){const g={};c=(c.g&&2<=nn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<c.length;A++){if(L(c[A]))continue;var _=F(c[A]);const W=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const Q=g[W]||[];g[W]=Q,Q.push(_)}b(g,function(A){return A.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function cr(c,g,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||g}function Wa(c){this.Aa=0,this.i=[],this.j=new co,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=cr("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=cr("baseRetryDelayMs",5e3,c),this.cb=cr("retryDelaySeedMs",1e4,c),this.Wa=cr("forwardChannelMaxRetries",2,c),this.wa=cr("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new mo(c&&c.concurrentRequestLimit),this.Da=new ih,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Wa.prototype,n.la=8,n.G=1,n.connect=function(c,g,_,A){dt(0),this.W=c,this.H=g||{},_&&A!==void 0&&(this.H.OSID=_,this.H.OAID=A),this.F=this.X,this.I=Ru(this,null,this.W),dr(this)};function Ot(c){if(ds(c),c.G==3){var g=c.U++,_=fn(c.I);if(Ye(_,"SID",c.K),Ye(_,"RID",g),Ye(_,"TYPE","terminate"),Vr(c,_),g=new zn(c,c.j,g),g.L=2,g.v=fi(fn(_)),_=!1,d.navigator&&d.navigator.sendBeacon)try{_=d.navigator.sendBeacon(g.v.toString(),"")}catch{}!_&&d.Image&&(new Image().src=g.v,_=!0),_||(g.g=Au(g.j,null),g.g.ea(g.v)),g.F=Date.now(),Xe(g)}Cu(c)}function qn(c){c.g&&(Ha(c),c.g.cancel(),c.g=null)}function ds(c){qn(c),c.u&&(d.clearTimeout(c.u),c.u=null),ps(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&d.clearTimeout(c.s),c.s=null)}function dr(c){if(!hn(c.h)&&!c.s){c.s=!0;var g=c.Ga;ge||se(),Y||(ge(),Y=!0),ae.add(g,c),c.B=0}}function sh(c,g){return fu(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=g.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Fn(E(c.Ga,c,g),Iu(c,c.B)),c.B++,!0)}n.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const W=new zn(this,this.j,c);let Q=this.o;if(this.S&&(Q?(Q=P(Q),V(Q,this.S)):Q=this.S),this.m!==null||this.O||(W.H=Q,Q=null),this.P)e:{for(var g=0,_=0;_<this.i.length;_++){t:{var A=this.i[_];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(g+=A,4096<g){g=_;break e}if(g===4096||_===this.i.length-1){g=_+1;break e}}g=1e3}else g=1e3;g=yi(this,W,g),_=fn(this.I),Ye(_,"RID",c),Ye(_,"CVER",22),this.D&&Ye(_,"X-HTTP-Session-Id",this.D),Vr(this,_),Q&&(this.O?g="headers="+encodeURIComponent(String(Lr(Q)))+"&"+g:this.m&&gi(_,this.m,Q)),Ua(this.h,W),this.Ua&&Ye(_,"TYPE","init"),this.P?(Ye(_,"$req",g),Ye(_,"SID","null"),W.T=!0,is(W,_,null)):is(W,_,g),this.G=2}}else this.G==3&&(c?hs(this,c):this.i.length==0||hn(this.h)||hs(this))};function hs(c,g){var _;g?_=g.l:_=c.U++;const A=fn(c.I);Ye(A,"SID",c.K),Ye(A,"RID",_),Ye(A,"AID",c.T),Vr(c,A),c.m&&c.o&&gi(A,c.m,c.o),_=new zn(c,c.j,_,c.B+1),c.m===null&&(_.H=c.o),g&&(c.i=g.D.concat(c.i)),g=yi(c,_,1e3),_.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Ua(c.h,_),is(_,A,g)}function Vr(c,g){c.H&&ie(c.H,function(_,A){Ye(g,A,_)}),c.l&&ci({},function(_,A){Ye(g,A,_)})}function yi(c,g,_){_=Math.min(c.i.length,_);var A=c.l?E(c.l.Na,c.l,c):null;e:{var W=c.i;let Q=-1;for(;;){const le=["count="+_];Q==-1?0<_?(Q=W[0].g,le.push("ofs="+Q)):Q=0:le.push("ofs="+Q);let Qe=!0;for(let Et=0;Et<_;Et++){let We=W[Et].g;const xt=W[Et].map;if(We-=Q,0>We)Q=Math.max(0,W[Et].g-100),Qe=!1;else try{Eu(xt,le,"req"+We+"_")}catch{A&&A(xt)}}if(Qe){A=le.join("&");break e}}}return c=c.i.splice(0,_),g.D=c,A}function wo(c){if(!c.g&&!c.u){c.Y=1;var g=c.Fa;ge||se(),Y||(ge(),Y=!0),ae.add(g,c),c.v=0}}function fs(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Fn(E(c.Fa,c),Iu(c,c.v)),c.v++,!0)}n.Fa=function(){if(this.u=null,Su(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Fn(E(this.ab,this),c)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,dt(10),qn(this),Su(this))};function Ha(c){c.A!=null&&(d.clearTimeout(c.A),c.A=null)}function Su(c){c.g=new zn(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var g=fn(c.qa);Ye(g,"RID","rpc"),Ye(g,"SID",c.K),Ye(g,"AID",c.T),Ye(g,"CI",c.F?"0":"1"),!c.F&&c.ja&&Ye(g,"TO",c.ja),Ye(g,"TYPE","xmlhttp"),Vr(c,g),c.m&&c.o&&gi(g,c.m,c.o),c.L&&(c.g.I=c.L);var _=c.g;c=c.ia,_.L=1,_.v=fi(fn(g)),_.m=null,_.P=!0,Ma(_,c)}n.Za=function(){this.C!=null&&(this.C=null,qn(this),fs(this),dt(19))};function ps(c){c.C!=null&&(d.clearTimeout(c.C),c.C=null)}function ms(c,g){var _=null;if(c.g==g){ps(c),Ha(c),c.g=null;var A=2}else if(Xt(c.h,g))_=g.D,pu(c.h,g),A=1;else return;if(c.G!=0){if(g.o)if(A==1){_=g.m?g.m.length:0,g=Date.now()-g.F;var W=c.B;A=uo(),wt(A,new es(A,_)),dr(c)}else wo(c);else if(W=g.s,W==3||W==0&&0<g.X||!(A==1&&sh(c,g)||A==2&&fs(c)))switch(_&&0<_.length&&(g=c.h,g.i=g.i.concat(_)),W){case 1:Mr(c,5);break;case 4:Mr(c,10);break;case 3:Mr(c,6);break;default:Mr(c,2)}}}function Iu(c,g){let _=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(_*=2),_*g}function Mr(c,g){if(c.j.info("Error code "+g),g==2){var _=E(c.fb,c),A=c.Xa;const W=!A;A=new Dr(A||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||yo(A,"https"),fi(A),W?rh(A.toString(),_):wu(A.toString(),_)}else dt(2);c.G=0,c.l&&c.l.sa(g),Cu(c),ds(c)}n.fb=function(c){c?(this.j.info("Successfully pinged google.com"),dt(2)):(this.j.info("Failed to ping google.com"),dt(1))};function Cu(c){if(c.G=0,c.ka=[],c.l){const g=mu(c.h);(g.length!=0||c.i.length!=0)&&(C(c.ka,g),C(c.ka,c.i),c.h.i.length=0,I(c.i),c.i.length=0),c.l.ra()}}function Ru(c,g,_){var A=_ instanceof Dr?fn(_):new Dr(_);if(A.g!="")g&&(A.g=g+"."+A.g),di(A,A.s);else{var W=d.location;A=W.protocol,g=g?g+"."+W.hostname:W.hostname,W=+W.port;var Q=new Dr(null);A&&yo(Q,A),g&&(Q.g=g),W&&di(Q,W),_&&(Q.l=_),A=Q}return _=c.D,g=c.ya,_&&g&&Ye(A,_,g),Ye(A,"VER",c.la),Vr(c,A),A}function Au(c,g,_){if(g&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return g=c.Ca&&!c.pa?new nt(new Or({eb:_})):new nt(c.pa),g.Ha(c.J),g}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function qa(){}n=qa.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function gs(){}gs.prototype.g=function(c,g){return new Jt(c,g)};function Jt(c,g){_t.call(this),this.g=new Wa(g),this.l=c,this.h=g&&g.messageUrlParams||null,c=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(c?c["X-WebChannel-Content-Type"]=g.messageContentType:c={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.va&&(c?c["X-WebChannel-Client-Profile"]=g.va:c={"X-WebChannel-Client-Profile":g.va}),this.g.S=c,(c=g&&g.Sb)&&!L(c)&&(this.g.m=c),this.v=g&&g.supportsCrossDomainXhr||!1,this.u=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!L(g)&&(this.g.D=g,c=this.h,c!==null&&g in c&&(c=this.h,g in c&&delete c[g])),this.j=new hr(this)}x(Jt,_t),Jt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Jt.prototype.close=function(){Ot(this.g)},Jt.prototype.o=function(c){var g=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.u&&(_={},_.__data__=Pa(c),c=_);g.i.push(new hu(g.Ya++,c)),g.G==3&&dr(g)},Jt.prototype.N=function(){this.g.l=null,delete this.j,Ot(this.g),delete this.g,Jt.aa.N.call(this)};function xu(c){sr.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var g=c.__sm__;if(g){e:{for(const _ in g){c=_;break e}c=void 0}(this.i=c)&&(c=this.i,g=g!==null&&c in g?g[c]:void 0),this.data=g}else this.data=c}x(xu,sr);function Pu(){Zo.call(this),this.status=1}x(Pu,Zo);function hr(c){this.g=c}x(hr,qa),hr.prototype.ua=function(){wt(this.g,"a")},hr.prototype.ta=function(c){wt(this.g,new xu(c))},hr.prototype.sa=function(c){wt(this.g,new Pu)},hr.prototype.ra=function(){wt(this.g,"b")},gs.prototype.createWebChannel=gs.prototype.g,Jt.prototype.send=Jt.prototype.o,Jt.prototype.open=Jt.prototype.m,Jt.prototype.close=Jt.prototype.close,f0=function(){return new gs},h0=function(){return uo()},d0=ar,hp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ns.NO_ERROR=0,ns.TIMEOUT=8,ns.HTTP_ERROR=6,zc=ns,lu.COMPLETE="complete",c0=lu,Jo.EventType=Cn,Cn.OPEN="a",Cn.CLOSE="b",Cn.ERROR="c",Cn.MESSAGE="d",_t.prototype.listen=_t.prototype.K,Tl=Jo,nt.prototype.listenOnce=nt.prototype.L,nt.prototype.getLastError=nt.prototype.Ka,nt.prototype.getLastErrorCode=nt.prototype.Ba,nt.prototype.getStatus=nt.prototype.Z,nt.prototype.getResponseJson=nt.prototype.Oa,nt.prototype.getResponseText=nt.prototype.oa,nt.prototype.send=nt.prototype.ea,nt.prototype.setWithCredentials=nt.prototype.Ha,u0=nt}).apply(typeof Cc<"u"?Cc:typeof self<"u"?self:typeof window<"u"?window:{});const qv="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}qt.UNAUTHENTICATED=new qt(null),qt.GOOGLE_CREDENTIALS=new qt("google-credentials-uid"),qt.FIRST_PARTY=new qt("first-party-uid"),qt.MOCK_USER=new qt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ga="11.0.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $o=new Gp("@firebase/firestore");function zs(){return $o.logLevel}function de(n,...e){if($o.logLevel<=Ue.DEBUG){const t=e.map(am);$o.debug(`Firestore (${ga}): ${n}`,...t)}}function ni(n,...e){if($o.logLevel<=Ue.ERROR){const t=e.map(am);$o.error(`Firestore (${ga}): ${n}`,...t)}}function ta(n,...e){if($o.logLevel<=Ue.WARN){const t=e.map(am);$o.warn(`Firestore (${ga}): ${n}`,...t)}}function am(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ae(n="Unexpected state"){const e=`FIRESTORE (${ga}) INTERNAL ASSERTION FAILED: `+n;throw ni(e),new Error(e)}function Ge(n,e){n||Ae()}function Ne(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ne={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class we extends ai{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p0{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Ox{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(qt.UNAUTHENTICATED))}shutdown(){}}class Lx{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Vx{constructor(e){this.t=e,this.currentUser=qt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Ge(this.o===void 0);let i=this.i;const s=f=>this.i!==i?(i=this.i,t(f)):Promise.resolve();let a=new Zr;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Zr,e.enqueueRetryable(()=>s(this.currentUser))};const u=()=>{const f=a;e.enqueueRetryable(async()=>{await f.promise,await s(this.currentUser)})},d=f=>{de("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit(f=>d(f)),setTimeout(()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?d(f):(de("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Zr)}},0),u()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(de("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Ge(typeof i.accessToken=="string"),new p0(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ge(e===null||typeof e=="string"),new qt(e)}}class Mx{constructor(e,t,i){this.l=e,this.h=t,this.P=i,this.type="FirstParty",this.user=qt.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class Fx{constructor(e,t,i){this.l=e,this.h=t,this.P=i}getToken(){return Promise.resolve(new Mx(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(qt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Ux{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class jx{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){Ge(this.o===void 0);const i=a=>{a.error!=null&&de("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const u=a.token!==this.R;return this.R=a.token,de("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>i(a))};const s=a=>{de("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(a=>s(a)),setTimeout(()=>{if(!this.appCheck){const a=this.A.getImmediate({optional:!0});a?s(a):de("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Ge(typeof t.token=="string"),this.R=t.token,new Ux(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zx(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m0{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let i="";for(;i.length<20;){const s=zx(40);for(let a=0;a<s.length;++a)i.length<20&&s[a]<t&&(i+=e.charAt(s[a]%e.length))}return i}}function $e(n,e){return n<e?-1:n>e?1:0}function na(n,e,t){return n.length===e.length&&n.every((i,s)=>t(i,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ct{static now(){return Ct.fromMillis(Date.now())}static fromDate(e){return Ct.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*t));return new Ct(t,i)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new we(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new we(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new we(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new we(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?$e(this.nanoseconds,e.nanoseconds):$e(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class be{static fromTimestamp(e){return new be(e)}static min(){return new be(new Ct(0,0))}static max(){return new be(new Ct(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ll{constructor(e,t,i){t===void 0?t=0:t>e.length&&Ae(),i===void 0?i=e.length-t:i>e.length-t&&Ae(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return Ll.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Ll?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let s=0;s<i;s++){const a=e.get(s),u=t.get(s);if(a<u)return-1;if(a>u)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class it extends Ll{construct(e,t,i){return new it(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new we(ne.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(s=>s.length>0))}return new it(t)}static emptyPath(){return new it([])}}const Bx=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ft extends Ll{construct(e,t,i){return new Ft(e,t,i)}static isValidIdentifier(e){return Bx.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ft.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Ft(["__name__"])}static fromServerFormat(e){const t=[];let i="",s=0;const a=()=>{if(i.length===0)throw new we(ne.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let u=!1;for(;s<e.length;){const d=e[s];if(d==="\\"){if(s+1===e.length)throw new we(ne.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[s+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new we(ne.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=f,s+=2}else d==="`"?(u=!u,s++):d!=="."||u?(i+=d,s++):(a(),s++)}if(a(),u)throw new we(ne.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ft(t)}static emptyPath(){return new Ft([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ie{constructor(e){this.path=e}static fromPath(e){return new Ie(it.fromString(e))}static fromName(e){return new Ie(it.fromString(e).popFirst(5))}static empty(){return new Ie(it.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&it.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return it.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ie(new it(e.slice()))}}function $x(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,s=be.fromTimestamp(i===1e9?new Ct(t+1,0):new Ct(t,i));return new qi(s,Ie.empty(),e)}function Wx(n){return new qi(n.readTime,n.key,-1)}class qi{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new qi(be.min(),Ie.empty(),-1)}static max(){return new qi(be.max(),Ie.empty(),-1)}}function Hx(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Ie.comparator(n.documentKey,e.documentKey),t!==0?t:$e(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qx="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Kx{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ya(n){if(n.code!==ne.FAILED_PRECONDITION||n.message!==qx)throw n;de("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ae(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Z((i,s)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(i,s)},this.catchCallback=a=>{this.wrapFailure(t,a).next(i,s)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Z?t:Z.resolve(t)}catch(t){return Z.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Z.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Z.reject(t)}static resolve(e){return new Z((t,i)=>{t(e)})}static reject(e){return new Z((t,i)=>{i(e)})}static waitFor(e){return new Z((t,i)=>{let s=0,a=0,u=!1;e.forEach(d=>{++s,d.next(()=>{++a,u&&a===s&&t()},f=>i(f))}),u=!0,a===s&&t()})}static or(e){let t=Z.resolve(!1);for(const i of e)t=t.next(s=>s?Z.resolve(s):i());return t}static forEach(e,t){const i=[];return e.forEach((s,a)=>{i.push(t.call(this,s,a))}),this.waitFor(i)}static mapArray(e,t){return new Z((i,s)=>{const a=e.length,u=new Array(a);let d=0;for(let f=0;f<a;f++){const p=f;t(e[p]).next(v=>{u[p]=v,++d,d===a&&i(u)},v=>s(v))}})}static doWhile(e,t){return new Z((i,s)=>{const a=()=>{e()===!0?t().next(()=>{a()},s):i()};a()})}}function Gx(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function va(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ad{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.ie(i),this.se=i=>t.writeSequenceNumber(i))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Ad.oe=-1;function xd(n){return n==null}function od(n){return n===0&&1/n==-1/0}function Qx(n){return typeof n=="number"&&Number.isInteger(n)&&!od(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yx(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=Kv(e)),e=Xx(n.get(t),e);return Kv(e)}function Xx(n,e){let t=e;const i=n.length;for(let s=0;s<i;s++){const a=n.charAt(s);switch(a){case"\0":t+="";break;case"":t+="";break;default:t+=a}}return t}function Kv(n){return n+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gv(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function no(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function g0(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lt{constructor(e,t){this.comparator=e,this.root=t||Mt.EMPTY}insert(e,t){return new lt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Mt.BLACK,null,null))}remove(e){return new lt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Mt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const s=this.comparator(e,i.key);if(s===0)return t+i.left.size;s<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Rc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Rc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Rc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Rc(this.root,e,this.comparator,!0)}}class Rc{constructor(e,t,i,s){this.isReverse=s,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?i(e.key,t):1,t&&s&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Mt{constructor(e,t,i,s,a){this.key=e,this.value=t,this.color=i??Mt.RED,this.left=s??Mt.EMPTY,this.right=a??Mt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,s,a){return new Mt(e??this.key,t??this.value,i??this.color,s??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let s=this;const a=i(e,s.key);return s=a<0?s.copy(null,null,null,s.left.insert(e,t,i),null):a===0?s.copy(null,t,null,null,null):s.copy(null,null,null,null,s.right.insert(e,t,i)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Mt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,s=this;if(t(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,t),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),t(e,s.key)===0){if(s.right.isEmpty())return Mt.EMPTY;i=s.right.min(),s=s.copy(i.key,i.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,t))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Mt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Mt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ae();const e=this.left.check();if(e!==this.right.check())throw Ae();return e+(this.isRed()?0:1)}}Mt.EMPTY=null,Mt.RED=!0,Mt.BLACK=!1;Mt.EMPTY=new class{constructor(){this.size=0}get key(){throw Ae()}get value(){throw Ae()}get color(){throw Ae()}get left(){throw Ae()}get right(){throw Ae()}copy(e,t,i,s,a){return this}insert(e,t,i){return new Mt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rt{constructor(e){this.comparator=e,this.data=new lt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const s=i.getNext();if(this.comparator(s.key,e[1])>=0)return;t(s.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Qv(this.data.getIterator())}getIteratorFrom(e){return new Qv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof Rt)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const s=t.getNext().key,a=i.getNext().key;if(this.comparator(s,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Rt(this.comparator);return t.data=e,t}}class Qv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wn{constructor(e){this.fields=e,e.sort(Ft.comparator)}static empty(){return new wn([])}unionWith(e){let t=new Rt(Ft.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new wn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return na(this.fields,e.fields,(t,i)=>t.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ut{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(s){try{return atob(s)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new y0("Invalid base64 string: "+a):a}}(e);return new Ut(t)}static fromUint8Array(e){const t=function(s){let a="";for(let u=0;u<s.length;++u)a+=String.fromCharCode(s[u]);return a}(e);return new Ut(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const i=new Uint8Array(t.length);for(let s=0;s<t.length;s++)i[s]=t.charCodeAt(s);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return $e(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ut.EMPTY_BYTE_STRING=new Ut("");const Jx=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ki(n){if(Ge(!!n),typeof n=="string"){let e=0;const t=Jx.exec(n);if(Ge(!!t),t[1]){let s=t[1];s=(s+"000000000").substr(0,9),e=Number(s)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:ft(n.seconds),nanos:ft(n.nanos)}}function ft(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Gi(n){return typeof n=="string"?Ut.fromBase64String(n):Ut.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lm(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="server_timestamp"}function Pd(n){const e=n.mapValue.fields.__previous_value__;return lm(e)?Pd(e):e}function Vl(n){const e=Ki(n.mapValue.fields.__local_write_time__.timestampValue);return new Ct(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zx{constructor(e,t,i,s,a,u,d,f,p){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=s,this.ssl=a,this.forceLongPolling=u,this.autoDetectLongPolling=d,this.longPollingOptions=f,this.useFetchStreams=p}}class Ml{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Ml("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Ml&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ac={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Qi(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?lm(n)?4:tP(n)?9007199254740991:eP(n)?10:11:Ae()}function Ir(n,e){if(n===e)return!0;const t=Qi(n);if(t!==Qi(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Vl(n).isEqual(Vl(e));case 3:return function(s,a){if(typeof s.timestampValue=="string"&&typeof a.timestampValue=="string"&&s.timestampValue.length===a.timestampValue.length)return s.timestampValue===a.timestampValue;const u=Ki(s.timestampValue),d=Ki(a.timestampValue);return u.seconds===d.seconds&&u.nanos===d.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(s,a){return Gi(s.bytesValue).isEqual(Gi(a.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(s,a){return ft(s.geoPointValue.latitude)===ft(a.geoPointValue.latitude)&&ft(s.geoPointValue.longitude)===ft(a.geoPointValue.longitude)}(n,e);case 2:return function(s,a){if("integerValue"in s&&"integerValue"in a)return ft(s.integerValue)===ft(a.integerValue);if("doubleValue"in s&&"doubleValue"in a){const u=ft(s.doubleValue),d=ft(a.doubleValue);return u===d?od(u)===od(d):isNaN(u)&&isNaN(d)}return!1}(n,e);case 9:return na(n.arrayValue.values||[],e.arrayValue.values||[],Ir);case 10:case 11:return function(s,a){const u=s.mapValue.fields||{},d=a.mapValue.fields||{};if(Gv(u)!==Gv(d))return!1;for(const f in u)if(u.hasOwnProperty(f)&&(d[f]===void 0||!Ir(u[f],d[f])))return!1;return!0}(n,e);default:return Ae()}}function Fl(n,e){return(n.values||[]).find(t=>Ir(t,e))!==void 0}function ra(n,e){if(n===e)return 0;const t=Qi(n),i=Qi(e);if(t!==i)return $e(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return $e(n.booleanValue,e.booleanValue);case 2:return function(a,u){const d=ft(a.integerValue||a.doubleValue),f=ft(u.integerValue||u.doubleValue);return d<f?-1:d>f?1:d===f?0:isNaN(d)?isNaN(f)?0:-1:1}(n,e);case 3:return Yv(n.timestampValue,e.timestampValue);case 4:return Yv(Vl(n),Vl(e));case 5:return $e(n.stringValue,e.stringValue);case 6:return function(a,u){const d=Gi(a),f=Gi(u);return d.compareTo(f)}(n.bytesValue,e.bytesValue);case 7:return function(a,u){const d=a.split("/"),f=u.split("/");for(let p=0;p<d.length&&p<f.length;p++){const v=$e(d[p],f[p]);if(v!==0)return v}return $e(d.length,f.length)}(n.referenceValue,e.referenceValue);case 8:return function(a,u){const d=$e(ft(a.latitude),ft(u.latitude));return d!==0?d:$e(ft(a.longitude),ft(u.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return Xv(n.arrayValue,e.arrayValue);case 10:return function(a,u){var d,f,p,v;const w=a.fields||{},E=u.fields||{},R=(d=w.value)===null||d===void 0?void 0:d.arrayValue,x=(f=E.value)===null||f===void 0?void 0:f.arrayValue,I=$e(((p=R==null?void 0:R.values)===null||p===void 0?void 0:p.length)||0,((v=x==null?void 0:x.values)===null||v===void 0?void 0:v.length)||0);return I!==0?I:Xv(R,x)}(n.mapValue,e.mapValue);case 11:return function(a,u){if(a===Ac.mapValue&&u===Ac.mapValue)return 0;if(a===Ac.mapValue)return 1;if(u===Ac.mapValue)return-1;const d=a.fields||{},f=Object.keys(d),p=u.fields||{},v=Object.keys(p);f.sort(),v.sort();for(let w=0;w<f.length&&w<v.length;++w){const E=$e(f[w],v[w]);if(E!==0)return E;const R=ra(d[f[w]],p[v[w]]);if(R!==0)return R}return $e(f.length,v.length)}(n.mapValue,e.mapValue);default:throw Ae()}}function Yv(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return $e(n,e);const t=Ki(n),i=Ki(e),s=$e(t.seconds,i.seconds);return s!==0?s:$e(t.nanos,i.nanos)}function Xv(n,e){const t=n.values||[],i=e.values||[];for(let s=0;s<t.length&&s<i.length;++s){const a=ra(t[s],i[s]);if(a)return a}return $e(t.length,i.length)}function ia(n){return fp(n)}function fp(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const i=Ki(t);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return Gi(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return Ie.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let i="[",s=!0;for(const a of t.values||[])s?s=!1:i+=",",i+=fp(a);return i+"]"}(n.arrayValue):"mapValue"in n?function(t){const i=Object.keys(t.fields||{}).sort();let s="{",a=!0;for(const u of i)a?a=!1:s+=",",s+=`${u}:${fp(t.fields[u])}`;return s+"}"}(n.mapValue):Ae()}function Bc(n){switch(Qi(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Pd(n);return e?16+Bc(e):16;case 5:return 2*n.stringValue.length;case 6:return Gi(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((s,a)=>s+Bc(a),0)}(n.arrayValue);case 10:case 11:return function(i){let s=0;return no(i.fields,(a,u)=>{s+=a.length+Bc(u)}),s}(n.mapValue);default:throw Ae()}}function pp(n){return!!n&&"integerValue"in n}function um(n){return!!n&&"arrayValue"in n}function Jv(n){return!!n&&"nullValue"in n}function Zv(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function $c(n){return!!n&&"mapValue"in n}function eP(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="__vector__"}function xl(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return no(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=xl(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=xl(n.arrayValue.values[t]);return e}return Object.assign({},n)}function tP(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(e){this.value=e}static empty(){return new dn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!$c(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=xl(t)}setAll(e){let t=Ft.emptyPath(),i={},s=[];e.forEach((u,d)=>{if(!t.isImmediateParentOf(d)){const f=this.getFieldsMap(t);this.applyChanges(f,i,s),i={},s=[],t=d.popLast()}u?i[d.lastSegment()]=xl(u):s.push(d.lastSegment())});const a=this.getFieldsMap(t);this.applyChanges(a,i,s)}delete(e){const t=this.field(e.popLast());$c(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Ir(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let s=t.mapValue.fields[e.get(i)];$c(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=s),t=s}return t.mapValue.fields}applyChanges(e,t,i){no(t,(s,a)=>e[s]=a);for(const s of i)delete e[s]}clone(){return new dn(xl(this.value))}}function v0(n){const e=[];return no(n.fields,(t,i)=>{const s=new Ft([t]);if($c(i)){const a=v0(i.mapValue).fields;if(a.length===0)e.push(s);else for(const u of a)e.push(s.child(u))}else e.push(s)}),new wn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kt{constructor(e,t,i,s,a,u,d){this.key=e,this.documentType=t,this.version=i,this.readTime=s,this.createTime=a,this.data=u,this.documentState=d}static newInvalidDocument(e){return new Kt(e,0,be.min(),be.min(),be.min(),dn.empty(),0)}static newFoundDocument(e,t,i,s){return new Kt(e,1,t,be.min(),i,s,0)}static newNoDocument(e,t){return new Kt(e,2,t,be.min(),be.min(),dn.empty(),0)}static newUnknownDocument(e,t){return new Kt(e,3,t,be.min(),be.min(),dn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(be.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=dn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=dn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=be.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Kt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Kt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sd{constructor(e,t){this.position=e,this.inclusive=t}}function e_(n,e,t){let i=0;for(let s=0;s<n.position.length;s++){const a=e[s],u=n.position[s];if(a.field.isKeyField()?i=Ie.comparator(Ie.fromName(u.referenceValue),t.key):i=ra(u,t.data.field(a.field)),a.dir==="desc"&&(i*=-1),i!==0)break}return i}function t_(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Ir(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ad{constructor(e,t="asc"){this.field=e,this.dir=t}}function nP(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _0{}class It extends _0{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new iP(e,t,i):t==="array-contains"?new aP(e,i):t==="in"?new lP(e,i):t==="not-in"?new uP(e,i):t==="array-contains-any"?new cP(e,i):new It(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new oP(e,i):new sP(e,i)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(ra(t,this.value)):t!==null&&Qi(this.value)===Qi(t)&&this.matchesComparison(ra(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ae()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Cr extends _0{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new Cr(e,t)}matches(e){return w0(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function w0(n){return n.op==="and"}function E0(n){return rP(n)&&w0(n)}function rP(n){for(const e of n.filters)if(e instanceof Cr)return!1;return!0}function mp(n){if(n instanceof It)return n.field.canonicalString()+n.op.toString()+ia(n.value);if(E0(n))return n.filters.map(e=>mp(e)).join(",");{const e=n.filters.map(t=>mp(t)).join(",");return`${n.op}(${e})`}}function T0(n,e){return n instanceof It?function(i,s){return s instanceof It&&i.op===s.op&&i.field.isEqual(s.field)&&Ir(i.value,s.value)}(n,e):n instanceof Cr?function(i,s){return s instanceof Cr&&i.op===s.op&&i.filters.length===s.filters.length?i.filters.reduce((a,u,d)=>a&&T0(u,s.filters[d]),!0):!1}(n,e):void Ae()}function S0(n){return n instanceof It?function(t){return`${t.field.canonicalString()} ${t.op} ${ia(t.value)}`}(n):n instanceof Cr?function(t){return t.op.toString()+" {"+t.getFilters().map(S0).join(" ,")+"}"}(n):"Filter"}class iP extends It{constructor(e,t,i){super(e,t,i),this.key=Ie.fromName(i.referenceValue)}matches(e){const t=Ie.comparator(e.key,this.key);return this.matchesComparison(t)}}class oP extends It{constructor(e,t){super(e,"in",t),this.keys=I0("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class sP extends It{constructor(e,t){super(e,"not-in",t),this.keys=I0("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function I0(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(i=>Ie.fromName(i.referenceValue))}class aP extends It{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return um(t)&&Fl(t.arrayValue,this.value)}}class lP extends It{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Fl(this.value.arrayValue,t)}}class uP extends It{constructor(e,t){super(e,"not-in",t)}matches(e){if(Fl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!Fl(this.value.arrayValue,t)}}class cP extends It{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!um(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>Fl(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dP{constructor(e,t=null,i=[],s=[],a=null,u=null,d=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=s,this.limit=a,this.startAt=u,this.endAt=d,this.ue=null}}function n_(n,e=null,t=[],i=[],s=null,a=null,u=null){return new dP(n,e,t,i,s,a,u)}function cm(n){const e=Ne(n);if(e.ue===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>mp(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>function(a){return a.field.canonicalString()+a.dir}(i)).join(","),xd(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>ia(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>ia(i)).join(",")),e.ue=t}return e.ue}function dm(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!nP(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!T0(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!t_(n.startAt,e.startAt)&&t_(n.endAt,e.endAt)}function gp(n){return Ie.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kd{constructor(e,t=null,i=[],s=[],a=null,u="F",d=null,f=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=s,this.limit=a,this.limitType=u,this.startAt=d,this.endAt=f,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function hP(n,e,t,i,s,a,u,d){return new kd(n,e,t,i,s,a,u,d)}function hm(n){return new kd(n)}function r_(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function fP(n){return n.collectionGroup!==null}function Pl(n){const e=Ne(n);if(e.ce===null){e.ce=[];const t=new Set;for(const a of e.explicitOrderBy)e.ce.push(a),t.add(a.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let d=new Rt(Ft.comparator);return u.filters.forEach(f=>{f.getFlattenedFilters().forEach(p=>{p.isInequality()&&(d=d.add(p.field))})}),d})(e).forEach(a=>{t.has(a.canonicalString())||a.isKeyField()||e.ce.push(new ad(a,i))}),t.has(Ft.keyField().canonicalString())||e.ce.push(new ad(Ft.keyField(),i))}return e.ce}function _r(n){const e=Ne(n);return e.le||(e.le=pP(e,Pl(n))),e.le}function pP(n,e){if(n.limitType==="F")return n_(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(s=>{const a=s.dir==="desc"?"asc":"desc";return new ad(s.field,a)});const t=n.endAt?new sd(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new sd(n.startAt.position,n.startAt.inclusive):null;return n_(n.path,n.collectionGroup,e,n.filters,n.limit,t,i)}}function yp(n,e,t){return new kd(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function bd(n,e){return dm(_r(n),_r(e))&&n.limitType===e.limitType}function C0(n){return`${cm(_r(n))}|lt:${n.limitType}`}function Bs(n){return`Query(target=${function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map(s=>S0(s)).join(", ")}]`),xd(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map(s=>function(u){return`${u.field.canonicalString()} (${u.dir})`}(s)).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(s=>ia(s)).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(s=>ia(s)).join(",")),`Target(${i})`}(_r(n))}; limitType=${n.limitType})`}function Nd(n,e){return e.isFoundDocument()&&function(i,s){const a=s.key.path;return i.collectionGroup!==null?s.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(a):Ie.isDocumentKey(i.path)?i.path.isEqual(a):i.path.isImmediateParentOf(a)}(n,e)&&function(i,s){for(const a of Pl(i))if(!a.field.isKeyField()&&s.data.field(a.field)===null)return!1;return!0}(n,e)&&function(i,s){for(const a of i.filters)if(!a.matches(s))return!1;return!0}(n,e)&&function(i,s){return!(i.startAt&&!function(u,d,f){const p=e_(u,d,f);return u.inclusive?p<=0:p<0}(i.startAt,Pl(i),s)||i.endAt&&!function(u,d,f){const p=e_(u,d,f);return u.inclusive?p>=0:p>0}(i.endAt,Pl(i),s))}(n,e)}function mP(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function R0(n){return(e,t)=>{let i=!1;for(const s of Pl(n)){const a=gP(s,e,t);if(a!==0)return a;i=i||s.field.isKeyField()}return 0}}function gP(n,e,t){const i=n.field.isKeyField()?Ie.comparator(e.key,t.key):function(a,u,d){const f=u.data.field(a),p=d.data.field(a);return f!==null&&p!==null?ra(f,p):Ae()}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return Ae()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qo{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(const[s,a]of i)if(this.equalsFn(s,e))return a}}has(e){return this.get(e)!==void 0}set(e,t){const i=this.mapKeyFn(e),s=this.inner[i];if(s===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return void(s[a]=[e,t]);s.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return i.length===1?delete this.inner[t]:i.splice(s,1),this.innerSize--,!0;return!1}forEach(e){no(this.inner,(t,i)=>{for(const[s,a]of i)e(s,a)})}isEmpty(){return g0(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yP=new lt(Ie.comparator);function ri(){return yP}const A0=new lt(Ie.comparator);function Sl(...n){let e=A0;for(const t of n)e=e.insert(t.key,t);return e}function x0(n){let e=A0;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function Vo(){return kl()}function P0(){return kl()}function kl(){return new qo(n=>n.toString(),(n,e)=>n.isEqual(e))}const vP=new lt(Ie.comparator),_P=new Rt(Ie.comparator);function je(...n){let e=_P;for(const t of n)e=e.add(t);return e}const wP=new Rt($e);function EP(){return wP}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fm(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:od(e)?"-0":e}}function k0(n){return{integerValue:""+n}}function TP(n,e){return Qx(e)?k0(e):fm(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dd{constructor(){this._=void 0}}function SP(n,e,t){return n instanceof ld?function(s,a){const u={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return a&&lm(a)&&(a=Pd(a)),a&&(u.fields.__previous_value__=a),{mapValue:u}}(t,e):n instanceof Ul?N0(n,e):n instanceof jl?D0(n,e):function(s,a){const u=b0(s,a),d=i_(u)+i_(s.Pe);return pp(u)&&pp(s.Pe)?k0(d):fm(s.serializer,d)}(n,e)}function IP(n,e,t){return n instanceof Ul?N0(n,e):n instanceof jl?D0(n,e):t}function b0(n,e){return n instanceof ud?function(i){return pp(i)||function(a){return!!a&&"doubleValue"in a}(i)}(e)?e:{integerValue:0}:null}class ld extends Dd{}class Ul extends Dd{constructor(e){super(),this.elements=e}}function N0(n,e){const t=O0(e);for(const i of n.elements)t.some(s=>Ir(s,i))||t.push(i);return{arrayValue:{values:t}}}class jl extends Dd{constructor(e){super(),this.elements=e}}function D0(n,e){let t=O0(e);for(const i of n.elements)t=t.filter(s=>!Ir(s,i));return{arrayValue:{values:t}}}class ud extends Dd{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function i_(n){return ft(n.integerValue||n.doubleValue)}function O0(n){return um(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function CP(n,e){return n.field.isEqual(e.field)&&function(i,s){return i instanceof Ul&&s instanceof Ul||i instanceof jl&&s instanceof jl?na(i.elements,s.elements,Ir):i instanceof ud&&s instanceof ud?Ir(i.Pe,s.Pe):i instanceof ld&&s instanceof ld}(n.transform,e.transform)}class RP{constructor(e,t){this.version=e,this.transformResults=t}}class wr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new wr}static exists(e){return new wr(void 0,e)}static updateTime(e){return new wr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Wc(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Od{}function L0(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new M0(n.key,wr.none()):new eu(n.key,n.data,wr.none());{const t=n.data,i=dn.empty();let s=new Rt(Ft.comparator);for(let a of e.fields)if(!s.has(a)){let u=t.field(a);u===null&&a.length>1&&(a=a.popLast(),u=t.field(a)),u===null?i.delete(a):i.set(a,u),s=s.add(a)}return new ro(n.key,i,new wn(s.toArray()),wr.none())}}function AP(n,e,t){n instanceof eu?function(s,a,u){const d=s.value.clone(),f=s_(s.fieldTransforms,a,u.transformResults);d.setAll(f),a.convertToFoundDocument(u.version,d).setHasCommittedMutations()}(n,e,t):n instanceof ro?function(s,a,u){if(!Wc(s.precondition,a))return void a.convertToUnknownDocument(u.version);const d=s_(s.fieldTransforms,a,u.transformResults),f=a.data;f.setAll(V0(s)),f.setAll(d),a.convertToFoundDocument(u.version,f).setHasCommittedMutations()}(n,e,t):function(s,a,u){a.convertToNoDocument(u.version).setHasCommittedMutations()}(0,e,t)}function bl(n,e,t,i){return n instanceof eu?function(a,u,d,f){if(!Wc(a.precondition,u))return d;const p=a.value.clone(),v=a_(a.fieldTransforms,f,u);return p.setAll(v),u.convertToFoundDocument(u.version,p).setHasLocalMutations(),null}(n,e,t,i):n instanceof ro?function(a,u,d,f){if(!Wc(a.precondition,u))return d;const p=a_(a.fieldTransforms,f,u),v=u.data;return v.setAll(V0(a)),v.setAll(p),u.convertToFoundDocument(u.version,v).setHasLocalMutations(),d===null?null:d.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(w=>w.field))}(n,e,t,i):function(a,u,d){return Wc(a.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):d}(n,e,t)}function xP(n,e){let t=null;for(const i of n.fieldTransforms){const s=e.data.field(i.field),a=b0(i.transform,s||null);a!=null&&(t===null&&(t=dn.empty()),t.set(i.field,a))}return t||null}function o_(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(i,s){return i===void 0&&s===void 0||!(!i||!s)&&na(i,s,(a,u)=>CP(a,u))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class eu extends Od{constructor(e,t,i,s=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class ro extends Od{constructor(e,t,i,s,a=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=s,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function V0(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function s_(n,e,t){const i=new Map;Ge(n.length===t.length);for(let s=0;s<t.length;s++){const a=n[s],u=a.transform,d=e.data.field(a.field);i.set(a.field,IP(u,d,t[s]))}return i}function a_(n,e,t){const i=new Map;for(const s of n){const a=s.transform,u=t.data.field(s.field);i.set(s.field,SP(a,u,e))}return i}class M0 extends Od{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class PP extends Od{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kP{constructor(e,t,i,s){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=s}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let s=0;s<this.mutations.length;s++){const a=this.mutations[s];a.key.isEqual(e.key)&&AP(a,e,i[s])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=bl(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=bl(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=P0();return this.mutations.forEach(s=>{const a=e.get(s.key),u=a.overlayedDocument;let d=this.applyToLocalView(u,a.mutatedFields);d=t.has(s.key)?null:d;const f=L0(u,d);f!==null&&i.set(s.key,f),u.isValidDocument()||u.convertToNoDocument(be.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),je())}isEqual(e){return this.batchId===e.batchId&&na(this.mutations,e.mutations,(t,i)=>o_(t,i))&&na(this.baseMutations,e.baseMutations,(t,i)=>o_(t,i))}}class pm{constructor(e,t,i,s){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=s}static from(e,t,i){Ge(e.mutations.length===i.length);let s=function(){return vP}();const a=e.mutations;for(let u=0;u<a.length;u++)s=s.insert(a[u].key,i[u].version);return new pm(e,t,i,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bP{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NP{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gt,He;function DP(n){switch(n){default:return Ae();case ne.CANCELLED:case ne.UNKNOWN:case ne.DEADLINE_EXCEEDED:case ne.RESOURCE_EXHAUSTED:case ne.INTERNAL:case ne.UNAVAILABLE:case ne.UNAUTHENTICATED:return!1;case ne.INVALID_ARGUMENT:case ne.NOT_FOUND:case ne.ALREADY_EXISTS:case ne.PERMISSION_DENIED:case ne.FAILED_PRECONDITION:case ne.ABORTED:case ne.OUT_OF_RANGE:case ne.UNIMPLEMENTED:case ne.DATA_LOSS:return!0}}function F0(n){if(n===void 0)return ni("GRPC error has no .code"),ne.UNKNOWN;switch(n){case gt.OK:return ne.OK;case gt.CANCELLED:return ne.CANCELLED;case gt.UNKNOWN:return ne.UNKNOWN;case gt.DEADLINE_EXCEEDED:return ne.DEADLINE_EXCEEDED;case gt.RESOURCE_EXHAUSTED:return ne.RESOURCE_EXHAUSTED;case gt.INTERNAL:return ne.INTERNAL;case gt.UNAVAILABLE:return ne.UNAVAILABLE;case gt.UNAUTHENTICATED:return ne.UNAUTHENTICATED;case gt.INVALID_ARGUMENT:return ne.INVALID_ARGUMENT;case gt.NOT_FOUND:return ne.NOT_FOUND;case gt.ALREADY_EXISTS:return ne.ALREADY_EXISTS;case gt.PERMISSION_DENIED:return ne.PERMISSION_DENIED;case gt.FAILED_PRECONDITION:return ne.FAILED_PRECONDITION;case gt.ABORTED:return ne.ABORTED;case gt.OUT_OF_RANGE:return ne.OUT_OF_RANGE;case gt.UNIMPLEMENTED:return ne.UNIMPLEMENTED;case gt.DATA_LOSS:return ne.DATA_LOSS;default:return Ae()}}(He=gt||(gt={}))[He.OK=0]="OK",He[He.CANCELLED=1]="CANCELLED",He[He.UNKNOWN=2]="UNKNOWN",He[He.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",He[He.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",He[He.NOT_FOUND=5]="NOT_FOUND",He[He.ALREADY_EXISTS=6]="ALREADY_EXISTS",He[He.PERMISSION_DENIED=7]="PERMISSION_DENIED",He[He.UNAUTHENTICATED=16]="UNAUTHENTICATED",He[He.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",He[He.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",He[He.ABORTED=10]="ABORTED",He[He.OUT_OF_RANGE=11]="OUT_OF_RANGE",He[He.UNIMPLEMENTED=12]="UNIMPLEMENTED",He[He.INTERNAL=13]="INTERNAL",He[He.UNAVAILABLE=14]="UNAVAILABLE",He[He.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OP(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LP=new jo([4294967295,4294967295],0);function l_(n){const e=OP().encode(n),t=new l0;return t.update(e),new Uint8Array(t.digest())}function u_(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),s=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new jo([t,i],0),new jo([s,a],0)]}class mm{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new Il(`Invalid padding: ${t}`);if(i<0)throw new Il(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new Il(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new Il(`Invalid padding when bitmap length is 0: ${t}`);this.Te=8*e.length-t,this.Ie=jo.fromNumber(this.Te)}Ee(e,t,i){let s=e.add(t.multiply(jo.fromNumber(i)));return s.compare(LP)===1&&(s=new jo([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Ie).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const t=l_(e),[i,s]=u_(t);for(let a=0;a<this.hashCount;a++){const u=this.Ee(i,s,a);if(!this.de(u))return!1}return!0}static create(e,t,i){const s=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),u=new mm(a,s,t);return i.forEach(d=>u.insert(d)),u}insert(e){if(this.Te===0)return;const t=l_(e),[i,s]=u_(t);for(let a=0;a<this.hashCount;a++){const u=this.Ee(i,s,a);this.Ae(u)}}Ae(e){const t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}}class Il extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ld{constructor(e,t,i,s,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=s,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const s=new Map;return s.set(e,tu.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new Ld(be.min(),s,new lt($e),ri(),je())}}class tu{constructor(e,t,i,s,a){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=s,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new tu(i,t,je(),je(),je())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hc{constructor(e,t,i,s){this.Re=e,this.removedTargetIds=t,this.key=i,this.Ve=s}}class U0{constructor(e,t){this.targetId=e,this.me=t}}class j0{constructor(e,t,i=Ut.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=s}}class c_{constructor(){this.fe=0,this.ge=d_(),this.pe=Ut.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=je(),t=je(),i=je();return this.ge.forEach((s,a)=>{switch(a){case 0:e=e.add(s);break;case 2:t=t.add(s);break;case 1:i=i.add(s);break;default:Ae()}}),new tu(this.pe,this.ye,e,t,i)}Ce(){this.we=!1,this.ge=d_()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Ge(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class VP{constructor(e){this.Le=e,this.Be=new Map,this.ke=ri(),this.qe=xc(),this.Qe=xc(),this.Ke=new lt($e)}$e(e){for(const t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.Ue(t,e.Ve):this.We(t,e.key,e.Ve);for(const t of e.removedTargetIds)this.We(t,e.key,e.Ve)}Ge(e){this.forEachTarget(e,t=>{const i=this.ze(t);switch(e.state){case 0:this.je(t)&&i.De(e.resumeToken);break;case 1:i.Oe(),i.Se||i.Ce(),i.De(e.resumeToken);break;case 2:i.Oe(),i.Se||this.removeTarget(t);break;case 3:this.je(t)&&(i.Ne(),i.De(e.resumeToken));break;case 4:this.je(t)&&(this.He(t),i.De(e.resumeToken));break;default:Ae()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach((i,s)=>{this.je(s)&&t(s)})}Je(e){const t=e.targetId,i=e.me.count,s=this.Ye(t);if(s){const a=s.target;if(gp(a))if(i===0){const u=new Ie(a.path);this.We(t,u,Kt.newNoDocument(u,be.min()))}else Ge(i===1);else{const u=this.Ze(t);if(u!==i){const d=this.Xe(e),f=d?this.et(d,e,u):1;if(f!==0){this.He(t);const p=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(t,p)}}}}}Xe(e){const t=e.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:s=0},hashCount:a=0}=t;let u,d;try{u=Gi(i).toUint8Array()}catch(f){if(f instanceof y0)return ta("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{d=new mm(u,s,a)}catch(f){return ta(f instanceof Il?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return d.Te===0?null:d}et(e,t,i){return t.me.count===i-this.rt(e,t.targetId)?0:2}rt(e,t){const i=this.Le.getRemoteKeysForTarget(t);let s=0;return i.forEach(a=>{const u=this.Le.nt(),d=`projects/${u.projectId}/databases/${u.database}/documents/${a.path.canonicalString()}`;e.mightContain(d)||(this.We(t,a,null),s++)}),s}it(e){const t=new Map;this.Be.forEach((a,u)=>{const d=this.Ye(u);if(d){if(a.current&&gp(d.target)){const f=new Ie(d.target.path);this.st(f).has(u)||this.ot(u,f)||this.We(u,f,Kt.newNoDocument(f,e))}a.be&&(t.set(u,a.ve()),a.Ce())}});let i=je();this.Qe.forEach((a,u)=>{let d=!0;u.forEachWhile(f=>{const p=this.Ye(f);return!p||p.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)}),d&&(i=i.add(a))}),this.ke.forEach((a,u)=>u.setReadTime(e));const s=new Ld(e,t,this.Ke,this.ke,i);return this.ke=ri(),this.qe=xc(),this.Qe=xc(),this.Ke=new lt($e),s}Ue(e,t){if(!this.je(e))return;const i=this.ot(e,t.key)?2:0;this.ze(e).Fe(t.key,i),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e)),this.Qe=this.Qe.insert(t.key,this._t(t.key).add(e))}We(e,t,i){if(!this.je(e))return;const s=this.ze(e);this.ot(e,t)?s.Fe(t,1):s.Me(t),this.Qe=this.Qe.insert(t,this._t(t).delete(e)),this.Qe=this.Qe.insert(t,this._t(t).add(e)),i&&(this.ke=this.ke.insert(t,i))}removeTarget(e){this.Be.delete(e)}Ze(e){const t=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.ze(e).xe()}ze(e){let t=this.Be.get(e);return t||(t=new c_,this.Be.set(e,t)),t}_t(e){let t=this.Qe.get(e);return t||(t=new Rt($e),this.Qe=this.Qe.insert(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new Rt($e),this.qe=this.qe.insert(e,t)),t}je(e){const t=this.Ye(e)!==null;return t||de("WatchChangeAggregator","Detected inactive target",e),t}Ye(e){const t=this.Be.get(e);return t&&t.Se?null:this.Le.ut(e)}He(e){this.Be.set(e,new c_),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.We(e,t,null)})}ot(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function xc(){return new lt(Ie.comparator)}function d_(){return new lt(Ie.comparator)}const MP={asc:"ASCENDING",desc:"DESCENDING"},FP={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},UP={and:"AND",or:"OR"};class jP{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function vp(n,e){return n.useProto3Json||xd(e)?e:{value:e}}function cd(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function z0(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function zP(n,e){return cd(n,e.toTimestamp())}function Er(n){return Ge(!!n),be.fromTimestamp(function(t){const i=Ki(t);return new Ct(i.seconds,i.nanos)}(n))}function gm(n,e){return _p(n,e).canonicalString()}function _p(n,e){const t=function(s){return new it(["projects",s.projectId,"databases",s.database])}(n).child("documents");return e===void 0?t:t.child(e)}function B0(n){const e=it.fromString(n);return Ge(K0(e)),e}function wp(n,e){return gm(n.databaseId,e.path)}function Bf(n,e){const t=B0(e);if(t.get(1)!==n.databaseId.projectId)throw new we(ne.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new we(ne.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Ie(W0(t))}function $0(n,e){return gm(n.databaseId,e)}function BP(n){const e=B0(n);return e.length===4?it.emptyPath():W0(e)}function Ep(n){return new it(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function W0(n){return Ge(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function h_(n,e,t){return{name:wp(n,e),fields:t.value.mapValue.fields}}function $P(n,e){let t;if("targetChange"in e){e.targetChange;const i=function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Ae()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],a=function(p,v){return p.useProto3Json?(Ge(v===void 0||typeof v=="string"),Ut.fromBase64String(v||"")):(Ge(v===void 0||v instanceof Buffer||v instanceof Uint8Array),Ut.fromUint8Array(v||new Uint8Array))}(n,e.targetChange.resumeToken),u=e.targetChange.cause,d=u&&function(p){const v=p.code===void 0?ne.UNKNOWN:F0(p.code);return new we(v,p.message||"")}(u);t=new j0(i,s,a,d||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const s=Bf(n,i.document.name),a=Er(i.document.updateTime),u=i.document.createTime?Er(i.document.createTime):be.min(),d=new dn({mapValue:{fields:i.document.fields}}),f=Kt.newFoundDocument(s,a,u,d),p=i.targetIds||[],v=i.removedTargetIds||[];t=new Hc(p,v,f.key,f)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const s=Bf(n,i.document),a=i.readTime?Er(i.readTime):be.min(),u=Kt.newNoDocument(s,a),d=i.removedTargetIds||[];t=new Hc([],d,u.key,u)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const s=Bf(n,i.document),a=i.removedTargetIds||[];t=new Hc([],a,s,null)}else{if(!("filter"in e))return Ae();{e.filter;const i=e.filter;i.targetId;const{count:s=0,unchangedNames:a}=i,u=new NP(s,a),d=i.targetId;t=new U0(d,u)}}return t}function WP(n,e){let t;if(e instanceof eu)t={update:h_(n,e.key,e.value)};else if(e instanceof M0)t={delete:wp(n,e.key)};else if(e instanceof ro)t={update:h_(n,e.key,e.data),updateMask:ZP(e.fieldMask)};else{if(!(e instanceof PP))return Ae();t={verify:wp(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(a,u){const d=u.transform;if(d instanceof ld)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof Ul)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof jl)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof ud)return{fieldPath:u.field.canonicalString(),increment:d.Pe};throw Ae()}(0,i))),e.precondition.isNone||(t.currentDocument=function(s,a){return a.updateTime!==void 0?{updateTime:zP(s,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Ae()}(n,e.precondition)),t}function HP(n,e){return n&&n.length>0?(Ge(e!==void 0),n.map(t=>function(s,a){let u=s.updateTime?Er(s.updateTime):Er(a);return u.isEqual(be.min())&&(u=Er(a)),new RP(u,s.transformResults||[])}(t,e))):[]}function qP(n,e){return{documents:[$0(n,e.path)]}}function KP(n,e){const t={structuredQuery:{}},i=e.path;let s;e.collectionGroup!==null?(s=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=$0(n,s);const a=function(p){if(p.length!==0)return q0(Cr.create(p,"and"))}(e.filters);a&&(t.structuredQuery.where=a);const u=function(p){if(p.length!==0)return p.map(v=>function(E){return{field:$s(E.field),direction:YP(E.dir)}}(v))}(e.orderBy);u&&(t.structuredQuery.orderBy=u);const d=vp(n,e.limit);return d!==null&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt=function(p){return{before:p.inclusive,values:p.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(p){return{before:!p.inclusive,values:p.position}}(e.endAt)),{ct:t,parent:s}}function GP(n){let e=BP(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let s=null;if(i>0){Ge(i===1);const v=t.from[0];v.allDescendants?s=v.collectionId:e=e.child(v.collectionId)}let a=[];t.where&&(a=function(w){const E=H0(w);return E instanceof Cr&&E0(E)?E.getFilters():[E]}(t.where));let u=[];t.orderBy&&(u=function(w){return w.map(E=>function(x){return new ad(Ws(x.field),function(C){switch(C){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(x.direction))}(E))}(t.orderBy));let d=null;t.limit&&(d=function(w){let E;return E=typeof w=="object"?w.value:w,xd(E)?null:E}(t.limit));let f=null;t.startAt&&(f=function(w){const E=!!w.before,R=w.values||[];return new sd(R,E)}(t.startAt));let p=null;return t.endAt&&(p=function(w){const E=!w.before,R=w.values||[];return new sd(R,E)}(t.endAt)),hP(e,s,u,a,d,"F",f,p)}function QP(n,e){const t=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ae()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function H0(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=Ws(t.unaryFilter.field);return It.create(i,"==",{doubleValue:NaN});case"IS_NULL":const s=Ws(t.unaryFilter.field);return It.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Ws(t.unaryFilter.field);return It.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=Ws(t.unaryFilter.field);return It.create(u,"!=",{nullValue:"NULL_VALUE"});default:return Ae()}}(n):n.fieldFilter!==void 0?function(t){return It.create(Ws(t.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ae()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return Cr.create(t.compositeFilter.filters.map(i=>H0(i)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Ae()}}(t.compositeFilter.op))}(n):Ae()}function YP(n){return MP[n]}function XP(n){return FP[n]}function JP(n){return UP[n]}function $s(n){return{fieldPath:n.canonicalString()}}function Ws(n){return Ft.fromServerFormat(n.fieldPath)}function q0(n){return n instanceof It?function(t){if(t.op==="=="){if(Zv(t.value))return{unaryFilter:{field:$s(t.field),op:"IS_NAN"}};if(Jv(t.value))return{unaryFilter:{field:$s(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(Zv(t.value))return{unaryFilter:{field:$s(t.field),op:"IS_NOT_NAN"}};if(Jv(t.value))return{unaryFilter:{field:$s(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:$s(t.field),op:XP(t.op),value:t.value}}}(n):n instanceof Cr?function(t){const i=t.getFilters().map(s=>q0(s));return i.length===1?i[0]:{compositeFilter:{op:JP(t.op),filters:i}}}(n):Ae()}function ZP(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function K0(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ji{constructor(e,t,i,s,a=be.min(),u=be.min(),d=Ut.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=s,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=d,this.expectedCount=f}withSequenceNumber(e){return new ji(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new ji(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ji(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ji(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ek{constructor(e){this.ht=e}}function tk(n){const e=GP({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?yp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nk{constructor(){this.ln=new rk}addToCollectionParentIndex(e,t){return this.ln.add(t),Z.resolve()}getCollectionParents(e,t){return Z.resolve(this.ln.getEntries(t))}addFieldIndex(e,t){return Z.resolve()}deleteFieldIndex(e,t){return Z.resolve()}deleteAllFieldIndexes(e){return Z.resolve()}createTargetIndexes(e,t){return Z.resolve()}getDocumentsMatchingTarget(e,t){return Z.resolve(null)}getIndexType(e,t){return Z.resolve(0)}getFieldIndexes(e,t){return Z.resolve([])}getNextCollectionGroupToUpdate(e){return Z.resolve(null)}getMinOffset(e,t){return Z.resolve(qi.min())}getMinOffsetFromCollectionGroup(e,t){return Z.resolve(qi.min())}updateCollectionGroup(e,t,i){return Z.resolve()}updateIndexEntries(e,t){return Z.resolve()}}class rk{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),s=this.index[t]||new Rt(it.comparator),a=!s.has(i);return this.index[t]=s.add(i),a}has(e){const t=e.lastSegment(),i=e.popLast(),s=this.index[t];return s&&s.has(i)}getEntries(e){return(this.index[e]||new Rt(it.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class cn{static withCacheSize(e){return new cn(e,cn.DEFAULT_COLLECTION_PERCENTILE,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */cn.DEFAULT_COLLECTION_PERCENTILE=10,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,cn.DEFAULT=new cn(41943040,cn.DEFAULT_COLLECTION_PERCENTILE,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),cn.DISABLED=new cn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oa{constructor(e){this.kn=e}next(){return this.kn+=2,this.kn}static qn(){return new oa(0)}static Qn(){return new oa(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p_([n,e],[t,i]){const s=$e(n,t);return s===0?$e(e,i):s}class ik{constructor(e){this.Gn=e,this.buffer=new Rt(p_),this.zn=0}jn(){return++this.zn}Hn(e){const t=[e,this.jn()];if(this.buffer.size<this.Gn)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();p_(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class ok{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Yn(6e4)}stop(){this.Jn&&(this.Jn.cancel(),this.Jn=null)}get started(){return this.Jn!==null}Yn(e){de("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){va(t)?de("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",t):await ya(t)}await this.Yn(3e5)})}}class sk{constructor(e,t){this.Zn=e,this.params=t}calculateTargetCount(e,t){return this.Zn.Xn(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(t===0)return Z.resolve(Ad.oe);const i=new ik(t);return this.Zn.forEachTarget(e,s=>i.Hn(s.sequenceNumber)).next(()=>this.Zn.er(e,s=>i.Hn(s))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.Zn.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.Zn.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(de("LruGarbageCollector","Garbage collection skipped; disabled"),Z.resolve(f_)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(de("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),f_):this.tr(e,t))}getCacheSize(e){return this.Zn.getCacheSize(e)}tr(e,t){let i,s,a,u,d,f,p;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(w=>(w>this.params.maximumSequenceNumbersToCollect?(de("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),s=this.params.maximumSequenceNumbersToCollect):s=w,u=Date.now(),this.nthSequenceNumber(e,s))).next(w=>(i=w,d=Date.now(),this.removeTargets(e,i,t))).next(w=>(a=w,f=Date.now(),this.removeOrphanedDocuments(e,i))).next(w=>(p=Date.now(),zs()<=Ue.DEBUG&&de("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-v}ms
	Determined least recently used ${s} in `+(d-u)+`ms
	Removed ${a} targets in `+(f-d)+`ms
	Removed ${w} documents in `+(p-f)+`ms
Total Duration: ${p-v}ms`),Z.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:a,documentsRemoved:w})))}}function ak(n,e){return new sk(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lk{constructor(){this.changes=new qo(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Kt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return i!==void 0?Z.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uk{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ck{constructor(e,t,i,s){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=s}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(s=>(i=s,this.remoteDocumentCache.getEntry(e,t))).next(s=>(i!==null&&bl(i.mutation,s,wn.empty(),Ct.now()),s))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,je()).next(()=>i))}getLocalViewOfDocuments(e,t,i=je()){const s=Vo();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,i).next(a=>{let u=Sl();return a.forEach((d,f)=>{u=u.insert(d,f.overlayedDocument)}),u}))}getOverlayedDocuments(e,t){const i=Vo();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,je()))}populateOverlays(e,t,i){const s=[];return i.forEach(a=>{t.has(a)||s.push(a)}),this.documentOverlayCache.getOverlays(e,s).next(a=>{a.forEach((u,d)=>{t.set(u,d)})})}computeViews(e,t,i,s){let a=ri();const u=kl(),d=function(){return kl()}();return t.forEach((f,p)=>{const v=i.get(p.key);s.has(p.key)&&(v===void 0||v.mutation instanceof ro)?a=a.insert(p.key,p):v!==void 0?(u.set(p.key,v.mutation.getFieldMask()),bl(v.mutation,p,v.mutation.getFieldMask(),Ct.now())):u.set(p.key,wn.empty())}),this.recalculateAndSaveOverlays(e,a).next(f=>(f.forEach((p,v)=>u.set(p,v)),t.forEach((p,v)=>{var w;return d.set(p,new uk(v,(w=u.get(p))!==null&&w!==void 0?w:null))}),d))}recalculateAndSaveOverlays(e,t){const i=kl();let s=new lt((u,d)=>u-d),a=je();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(u=>{for(const d of u)d.keys().forEach(f=>{const p=t.get(f);if(p===null)return;let v=i.get(f)||wn.empty();v=d.applyToLocalView(p,v),i.set(f,v);const w=(s.get(d.batchId)||je()).add(f);s=s.insert(d.batchId,w)})}).next(()=>{const u=[],d=s.getReverseIterator();for(;d.hasNext();){const f=d.getNext(),p=f.key,v=f.value,w=P0();v.forEach(E=>{if(!a.has(E)){const R=L0(t.get(E),i.get(E));R!==null&&w.set(E,R),a=a.add(E)}}),u.push(this.documentOverlayCache.saveOverlays(e,p,w))}return Z.waitFor(u)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i,s){return function(u){return Ie.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):fP(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,s):this.getDocumentsMatchingCollectionQuery(e,t,i,s)}getNextDocuments(e,t,i,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,s).next(a=>{const u=s-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,s-a.size):Z.resolve(Vo());let d=-1,f=a;return u.next(p=>Z.forEach(p,(v,w)=>(d<w.largestBatchId&&(d=w.largestBatchId),a.get(v)?Z.resolve():this.remoteDocumentCache.getEntry(e,v).next(E=>{f=f.insert(v,E)}))).next(()=>this.populateOverlays(e,p,a)).next(()=>this.computeViews(e,f,p,je())).next(v=>({batchId:d,changes:x0(v)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ie(t)).next(i=>{let s=Sl();return i.isFoundDocument()&&(s=s.insert(i.key,i)),s})}getDocumentsMatchingCollectionGroupQuery(e,t,i,s){const a=t.collectionGroup;let u=Sl();return this.indexManager.getCollectionParents(e,a).next(d=>Z.forEach(d,f=>{const p=function(w,E){return new kd(E,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)}(t,f.child(a));return this.getDocumentsMatchingCollectionQuery(e,p,i,s).next(v=>{v.forEach((w,E)=>{u=u.insert(w,E)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,t,i,s){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(u=>(a=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,a,s))).next(u=>{a.forEach((f,p)=>{const v=p.getKey();u.get(v)===null&&(u=u.insert(v,Kt.newInvalidDocument(v)))});let d=Sl();return u.forEach((f,p)=>{const v=a.get(f);v!==void 0&&bl(v.mutation,p,wn.empty(),Ct.now()),Nd(t,p)&&(d=d.insert(f,p))}),d})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dk{constructor(e){this.serializer=e,this.Tr=new Map,this.Ir=new Map}getBundleMetadata(e,t){return Z.resolve(this.Tr.get(t))}saveBundleMetadata(e,t){return this.Tr.set(t.id,function(s){return{id:s.id,version:s.version,createTime:Er(s.createTime)}}(t)),Z.resolve()}getNamedQuery(e,t){return Z.resolve(this.Ir.get(t))}saveNamedQuery(e,t){return this.Ir.set(t.name,function(s){return{name:s.name,query:tk(s.bundledQuery),readTime:Er(s.readTime)}}(t)),Z.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hk{constructor(){this.overlays=new lt(Ie.comparator),this.Er=new Map}getOverlay(e,t){return Z.resolve(this.overlays.get(t))}getOverlays(e,t){const i=Vo();return Z.forEach(t,s=>this.getOverlay(e,s).next(a=>{a!==null&&i.set(s,a)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((s,a)=>{this.Tt(e,t,a)}),Z.resolve()}removeOverlaysForBatchId(e,t,i){const s=this.Er.get(i);return s!==void 0&&(s.forEach(a=>this.overlays=this.overlays.remove(a)),this.Er.delete(i)),Z.resolve()}getOverlaysForCollection(e,t,i){const s=Vo(),a=t.length+1,u=new Ie(t.child("")),d=this.overlays.getIteratorFrom(u);for(;d.hasNext();){const f=d.getNext().value,p=f.getKey();if(!t.isPrefixOf(p.path))break;p.path.length===a&&f.largestBatchId>i&&s.set(f.getKey(),f)}return Z.resolve(s)}getOverlaysForCollectionGroup(e,t,i,s){let a=new lt((p,v)=>p-v);const u=this.overlays.getIterator();for(;u.hasNext();){const p=u.getNext().value;if(p.getKey().getCollectionGroup()===t&&p.largestBatchId>i){let v=a.get(p.largestBatchId);v===null&&(v=Vo(),a=a.insert(p.largestBatchId,v)),v.set(p.getKey(),p)}}const d=Vo(),f=a.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach((p,v)=>d.set(p,v)),!(d.size()>=s)););return Z.resolve(d)}Tt(e,t,i){const s=this.overlays.get(i.key);if(s!==null){const u=this.Er.get(s.largestBatchId).delete(i.key);this.Er.set(s.largestBatchId,u)}this.overlays=this.overlays.insert(i.key,new bP(t,i));let a=this.Er.get(t);a===void 0&&(a=je(),this.Er.set(t,a)),this.Er.set(t,a.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fk{constructor(){this.sessionToken=Ut.EMPTY_BYTE_STRING}getSessionToken(e){return Z.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,Z.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ym{constructor(){this.dr=new Rt(Nt.Ar),this.Rr=new Rt(Nt.Vr)}isEmpty(){return this.dr.isEmpty()}addReference(e,t){const i=new Nt(e,t);this.dr=this.dr.add(i),this.Rr=this.Rr.add(i)}mr(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.gr(new Nt(e,t))}pr(e,t){e.forEach(i=>this.removeReference(i,t))}yr(e){const t=new Ie(new it([])),i=new Nt(t,e),s=new Nt(t,e+1),a=[];return this.Rr.forEachInRange([i,s],u=>{this.gr(u),a.push(u.key)}),a}wr(){this.dr.forEach(e=>this.gr(e))}gr(e){this.dr=this.dr.delete(e),this.Rr=this.Rr.delete(e)}Sr(e){const t=new Ie(new it([])),i=new Nt(t,e),s=new Nt(t,e+1);let a=je();return this.Rr.forEachInRange([i,s],u=>{a=a.add(u.key)}),a}containsKey(e){const t=new Nt(e,0),i=this.dr.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}}class Nt{constructor(e,t){this.key=e,this.br=t}static Ar(e,t){return Ie.comparator(e.key,t.key)||$e(e.br,t.br)}static Vr(e,t){return $e(e.br,t.br)||Ie.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pk{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Dr=1,this.vr=new Rt(Nt.Ar)}checkEmpty(e){return Z.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,s){const a=this.Dr;this.Dr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new kP(a,t,i,s);this.mutationQueue.push(u);for(const d of s)this.vr=this.vr.add(new Nt(d.key,a)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return Z.resolve(u)}lookupMutationBatch(e,t){return Z.resolve(this.Cr(t))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,s=this.Fr(i),a=s<0?0:s;return Z.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return Z.resolve(this.mutationQueue.length===0?-1:this.Dr-1)}getAllMutationBatches(e){return Z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new Nt(t,0),s=new Nt(t,Number.POSITIVE_INFINITY),a=[];return this.vr.forEachInRange([i,s],u=>{const d=this.Cr(u.br);a.push(d)}),Z.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new Rt($e);return t.forEach(s=>{const a=new Nt(s,0),u=new Nt(s,Number.POSITIVE_INFINITY);this.vr.forEachInRange([a,u],d=>{i=i.add(d.br)})}),Z.resolve(this.Mr(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,s=i.length+1;let a=i;Ie.isDocumentKey(a)||(a=a.child(""));const u=new Nt(new Ie(a),0);let d=new Rt($e);return this.vr.forEachWhile(f=>{const p=f.key.path;return!!i.isPrefixOf(p)&&(p.length===s&&(d=d.add(f.br)),!0)},u),Z.resolve(this.Mr(d))}Mr(e){const t=[];return e.forEach(i=>{const s=this.Cr(i);s!==null&&t.push(s)}),t}removeMutationBatch(e,t){Ge(this.Or(t.batchId,"removed")===0),this.mutationQueue.shift();let i=this.vr;return Z.forEach(t.mutations,s=>{const a=new Nt(s.key,t.batchId);return i=i.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.vr=i})}Ln(e){}containsKey(e,t){const i=new Nt(t,0),s=this.vr.firstAfterOrEqual(i);return Z.resolve(t.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,Z.resolve()}Or(e,t){return this.Fr(e)}Fr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Cr(e){const t=this.Fr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mk{constructor(e){this.Nr=e,this.docs=function(){return new lt(Ie.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,s=this.docs.get(i),a=s?s.size:0,u=this.Nr(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:u}),this.size+=u-a,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return Z.resolve(i?i.document.mutableCopy():Kt.newInvalidDocument(t))}getEntries(e,t){let i=ri();return t.forEach(s=>{const a=this.docs.get(s);i=i.insert(s,a?a.document.mutableCopy():Kt.newInvalidDocument(s))}),Z.resolve(i)}getDocumentsMatchingQuery(e,t,i,s){let a=ri();const u=t.path,d=new Ie(u.child("")),f=this.docs.getIteratorFrom(d);for(;f.hasNext();){const{key:p,value:{document:v}}=f.getNext();if(!u.isPrefixOf(p.path))break;p.path.length>u.length+1||Hx(Wx(v),i)<=0||(s.has(v.key)||Nd(t,v))&&(a=a.insert(v.key,v.mutableCopy()))}return Z.resolve(a)}getAllFromCollectionGroup(e,t,i,s){Ae()}Lr(e,t){return Z.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new gk(this)}getSize(e){return Z.resolve(this.size)}}class gk extends lk{constructor(e){super(),this.hr=e}applyChanges(e){const t=[];return this.changes.forEach((i,s)=>{s.isValidDocument()?t.push(this.hr.addEntry(e,s)):this.hr.removeEntry(i)}),Z.waitFor(t)}getFromCache(e,t){return this.hr.getEntry(e,t)}getAllFromCache(e,t){return this.hr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yk{constructor(e){this.persistence=e,this.Br=new qo(t=>cm(t),dm),this.lastRemoteSnapshotVersion=be.min(),this.highestTargetId=0,this.kr=0,this.qr=new ym,this.targetCount=0,this.Qr=oa.qn()}forEachTarget(e,t){return this.Br.forEach((i,s)=>t(s)),Z.resolve()}getLastRemoteSnapshotVersion(e){return Z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Z.resolve(this.kr)}allocateTargetId(e){return this.highestTargetId=this.Qr.next(),Z.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.kr&&(this.kr=t),Z.resolve()}Un(e){this.Br.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Qr=new oa(t),this.highestTargetId=t),e.sequenceNumber>this.kr&&(this.kr=e.sequenceNumber)}addTargetData(e,t){return this.Un(t),this.targetCount+=1,Z.resolve()}updateTargetData(e,t){return this.Un(t),Z.resolve()}removeTargetData(e,t){return this.Br.delete(t.target),this.qr.yr(t.targetId),this.targetCount-=1,Z.resolve()}removeTargets(e,t,i){let s=0;const a=[];return this.Br.forEach((u,d)=>{d.sequenceNumber<=t&&i.get(d.targetId)===null&&(this.Br.delete(u),a.push(this.removeMatchingKeysForTargetId(e,d.targetId)),s++)}),Z.waitFor(a).next(()=>s)}getTargetCount(e){return Z.resolve(this.targetCount)}getTargetData(e,t){const i=this.Br.get(t)||null;return Z.resolve(i)}addMatchingKeys(e,t,i){return this.qr.mr(t,i),Z.resolve()}removeMatchingKeys(e,t,i){this.qr.pr(t,i);const s=this.persistence.referenceDelegate,a=[];return s&&t.forEach(u=>{a.push(s.markPotentiallyOrphaned(e,u))}),Z.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.qr.yr(t),Z.resolve()}getMatchingKeysForTargetId(e,t){const i=this.qr.Sr(t);return Z.resolve(i)}containsKey(e,t){return Z.resolve(this.qr.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G0{constructor(e,t){this.Kr={},this.overlays={},this.$r=new Ad(0),this.Ur=!1,this.Ur=!0,this.Wr=new fk,this.referenceDelegate=e(this),this.Gr=new yk(this),this.indexManager=new nk,this.remoteDocumentCache=function(s){return new mk(s)}(i=>this.referenceDelegate.zr(i)),this.serializer=new ek(t),this.jr=new dk(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ur=!1,Promise.resolve()}get started(){return this.Ur}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new hk,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.Kr[e.toKey()];return i||(i=new pk(t,this.referenceDelegate),this.Kr[e.toKey()]=i),i}getGlobalsCache(){return this.Wr}getTargetCache(){return this.Gr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.jr}runTransaction(e,t,i){de("MemoryPersistence","Starting transaction:",e);const s=new vk(this.$r.next());return this.referenceDelegate.Hr(),i(s).next(a=>this.referenceDelegate.Jr(s).next(()=>a)).toPromise().then(a=>(s.raiseOnCommittedEvent(),a))}Yr(e,t){return Z.or(Object.values(this.Kr).map(i=>()=>i.containsKey(e,t)))}}class vk extends Kx{constructor(e){super(),this.currentSequenceNumber=e}}class vm{constructor(e){this.persistence=e,this.Zr=new ym,this.Xr=null}static ei(e){return new vm(e)}get ti(){if(this.Xr)return this.Xr;throw Ae()}addReference(e,t,i){return this.Zr.addReference(i,t),this.ti.delete(i.toString()),Z.resolve()}removeReference(e,t,i){return this.Zr.removeReference(i,t),this.ti.add(i.toString()),Z.resolve()}markPotentiallyOrphaned(e,t){return this.ti.add(t.toString()),Z.resolve()}removeTarget(e,t){this.Zr.yr(t.targetId).forEach(s=>this.ti.add(s.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(s=>{s.forEach(a=>this.ti.add(a.toString()))}).next(()=>i.removeTargetData(e,t))}Hr(){this.Xr=new Set}Jr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Z.forEach(this.ti,i=>{const s=Ie.fromPath(i);return this.ni(e,s).next(a=>{a||t.removeEntry(s,be.min())})}).next(()=>(this.Xr=null,t.apply(e)))}updateLimboDocument(e,t){return this.ni(e,t).next(i=>{i?this.ti.delete(t.toString()):this.ti.add(t.toString())})}zr(e){return 0}ni(e,t){return Z.or([()=>Z.resolve(this.Zr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Yr(e,t)])}}class dd{constructor(e,t){this.persistence=e,this.ri=new qo(i=>Yx(i.path),(i,s)=>i.isEqual(s)),this.garbageCollector=ak(this,t)}static ei(e,t){return new dd(e,t)}Hr(){}Jr(e){return Z.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}Xn(e){const t=this.nr(e);return this.persistence.getTargetCache().getTargetCount(e).next(i=>t.next(s=>i+s))}nr(e){let t=0;return this.er(e,i=>{t++}).next(()=>t)}er(e,t){return Z.forEach(this.ri,(i,s)=>this.ir(e,i,s).next(a=>a?Z.resolve():t(s)))}removeTargets(e,t,i){return this.persistence.getTargetCache().removeTargets(e,t,i)}removeOrphanedDocuments(e,t){let i=0;const s=this.persistence.getRemoteDocumentCache(),a=s.newChangeBuffer();return s.Lr(e,u=>this.ir(e,u,t).next(d=>{d||(i++,a.removeEntry(u,be.min()))})).next(()=>a.apply(e)).next(()=>i)}markPotentiallyOrphaned(e,t){return this.ri.set(t,e.currentSequenceNumber),Z.resolve()}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,t,i){return this.ri.set(i,e.currentSequenceNumber),Z.resolve()}removeReference(e,t,i){return this.ri.set(i,e.currentSequenceNumber),Z.resolve()}updateLimboDocument(e,t){return this.ri.set(t,e.currentSequenceNumber),Z.resolve()}zr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Bc(e.data.value)),t}ir(e,t,i){return Z.or([()=>this.persistence.Yr(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const s=this.ri.get(t);return Z.resolve(s!==void 0&&s>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _m{constructor(e,t,i,s){this.targetId=e,this.fromCache=t,this.Wi=i,this.Gi=s}static zi(e,t){let i=je(),s=je();for(const a of t.docChanges)switch(a.type){case 0:i=i.add(a.doc.key);break;case 1:s=s.add(a.doc.key)}return new _m(e,t.fromCache,i,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _k{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wk{constructor(){this.ji=!1,this.Hi=!1,this.Ji=100,this.Yi=function(){return c1()?8:Gx(Gt())>0?6:4}()}initialize(e,t){this.Zi=e,this.indexManager=t,this.ji=!0}getDocumentsMatchingQuery(e,t,i,s){const a={result:null};return this.Xi(e,t).next(u=>{a.result=u}).next(()=>{if(!a.result)return this.es(e,t,s,i).next(u=>{a.result=u})}).next(()=>{if(a.result)return;const u=new _k;return this.ts(e,t,u).next(d=>{if(a.result=d,this.Hi)return this.ns(e,t,u,d.size)})}).next(()=>a.result)}ns(e,t,i,s){return i.documentReadCount<this.Ji?(zs()<=Ue.DEBUG&&de("QueryEngine","SDK will not create cache indexes for query:",Bs(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Ji,"documents"),Z.resolve()):(zs()<=Ue.DEBUG&&de("QueryEngine","Query:",Bs(t),"scans",i.documentReadCount,"local documents and returns",s,"documents as results."),i.documentReadCount>this.Yi*s?(zs()<=Ue.DEBUG&&de("QueryEngine","The SDK decides to create cache indexes for query:",Bs(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,_r(t))):Z.resolve())}Xi(e,t){if(r_(t))return Z.resolve(null);let i=_r(t);return this.indexManager.getIndexType(e,i).next(s=>s===0?null:(t.limit!==null&&s===1&&(t=yp(t,null,"F"),i=_r(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(a=>{const u=je(...a);return this.Zi.getDocuments(e,u).next(d=>this.indexManager.getMinOffset(e,i).next(f=>{const p=this.rs(t,d);return this.ss(t,p,u,f.readTime)?this.Xi(e,yp(t,null,"F")):this.os(e,p,t,f)}))})))}es(e,t,i,s){return r_(t)||s.isEqual(be.min())?Z.resolve(null):this.Zi.getDocuments(e,i).next(a=>{const u=this.rs(t,a);return this.ss(t,u,i,s)?Z.resolve(null):(zs()<=Ue.DEBUG&&de("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Bs(t)),this.os(e,u,t,$x(s,-1)).next(d=>d))})}rs(e,t){let i=new Rt(R0(e));return t.forEach((s,a)=>{Nd(e,a)&&(i=i.add(a))}),i}ss(e,t,i,s){if(e.limit===null)return!1;if(i.size!==t.size)return!0;const a=e.limitType==="F"?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(s)>0)}ts(e,t,i){return zs()<=Ue.DEBUG&&de("QueryEngine","Using full collection scan to execute query:",Bs(t)),this.Zi.getDocumentsMatchingQuery(e,t,qi.min(),i)}os(e,t,i,s){return this.Zi.getDocumentsMatchingQuery(e,i,s).next(a=>(t.forEach(u=>{a=a.insert(u.key,u)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ek{constructor(e,t,i,s){this.persistence=e,this._s=t,this.serializer=s,this.us=new lt($e),this.cs=new qo(a=>cm(a),dm),this.ls=new Map,this.hs=e.getRemoteDocumentCache(),this.Gr=e.getTargetCache(),this.jr=e.getBundleCache(),this.Ps(i)}Ps(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new ck(this.hs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.hs.setIndexManager(this.indexManager),this._s.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.us))}}function Tk(n,e,t,i){return new Ek(n,e,t,i)}async function Q0(n,e){const t=Ne(n);return await t.persistence.runTransaction("Handle user change","readonly",i=>{let s;return t.mutationQueue.getAllMutationBatches(i).next(a=>(s=a,t.Ps(e),t.mutationQueue.getAllMutationBatches(i))).next(a=>{const u=[],d=[];let f=je();for(const p of s){u.push(p.batchId);for(const v of p.mutations)f=f.add(v.key)}for(const p of a){d.push(p.batchId);for(const v of p.mutations)f=f.add(v.key)}return t.localDocuments.getDocuments(i,f).next(p=>({Ts:p,removedBatchIds:u,addedBatchIds:d}))})})}function Sk(n,e){const t=Ne(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const s=e.batch.keys(),a=t.hs.newChangeBuffer({trackRemovals:!0});return function(d,f,p,v){const w=p.batch,E=w.keys();let R=Z.resolve();return E.forEach(x=>{R=R.next(()=>v.getEntry(f,x)).next(I=>{const C=p.docVersions.get(x);Ge(C!==null),I.version.compareTo(C)<0&&(w.applyToRemoteDocument(I,p),I.isValidDocument()&&(I.setReadTime(p.commitVersion),v.addEntry(I)))})}),R.next(()=>d.mutationQueue.removeMutationBatch(f,w))}(t,i,e,a).next(()=>a.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,s,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(d){let f=je();for(let p=0;p<d.mutationResults.length;++p)d.mutationResults[p].transformResults.length>0&&(f=f.add(d.batch.mutations[p].key));return f}(e))).next(()=>t.localDocuments.getDocuments(i,s))})}function Y0(n){const e=Ne(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Gr.getLastRemoteSnapshotVersion(t))}function Ik(n,e){const t=Ne(n),i=e.snapshotVersion;let s=t.us;return t.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const u=t.hs.newChangeBuffer({trackRemovals:!0});s=t.us;const d=[];e.targetChanges.forEach((v,w)=>{const E=s.get(w);if(!E)return;d.push(t.Gr.removeMatchingKeys(a,v.removedDocuments,w).next(()=>t.Gr.addMatchingKeys(a,v.addedDocuments,w)));let R=E.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(w)!==null?R=R.withResumeToken(Ut.EMPTY_BYTE_STRING,be.min()).withLastLimboFreeSnapshotVersion(be.min()):v.resumeToken.approximateByteSize()>0&&(R=R.withResumeToken(v.resumeToken,i)),s=s.insert(w,R),function(I,C,D){return I.resumeToken.approximateByteSize()===0||C.snapshotVersion.toMicroseconds()-I.snapshotVersion.toMicroseconds()>=3e8?!0:D.addedDocuments.size+D.modifiedDocuments.size+D.removedDocuments.size>0}(E,R,v)&&d.push(t.Gr.updateTargetData(a,R))});let f=ri(),p=je();if(e.documentUpdates.forEach(v=>{e.resolvedLimboDocuments.has(v)&&d.push(t.persistence.referenceDelegate.updateLimboDocument(a,v))}),d.push(Ck(a,u,e.documentUpdates).next(v=>{f=v.Is,p=v.Es})),!i.isEqual(be.min())){const v=t.Gr.getLastRemoteSnapshotVersion(a).next(w=>t.Gr.setTargetsMetadata(a,a.currentSequenceNumber,i));d.push(v)}return Z.waitFor(d).next(()=>u.apply(a)).next(()=>t.localDocuments.getLocalViewOfDocuments(a,f,p)).next(()=>f)}).then(a=>(t.us=s,a))}function Ck(n,e,t){let i=je(),s=je();return t.forEach(a=>i=i.add(a)),e.getEntries(n,i).next(a=>{let u=ri();return t.forEach((d,f)=>{const p=a.get(d);f.isFoundDocument()!==p.isFoundDocument()&&(s=s.add(d)),f.isNoDocument()&&f.version.isEqual(be.min())?(e.removeEntry(d,f.readTime),u=u.insert(d,f)):!p.isValidDocument()||f.version.compareTo(p.version)>0||f.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(f),u=u.insert(d,f)):de("LocalStore","Ignoring outdated watch update for ",d,". Current version:",p.version," Watch version:",f.version)}),{Is:u,Es:s}})}function Rk(n,e){const t=Ne(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function Ak(n,e){const t=Ne(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let s;return t.Gr.getTargetData(i,e).next(a=>a?(s=a,Z.resolve(s)):t.Gr.allocateTargetId(i).next(u=>(s=new ji(e,u,"TargetPurposeListen",i.currentSequenceNumber),t.Gr.addTargetData(i,s).next(()=>s))))}).then(i=>{const s=t.us.get(i.targetId);return(s===null||i.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(t.us=t.us.insert(i.targetId,i),t.cs.set(e,i.targetId)),i})}async function Tp(n,e,t){const i=Ne(n),s=i.us.get(e),a=t?"readwrite":"readwrite-primary";try{t||await i.persistence.runTransaction("Release target",a,u=>i.persistence.referenceDelegate.removeTarget(u,s))}catch(u){if(!va(u))throw u;de("LocalStore",`Failed to update sequence numbers for target ${e}: ${u}`)}i.us=i.us.remove(e),i.cs.delete(s.target)}function m_(n,e,t){const i=Ne(n);let s=be.min(),a=je();return i.persistence.runTransaction("Execute query","readwrite",u=>function(f,p,v){const w=Ne(f),E=w.cs.get(v);return E!==void 0?Z.resolve(w.us.get(E)):w.Gr.getTargetData(p,v)}(i,u,_r(e)).next(d=>{if(d)return s=d.lastLimboFreeSnapshotVersion,i.Gr.getMatchingKeysForTargetId(u,d.targetId).next(f=>{a=f})}).next(()=>i._s.getDocumentsMatchingQuery(u,e,t?s:be.min(),t?a:je())).next(d=>(xk(i,mP(e),d),{documents:d,ds:a})))}function xk(n,e,t){let i=n.ls.get(e)||be.min();t.forEach((s,a)=>{a.readTime.compareTo(i)>0&&(i=a.readTime)}),n.ls.set(e,i)}class g_{constructor(){this.activeTargetIds=EP()}ps(e){this.activeTargetIds=this.activeTargetIds.add(e)}ys(e){this.activeTargetIds=this.activeTargetIds.delete(e)}gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Pk{constructor(){this._o=new g_,this.ao={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this._o.ps(e),this.ao[e]||"not-current"}updateQueryState(e,t,i){this.ao[e]=t}removeLocalQueryTarget(e){this._o.ys(e)}isLocalQueryTarget(e){return this._o.activeTargetIds.has(e)}clearQueryState(e){delete this.ao[e]}getAllActiveQueryTargets(){return this._o.activeTargetIds}isActiveQueryTarget(e){return this._o.activeTargetIds.has(e)}start(){return this._o=new g_,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kk{uo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y_{constructor(){this.co=()=>this.lo(),this.ho=()=>this.Po(),this.To=[],this.Io()}uo(e){this.To.push(e)}shutdown(){window.removeEventListener("online",this.co),window.removeEventListener("offline",this.ho)}Io(){window.addEventListener("online",this.co),window.addEventListener("offline",this.ho)}lo(){de("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.To)e(0)}Po(){de("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.To)e(1)}static p(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Pc=null;function $f(){return Pc===null?Pc=function(){return 268435456+Math.round(2147483648*Math.random())}():Pc++,"0x"+Pc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bk={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nk{constructor(e){this.Eo=e.Eo,this.Ao=e.Ao}Ro(e){this.Vo=e}mo(e){this.fo=e}po(e){this.yo=e}onMessage(e){this.wo=e}close(){this.Ao()}send(e){this.Eo(e)}So(){this.Vo()}bo(){this.fo()}Do(e){this.yo(e)}vo(e){this.wo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ht="WebChannelConnection";class Dk extends class{get Co(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Fo=i+"://"+t.host,this.Mo=`projects/${s}/databases/${a}`,this.xo=this.databaseId.database==="(default)"?`project_id=${s}`:`project_id=${s}&database_id=${a}`}Oo(t,i,s,a,u){const d=$f(),f=this.No(t,i.toUriEncodedString());de("RestConnection",`Sending RPC '${t}' ${d}:`,f,s);const p={"google-cloud-resource-prefix":this.Mo,"x-goog-request-params":this.xo};return this.Lo(p,a,u),this.Bo(t,f,p,s).then(v=>(de("RestConnection",`Received RPC '${t}' ${d}: `,v),v),v=>{throw ta("RestConnection",`RPC '${t}' ${d} failed with error: `,v,"url: ",f,"request:",s),v})}ko(t,i,s,a,u,d){return this.Oo(t,i,s,a,u)}Lo(t,i,s){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ga}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((a,u)=>t[u]=a),s&&s.headers.forEach((a,u)=>t[u]=a)}No(t,i){const s=bk[t];return`${this.Fo}/v1/${i}:${s}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Bo(e,t,i,s){const a=$f();return new Promise((u,d)=>{const f=new u0;f.setWithCredentials(!0),f.listenOnce(c0.COMPLETE,()=>{try{switch(f.getLastErrorCode()){case zc.NO_ERROR:const v=f.getResponseJson();de(Ht,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(v)),u(v);break;case zc.TIMEOUT:de(Ht,`RPC '${e}' ${a} timed out`),d(new we(ne.DEADLINE_EXCEEDED,"Request time out"));break;case zc.HTTP_ERROR:const w=f.getStatus();if(de(Ht,`RPC '${e}' ${a} failed with status:`,w,"response text:",f.getResponseText()),w>0){let E=f.getResponseJson();Array.isArray(E)&&(E=E[0]);const R=E==null?void 0:E.error;if(R&&R.status&&R.message){const x=function(C){const D=C.toLowerCase().replace(/_/g,"-");return Object.values(ne).indexOf(D)>=0?D:ne.UNKNOWN}(R.status);d(new we(x,R.message))}else d(new we(ne.UNKNOWN,"Server responded with status "+f.getStatus()))}else d(new we(ne.UNAVAILABLE,"Connection failed."));break;default:Ae()}}finally{de(Ht,`RPC '${e}' ${a} completed.`)}});const p=JSON.stringify(s);de(Ht,`RPC '${e}' ${a} sending request:`,s),f.send(t,"POST",p,i,15)})}qo(e,t,i){const s=$f(),a=[this.Fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=f0(),d=h0(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(f.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(f.useFetchStreams=!0),this.Lo(f.initMessageHeaders,t,i),f.encodeInitMessageHeaders=!0;const v=a.join("");de(Ht,`Creating RPC '${e}' stream ${s}: ${v}`,f);const w=u.createWebChannel(v,f);let E=!1,R=!1;const x=new Nk({Eo:C=>{R?de(Ht,`Not sending because RPC '${e}' stream ${s} is closed:`,C):(E||(de(Ht,`Opening RPC '${e}' stream ${s} transport.`),w.open(),E=!0),de(Ht,`RPC '${e}' stream ${s} sending:`,C),w.send(C))},Ao:()=>w.close()}),I=(C,D,L)=>{C.listen(D,B=>{try{L(B)}catch(G){setTimeout(()=>{throw G},0)}})};return I(w,Tl.EventType.OPEN,()=>{R||(de(Ht,`RPC '${e}' stream ${s} transport opened.`),x.So())}),I(w,Tl.EventType.CLOSE,()=>{R||(R=!0,de(Ht,`RPC '${e}' stream ${s} transport closed`),x.Do())}),I(w,Tl.EventType.ERROR,C=>{R||(R=!0,ta(Ht,`RPC '${e}' stream ${s} transport errored:`,C),x.Do(new we(ne.UNAVAILABLE,"The operation could not be completed")))}),I(w,Tl.EventType.MESSAGE,C=>{var D;if(!R){const L=C.data[0];Ge(!!L);const B=L,G=(B==null?void 0:B.error)||((D=B[0])===null||D===void 0?void 0:D.error);if(G){de(Ht,`RPC '${e}' stream ${s} received error:`,G);const X=G.status;let ie=function(k){const V=gt[k];if(V!==void 0)return F0(V)}(X),b=G.message;ie===void 0&&(ie=ne.INTERNAL,b="Unknown error status: "+X+" with message "+G.message),R=!0,x.Do(new we(ie,b)),w.close()}else de(Ht,`RPC '${e}' stream ${s} received:`,L),x.vo(L)}}),I(d,d0.STAT_EVENT,C=>{C.stat===hp.PROXY?de(Ht,`RPC '${e}' stream ${s} detected buffering proxy`):C.stat===hp.NOPROXY&&de(Ht,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{x.bo()},0),x}}function Wf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vd(n){return new jP(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X0{constructor(e,t,i=1e3,s=1.5,a=6e4){this.li=e,this.timerId=t,this.Qo=i,this.Ko=s,this.$o=a,this.Uo=0,this.Wo=null,this.Go=Date.now(),this.reset()}reset(){this.Uo=0}zo(){this.Uo=this.$o}jo(e){this.cancel();const t=Math.floor(this.Uo+this.Ho()),i=Math.max(0,Date.now()-this.Go),s=Math.max(0,t-i);s>0&&de("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Uo} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.Wo=this.li.enqueueAfterDelay(this.timerId,s,()=>(this.Go=Date.now(),e())),this.Uo*=this.Ko,this.Uo<this.Qo&&(this.Uo=this.Qo),this.Uo>this.$o&&(this.Uo=this.$o)}Jo(){this.Wo!==null&&(this.Wo.skipDelay(),this.Wo=null)}cancel(){this.Wo!==null&&(this.Wo.cancel(),this.Wo=null)}Ho(){return(Math.random()-.5)*this.Uo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J0{constructor(e,t,i,s,a,u,d,f){this.li=e,this.Yo=i,this.Zo=s,this.connection=a,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=d,this.listener=f,this.state=0,this.Xo=0,this.e_=null,this.t_=null,this.stream=null,this.n_=0,this.r_=new X0(e,t)}i_(){return this.state===1||this.state===5||this.s_()}s_(){return this.state===2||this.state===3}start(){this.n_=0,this.state!==4?this.auth():this.o_()}async stop(){this.i_()&&await this.close(0)}__(){this.state=0,this.r_.reset()}a_(){this.s_()&&this.e_===null&&(this.e_=this.li.enqueueAfterDelay(this.Yo,6e4,()=>this.u_()))}c_(e){this.l_(),this.stream.send(e)}async u_(){if(this.s_())return this.close(0)}l_(){this.e_&&(this.e_.cancel(),this.e_=null)}h_(){this.t_&&(this.t_.cancel(),this.t_=null)}async close(e,t){this.l_(),this.h_(),this.r_.cancel(),this.Xo++,e!==4?this.r_.reset():t&&t.code===ne.RESOURCE_EXHAUSTED?(ni(t.toString()),ni("Using maximum backoff delay to prevent overloading the backend."),this.r_.zo()):t&&t.code===ne.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.P_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.po(t)}P_(){}auth(){this.state=1;const e=this.T_(this.Xo),t=this.Xo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,s])=>{this.Xo===t&&this.I_(i,s)},i=>{e(()=>{const s=new we(ne.UNKNOWN,"Fetching auth token failed: "+i.message);return this.E_(s)})})}I_(e,t){const i=this.T_(this.Xo);this.stream=this.d_(e,t),this.stream.Ro(()=>{i(()=>this.listener.Ro())}),this.stream.mo(()=>{i(()=>(this.state=2,this.t_=this.li.enqueueAfterDelay(this.Zo,1e4,()=>(this.s_()&&(this.state=3),Promise.resolve())),this.listener.mo()))}),this.stream.po(s=>{i(()=>this.E_(s))}),this.stream.onMessage(s=>{i(()=>++this.n_==1?this.A_(s):this.onNext(s))})}o_(){this.state=5,this.r_.jo(async()=>{this.state=0,this.start()})}E_(e){return de("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}T_(e){return t=>{this.li.enqueueAndForget(()=>this.Xo===e?t():(de("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Ok extends J0{constructor(e,t,i,s,a,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,s,u),this.serializer=a}d_(e,t){return this.connection.qo("Listen",e,t)}A_(e){return this.onNext(e)}onNext(e){this.r_.reset();const t=$P(this.serializer,e),i=function(a){if(!("targetChange"in a))return be.min();const u=a.targetChange;return u.targetIds&&u.targetIds.length?be.min():u.readTime?Er(u.readTime):be.min()}(e);return this.listener.R_(t,i)}V_(e){const t={};t.database=Ep(this.serializer),t.addTarget=function(a,u){let d;const f=u.target;if(d=gp(f)?{documents:qP(a,f)}:{query:KP(a,f).ct},d.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){d.resumeToken=z0(a,u.resumeToken);const p=vp(a,u.expectedCount);p!==null&&(d.expectedCount=p)}else if(u.snapshotVersion.compareTo(be.min())>0){d.readTime=cd(a,u.snapshotVersion.toTimestamp());const p=vp(a,u.expectedCount);p!==null&&(d.expectedCount=p)}return d}(this.serializer,e);const i=QP(this.serializer,e);i&&(t.labels=i),this.c_(t)}m_(e){const t={};t.database=Ep(this.serializer),t.removeTarget=e,this.c_(t)}}class Lk extends J0{constructor(e,t,i,s,a,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,s,u),this.serializer=a}get f_(){return this.n_>0}start(){this.lastStreamToken=void 0,super.start()}P_(){this.f_&&this.g_([])}d_(e,t){return this.connection.qo("Write",e,t)}A_(e){return Ge(!!e.streamToken),this.lastStreamToken=e.streamToken,Ge(!e.writeResults||e.writeResults.length===0),this.listener.p_()}onNext(e){Ge(!!e.streamToken),this.lastStreamToken=e.streamToken,this.r_.reset();const t=HP(e.writeResults,e.commitTime),i=Er(e.commitTime);return this.listener.y_(i,t)}w_(){const e={};e.database=Ep(this.serializer),this.c_(e)}g_(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>WP(this.serializer,i))};this.c_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vk extends class{}{constructor(e,t,i,s){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=s,this.S_=!1}b_(){if(this.S_)throw new we(ne.FAILED_PRECONDITION,"The client has already been terminated.")}Oo(e,t,i,s){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,u])=>this.connection.Oo(e,_p(t,i),s,a,u)).catch(a=>{throw a.name==="FirebaseError"?(a.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new we(ne.UNKNOWN,a.toString())})}ko(e,t,i,s,a){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,d])=>this.connection.ko(e,_p(t,i),s,u,d,a)).catch(u=>{throw u.name==="FirebaseError"?(u.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new we(ne.UNKNOWN,u.toString())})}terminate(){this.S_=!0,this.connection.terminate()}}class Mk{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.D_=0,this.v_=null,this.C_=!0}F_(){this.D_===0&&(this.M_("Unknown"),this.v_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.v_=null,this.x_("Backend didn't respond within 10 seconds."),this.M_("Offline"),Promise.resolve())))}O_(e){this.state==="Online"?this.M_("Unknown"):(this.D_++,this.D_>=1&&(this.N_(),this.x_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.M_("Offline")))}set(e){this.N_(),this.D_=0,e==="Online"&&(this.C_=!1),this.M_(e)}M_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}x_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.C_?(ni(t),this.C_=!1):de("OnlineStateTracker",t)}N_(){this.v_!==null&&(this.v_.cancel(),this.v_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fk{constructor(e,t,i,s,a){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.L_=[],this.B_=new Map,this.k_=new Set,this.q_=[],this.Q_=a,this.Q_.uo(u=>{i.enqueueAndForget(async()=>{Ko(this)&&(de("RemoteStore","Restarting streams for network reachability change."),await async function(f){const p=Ne(f);p.k_.add(4),await nu(p),p.K_.set("Unknown"),p.k_.delete(4),await Md(p)}(this))})}),this.K_=new Mk(i,s)}}async function Md(n){if(Ko(n))for(const e of n.q_)await e(!0)}async function nu(n){for(const e of n.q_)await e(!1)}function Z0(n,e){const t=Ne(n);t.B_.has(e.targetId)||(t.B_.set(e.targetId,e),Sm(t)?Tm(t):_a(t).s_()&&Em(t,e))}function wm(n,e){const t=Ne(n),i=_a(t);t.B_.delete(e),i.s_()&&eE(t,e),t.B_.size===0&&(i.s_()?i.a_():Ko(t)&&t.K_.set("Unknown"))}function Em(n,e){if(n.U_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(be.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}_a(n).V_(e)}function eE(n,e){n.U_.xe(e),_a(n).m_(e)}function Tm(n){n.U_=new VP({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ut:e=>n.B_.get(e)||null,nt:()=>n.datastore.serializer.databaseId}),_a(n).start(),n.K_.F_()}function Sm(n){return Ko(n)&&!_a(n).i_()&&n.B_.size>0}function Ko(n){return Ne(n).k_.size===0}function tE(n){n.U_=void 0}async function Uk(n){n.K_.set("Online")}async function jk(n){n.B_.forEach((e,t)=>{Em(n,e)})}async function zk(n,e){tE(n),Sm(n)?(n.K_.O_(e),Tm(n)):n.K_.set("Unknown")}async function Bk(n,e,t){if(n.K_.set("Online"),e instanceof j0&&e.state===2&&e.cause)try{await async function(s,a){const u=a.cause;for(const d of a.targetIds)s.B_.has(d)&&(await s.remoteSyncer.rejectListen(d,u),s.B_.delete(d),s.U_.removeTarget(d))}(n,e)}catch(i){de("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),await hd(n,i)}else if(e instanceof Hc?n.U_.$e(e):e instanceof U0?n.U_.Je(e):n.U_.Ge(e),!t.isEqual(be.min()))try{const i=await Y0(n.localStore);t.compareTo(i)>=0&&await function(a,u){const d=a.U_.it(u);return d.targetChanges.forEach((f,p)=>{if(f.resumeToken.approximateByteSize()>0){const v=a.B_.get(p);v&&a.B_.set(p,v.withResumeToken(f.resumeToken,u))}}),d.targetMismatches.forEach((f,p)=>{const v=a.B_.get(f);if(!v)return;a.B_.set(f,v.withResumeToken(Ut.EMPTY_BYTE_STRING,v.snapshotVersion)),eE(a,f);const w=new ji(v.target,f,p,v.sequenceNumber);Em(a,w)}),a.remoteSyncer.applyRemoteEvent(d)}(n,t)}catch(i){de("RemoteStore","Failed to raise snapshot:",i),await hd(n,i)}}async function hd(n,e,t){if(!va(e))throw e;n.k_.add(1),await nu(n),n.K_.set("Offline"),t||(t=()=>Y0(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{de("RemoteStore","Retrying IndexedDB access"),await t(),n.k_.delete(1),await Md(n)})}function nE(n,e){return e().catch(t=>hd(n,t,e))}async function Fd(n){const e=Ne(n),t=Yi(e);let i=e.L_.length>0?e.L_[e.L_.length-1].batchId:-1;for(;$k(e);)try{const s=await Rk(e.localStore,i);if(s===null){e.L_.length===0&&t.a_();break}i=s.batchId,Wk(e,s)}catch(s){await hd(e,s)}rE(e)&&iE(e)}function $k(n){return Ko(n)&&n.L_.length<10}function Wk(n,e){n.L_.push(e);const t=Yi(n);t.s_()&&t.f_&&t.g_(e.mutations)}function rE(n){return Ko(n)&&!Yi(n).i_()&&n.L_.length>0}function iE(n){Yi(n).start()}async function Hk(n){Yi(n).w_()}async function qk(n){const e=Yi(n);for(const t of n.L_)e.g_(t.mutations)}async function Kk(n,e,t){const i=n.L_.shift(),s=pm.from(i,e,t);await nE(n,()=>n.remoteSyncer.applySuccessfulWrite(s)),await Fd(n)}async function Gk(n,e){e&&Yi(n).f_&&await async function(i,s){if(function(u){return DP(u)&&u!==ne.ABORTED}(s.code)){const a=i.L_.shift();Yi(i).__(),await nE(i,()=>i.remoteSyncer.rejectFailedWrite(a.batchId,s)),await Fd(i)}}(n,e),rE(n)&&iE(n)}async function v_(n,e){const t=Ne(n);t.asyncQueue.verifyOperationInProgress(),de("RemoteStore","RemoteStore received new credentials");const i=Ko(t);t.k_.add(3),await nu(t),i&&t.K_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.k_.delete(3),await Md(t)}async function Qk(n,e){const t=Ne(n);e?(t.k_.delete(2),await Md(t)):e||(t.k_.add(2),await nu(t),t.K_.set("Unknown"))}function _a(n){return n.W_||(n.W_=function(t,i,s){const a=Ne(t);return a.b_(),new Ok(i,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)}(n.datastore,n.asyncQueue,{Ro:Uk.bind(null,n),mo:jk.bind(null,n),po:zk.bind(null,n),R_:Bk.bind(null,n)}),n.q_.push(async e=>{e?(n.W_.__(),Sm(n)?Tm(n):n.K_.set("Unknown")):(await n.W_.stop(),tE(n))})),n.W_}function Yi(n){return n.G_||(n.G_=function(t,i,s){const a=Ne(t);return a.b_(),new Lk(i,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)}(n.datastore,n.asyncQueue,{Ro:()=>Promise.resolve(),mo:Hk.bind(null,n),po:Gk.bind(null,n),p_:qk.bind(null,n),y_:Kk.bind(null,n)}),n.q_.push(async e=>{e?(n.G_.__(),await Fd(n)):(await n.G_.stop(),n.L_.length>0&&(de("RemoteStore",`Stopping write stream with ${n.L_.length} pending writes`),n.L_=[]))})),n.G_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Im{constructor(e,t,i,s,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=s,this.removalCallback=a,this.deferred=new Zr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,s,a){const u=Date.now()+i,d=new Im(e,t,u,s,a);return d.start(i),d}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new we(ne.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Cm(n,e){if(ni("AsyncQueue",`${e}: ${n}`),va(n))return new we(ne.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qs{static emptySet(e){return new Qs(e.comparator)}constructor(e){this.comparator=e?(t,i)=>e(t,i)||Ie.comparator(t.key,i.key):(t,i)=>Ie.comparator(t.key,i.key),this.keyedMap=Sl(),this.sortedSet=new lt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Qs)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const s=t.getNext().key,a=i.getNext().key;if(!s.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const i=new Qs;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __{constructor(){this.z_=new lt(Ie.comparator)}track(e){const t=e.doc.key,i=this.z_.get(t);i?e.type!==0&&i.type===3?this.z_=this.z_.insert(t,e):e.type===3&&i.type!==1?this.z_=this.z_.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.z_=this.z_.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.z_=this.z_.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.z_=this.z_.remove(t):e.type===1&&i.type===2?this.z_=this.z_.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.z_=this.z_.insert(t,{type:2,doc:e.doc}):Ae():this.z_=this.z_.insert(t,e)}j_(){const e=[];return this.z_.inorderTraversal((t,i)=>{e.push(i)}),e}}class sa{constructor(e,t,i,s,a,u,d,f,p){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=s,this.mutatedKeys=a,this.fromCache=u,this.syncStateChanged=d,this.excludesMetadataChanges=f,this.hasCachedResults=p}static fromInitialDocuments(e,t,i,s,a){const u=[];return t.forEach(d=>{u.push({type:0,doc:d})}),new sa(e,t,Qs.emptySet(t),u,i,s,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&bd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let s=0;s<t.length;s++)if(t[s].type!==i[s].type||!t[s].doc.isEqual(i[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yk{constructor(){this.H_=void 0,this.J_=[]}Y_(){return this.J_.some(e=>e.Z_())}}class Xk{constructor(){this.queries=w_(),this.onlineState="Unknown",this.X_=new Set}terminate(){(function(t,i){const s=Ne(t),a=s.queries;s.queries=w_(),a.forEach((u,d)=>{for(const f of d.J_)f.onError(i)})})(this,new we(ne.ABORTED,"Firestore shutting down"))}}function w_(){return new qo(n=>C0(n),bd)}async function oE(n,e){const t=Ne(n);let i=3;const s=e.query;let a=t.queries.get(s);a?!a.Y_()&&e.Z_()&&(i=2):(a=new Yk,i=e.Z_()?0:1);try{switch(i){case 0:a.H_=await t.onListen(s,!0);break;case 1:a.H_=await t.onListen(s,!1);break;case 2:await t.onFirstRemoteStoreListen(s)}}catch(u){const d=Cm(u,`Initialization of query '${Bs(e.query)}' failed`);return void e.onError(d)}t.queries.set(s,a),a.J_.push(e),e.ea(t.onlineState),a.H_&&e.ta(a.H_)&&Rm(t)}async function sE(n,e){const t=Ne(n),i=e.query;let s=3;const a=t.queries.get(i);if(a){const u=a.J_.indexOf(e);u>=0&&(a.J_.splice(u,1),a.J_.length===0?s=e.Z_()?0:1:!a.Y_()&&e.Z_()&&(s=2))}switch(s){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}}function Jk(n,e){const t=Ne(n);let i=!1;for(const s of e){const a=s.query,u=t.queries.get(a);if(u){for(const d of u.J_)d.ta(s)&&(i=!0);u.H_=s}}i&&Rm(t)}function Zk(n,e,t){const i=Ne(n),s=i.queries.get(e);if(s)for(const a of s.J_)a.onError(t);i.queries.delete(e)}function Rm(n){n.X_.forEach(e=>{e.next()})}var Sp,E_;(E_=Sp||(Sp={})).na="default",E_.Cache="cache";class aE{constructor(e,t,i){this.query=e,this.ra=t,this.ia=!1,this.sa=null,this.onlineState="Unknown",this.options=i||{}}ta(e){if(!this.options.includeMetadataChanges){const i=[];for(const s of e.docChanges)s.type!==3&&i.push(s);e=new sa(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ia?this.oa(e)&&(this.ra.next(e),t=!0):this._a(e,this.onlineState)&&(this.aa(e),t=!0),this.sa=e,t}onError(e){this.ra.error(e)}ea(e){this.onlineState=e;let t=!1;return this.sa&&!this.ia&&this._a(this.sa,e)&&(this.aa(this.sa),t=!0),t}_a(e,t){if(!e.fromCache||!this.Z_())return!0;const i=t!=="Offline";return(!this.options.ua||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}oa(e){if(e.docChanges.length>0)return!0;const t=this.sa&&this.sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}aa(e){e=sa.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ia=!0,this.ra.next(e)}Z_(){return this.options.source!==Sp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lE{constructor(e){this.key=e}}class uE{constructor(e){this.key=e}}class eb{constructor(e,t){this.query=e,this.da=t,this.Aa=null,this.hasCachedResults=!1,this.current=!1,this.Ra=je(),this.mutatedKeys=je(),this.Va=R0(e),this.ma=new Qs(this.Va)}get fa(){return this.da}ga(e,t){const i=t?t.pa:new __,s=t?t.ma:this.ma;let a=t?t.mutatedKeys:this.mutatedKeys,u=s,d=!1;const f=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,p=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((v,w)=>{const E=s.get(v),R=Nd(this.query,w)?w:null,x=!!E&&this.mutatedKeys.has(E.key),I=!!R&&(R.hasLocalMutations||this.mutatedKeys.has(R.key)&&R.hasCommittedMutations);let C=!1;E&&R?E.data.isEqual(R.data)?x!==I&&(i.track({type:3,doc:R}),C=!0):this.ya(E,R)||(i.track({type:2,doc:R}),C=!0,(f&&this.Va(R,f)>0||p&&this.Va(R,p)<0)&&(d=!0)):!E&&R?(i.track({type:0,doc:R}),C=!0):E&&!R&&(i.track({type:1,doc:E}),C=!0,(f||p)&&(d=!0)),C&&(R?(u=u.add(R),a=I?a.add(v):a.delete(v)):(u=u.delete(v),a=a.delete(v)))}),this.query.limit!==null)for(;u.size>this.query.limit;){const v=this.query.limitType==="F"?u.last():u.first();u=u.delete(v.key),a=a.delete(v.key),i.track({type:1,doc:v})}return{ma:u,pa:i,ss:d,mutatedKeys:a}}ya(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,s){const a=this.ma;this.ma=e.ma,this.mutatedKeys=e.mutatedKeys;const u=e.pa.j_();u.sort((v,w)=>function(R,x){const I=C=>{switch(C){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ae()}};return I(R)-I(x)}(v.type,w.type)||this.Va(v.doc,w.doc)),this.wa(i),s=s!=null&&s;const d=t&&!s?this.Sa():[],f=this.Ra.size===0&&this.current&&!s?1:0,p=f!==this.Aa;return this.Aa=f,u.length!==0||p?{snapshot:new sa(this.query,e.ma,a,u,e.mutatedKeys,f===0,p,!1,!!i&&i.resumeToken.approximateByteSize()>0),ba:d}:{ba:d}}ea(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ma:this.ma,pa:new __,mutatedKeys:this.mutatedKeys,ss:!1},!1)):{ba:[]}}Da(e){return!this.da.has(e)&&!!this.ma.has(e)&&!this.ma.get(e).hasLocalMutations}wa(e){e&&(e.addedDocuments.forEach(t=>this.da=this.da.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.da=this.da.delete(t)),this.current=e.current)}Sa(){if(!this.current)return[];const e=this.Ra;this.Ra=je(),this.ma.forEach(i=>{this.Da(i.key)&&(this.Ra=this.Ra.add(i.key))});const t=[];return e.forEach(i=>{this.Ra.has(i)||t.push(new uE(i))}),this.Ra.forEach(i=>{e.has(i)||t.push(new lE(i))}),t}va(e){this.da=e.ds,this.Ra=je();const t=this.ga(e.documents);return this.applyChanges(t,!0)}Ca(){return sa.fromInitialDocuments(this.query,this.ma,this.mutatedKeys,this.Aa===0,this.hasCachedResults)}}class tb{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class nb{constructor(e){this.key=e,this.Fa=!1}}class rb{constructor(e,t,i,s,a,u){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=s,this.currentUser=a,this.maxConcurrentLimboResolutions=u,this.Ma={},this.xa=new qo(d=>C0(d),bd),this.Oa=new Map,this.Na=new Set,this.La=new lt(Ie.comparator),this.Ba=new Map,this.ka=new ym,this.qa={},this.Qa=new Map,this.Ka=oa.Qn(),this.onlineState="Unknown",this.$a=void 0}get isPrimaryClient(){return this.$a===!0}}async function ib(n,e,t=!0){const i=mE(n);let s;const a=i.xa.get(e);return a?(i.sharedClientState.addLocalQueryTarget(a.targetId),s=a.view.Ca()):s=await cE(i,e,t,!0),s}async function ob(n,e){const t=mE(n);await cE(t,e,!0,!1)}async function cE(n,e,t,i){const s=await Ak(n.localStore,_r(e)),a=s.targetId,u=n.sharedClientState.addLocalQueryTarget(a,t);let d;return i&&(d=await sb(n,e,a,u==="current",s.resumeToken)),n.isPrimaryClient&&t&&Z0(n.remoteStore,s),d}async function sb(n,e,t,i,s){n.Ua=(w,E,R)=>async function(I,C,D,L){let B=C.view.ga(D);B.ss&&(B=await m_(I.localStore,C.query,!1).then(({documents:b})=>C.view.ga(b,B)));const G=L&&L.targetChanges.get(C.targetId),X=L&&L.targetMismatches.get(C.targetId)!=null,ie=C.view.applyChanges(B,I.isPrimaryClient,G,X);return S_(I,C.targetId,ie.ba),ie.snapshot}(n,w,E,R);const a=await m_(n.localStore,e,!0),u=new eb(e,a.ds),d=u.ga(a.documents),f=tu.createSynthesizedTargetChangeForCurrentChange(t,i&&n.onlineState!=="Offline",s),p=u.applyChanges(d,n.isPrimaryClient,f);S_(n,t,p.ba);const v=new tb(e,t,u);return n.xa.set(e,v),n.Oa.has(t)?n.Oa.get(t).push(e):n.Oa.set(t,[e]),p.snapshot}async function ab(n,e,t){const i=Ne(n),s=i.xa.get(e),a=i.Oa.get(s.targetId);if(a.length>1)return i.Oa.set(s.targetId,a.filter(u=>!bd(u,e))),void i.xa.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(s.targetId),i.sharedClientState.isActiveQueryTarget(s.targetId)||await Tp(i.localStore,s.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(s.targetId),t&&wm(i.remoteStore,s.targetId),Ip(i,s.targetId)}).catch(ya)):(Ip(i,s.targetId),await Tp(i.localStore,s.targetId,!0))}async function lb(n,e){const t=Ne(n),i=t.xa.get(e),s=t.Oa.get(i.targetId);t.isPrimaryClient&&s.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),wm(t.remoteStore,i.targetId))}async function ub(n,e,t){const i=gb(n);try{const s=await function(u,d){const f=Ne(u),p=Ct.now(),v=d.reduce((R,x)=>R.add(x.key),je());let w,E;return f.persistence.runTransaction("Locally write mutations","readwrite",R=>{let x=ri(),I=je();return f.hs.getEntries(R,v).next(C=>{x=C,x.forEach((D,L)=>{L.isValidDocument()||(I=I.add(D))})}).next(()=>f.localDocuments.getOverlayedDocuments(R,x)).next(C=>{w=C;const D=[];for(const L of d){const B=xP(L,w.get(L.key).overlayedDocument);B!=null&&D.push(new ro(L.key,B,v0(B.value.mapValue),wr.exists(!0)))}return f.mutationQueue.addMutationBatch(R,p,D,d)}).next(C=>{E=C;const D=C.applyToLocalDocumentSet(w,I);return f.documentOverlayCache.saveOverlays(R,C.batchId,D)})}).then(()=>({batchId:E.batchId,changes:x0(w)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(s.batchId),function(u,d,f){let p=u.qa[u.currentUser.toKey()];p||(p=new lt($e)),p=p.insert(d,f),u.qa[u.currentUser.toKey()]=p}(i,s.batchId,t),await ru(i,s.changes),await Fd(i.remoteStore)}catch(s){const a=Cm(s,"Failed to persist write");t.reject(a)}}async function dE(n,e){const t=Ne(n);try{const i=await Ik(t.localStore,e);e.targetChanges.forEach((s,a)=>{const u=t.Ba.get(a);u&&(Ge(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?u.Fa=!0:s.modifiedDocuments.size>0?Ge(u.Fa):s.removedDocuments.size>0&&(Ge(u.Fa),u.Fa=!1))}),await ru(t,i,e)}catch(i){await ya(i)}}function T_(n,e,t){const i=Ne(n);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){const s=[];i.xa.forEach((a,u)=>{const d=u.view.ea(e);d.snapshot&&s.push(d.snapshot)}),function(u,d){const f=Ne(u);f.onlineState=d;let p=!1;f.queries.forEach((v,w)=>{for(const E of w.J_)E.ea(d)&&(p=!0)}),p&&Rm(f)}(i.eventManager,e),s.length&&i.Ma.R_(s),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function cb(n,e,t){const i=Ne(n);i.sharedClientState.updateQueryState(e,"rejected",t);const s=i.Ba.get(e),a=s&&s.key;if(a){let u=new lt(Ie.comparator);u=u.insert(a,Kt.newNoDocument(a,be.min()));const d=je().add(a),f=new Ld(be.min(),new Map,new lt($e),u,d);await dE(i,f),i.La=i.La.remove(a),i.Ba.delete(e),Am(i)}else await Tp(i.localStore,e,!1).then(()=>Ip(i,e,t)).catch(ya)}async function db(n,e){const t=Ne(n),i=e.batch.batchId;try{const s=await Sk(t.localStore,e);fE(t,i,null),hE(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),await ru(t,s)}catch(s){await ya(s)}}async function hb(n,e,t){const i=Ne(n);try{const s=await function(u,d){const f=Ne(u);return f.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let v;return f.mutationQueue.lookupMutationBatch(p,d).next(w=>(Ge(w!==null),v=w.keys(),f.mutationQueue.removeMutationBatch(p,w))).next(()=>f.mutationQueue.performConsistencyCheck(p)).next(()=>f.documentOverlayCache.removeOverlaysForBatchId(p,v,d)).next(()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,v)).next(()=>f.localDocuments.getDocuments(p,v))})}(i.localStore,e);fE(i,e,t),hE(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),await ru(i,s)}catch(s){await ya(s)}}function hE(n,e){(n.Qa.get(e)||[]).forEach(t=>{t.resolve()}),n.Qa.delete(e)}function fE(n,e,t){const i=Ne(n);let s=i.qa[i.currentUser.toKey()];if(s){const a=s.get(e);a&&(t?a.reject(t):a.resolve(),s=s.remove(e)),i.qa[i.currentUser.toKey()]=s}}function Ip(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.Oa.get(e))n.xa.delete(i),t&&n.Ma.Wa(i,t);n.Oa.delete(e),n.isPrimaryClient&&n.ka.yr(e).forEach(i=>{n.ka.containsKey(i)||pE(n,i)})}function pE(n,e){n.Na.delete(e.path.canonicalString());const t=n.La.get(e);t!==null&&(wm(n.remoteStore,t),n.La=n.La.remove(e),n.Ba.delete(t),Am(n))}function S_(n,e,t){for(const i of t)i instanceof lE?(n.ka.addReference(i.key,e),fb(n,i)):i instanceof uE?(de("SyncEngine","Document no longer in limbo: "+i.key),n.ka.removeReference(i.key,e),n.ka.containsKey(i.key)||pE(n,i.key)):Ae()}function fb(n,e){const t=e.key,i=t.path.canonicalString();n.La.get(t)||n.Na.has(i)||(de("SyncEngine","New document in limbo: "+t),n.Na.add(i),Am(n))}function Am(n){for(;n.Na.size>0&&n.La.size<n.maxConcurrentLimboResolutions;){const e=n.Na.values().next().value;n.Na.delete(e);const t=new Ie(it.fromString(e)),i=n.Ka.next();n.Ba.set(i,new nb(t)),n.La=n.La.insert(t,i),Z0(n.remoteStore,new ji(_r(hm(t.path)),i,"TargetPurposeLimboResolution",Ad.oe))}}async function ru(n,e,t){const i=Ne(n),s=[],a=[],u=[];i.xa.isEmpty()||(i.xa.forEach((d,f)=>{u.push(i.Ua(f,e,t).then(p=>{var v;if((p||t)&&i.isPrimaryClient){const w=p?!p.fromCache:(v=t==null?void 0:t.targetChanges.get(f.targetId))===null||v===void 0?void 0:v.current;i.sharedClientState.updateQueryState(f.targetId,w?"current":"not-current")}if(p){s.push(p);const w=_m.zi(f.targetId,p);a.push(w)}}))}),await Promise.all(u),i.Ma.R_(s),await async function(f,p){const v=Ne(f);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",w=>Z.forEach(p,E=>Z.forEach(E.Wi,R=>v.persistence.referenceDelegate.addReference(w,E.targetId,R)).next(()=>Z.forEach(E.Gi,R=>v.persistence.referenceDelegate.removeReference(w,E.targetId,R)))))}catch(w){if(!va(w))throw w;de("LocalStore","Failed to update sequence numbers: "+w)}for(const w of p){const E=w.targetId;if(!w.fromCache){const R=v.us.get(E),x=R.snapshotVersion,I=R.withLastLimboFreeSnapshotVersion(x);v.us=v.us.insert(E,I)}}}(i.localStore,a))}async function pb(n,e){const t=Ne(n);if(!t.currentUser.isEqual(e)){de("SyncEngine","User change. New user:",e.toKey());const i=await Q0(t.localStore,e);t.currentUser=e,function(a,u){a.Qa.forEach(d=>{d.forEach(f=>{f.reject(new we(ne.CANCELLED,u))})}),a.Qa.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await ru(t,i.Ts)}}function mb(n,e){const t=Ne(n),i=t.Ba.get(e);if(i&&i.Fa)return je().add(i.key);{let s=je();const a=t.Oa.get(e);if(!a)return s;for(const u of a){const d=t.xa.get(u);s=s.unionWith(d.view.fa)}return s}}function mE(n){const e=Ne(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=dE.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=mb.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=cb.bind(null,e),e.Ma.R_=Jk.bind(null,e.eventManager),e.Ma.Wa=Zk.bind(null,e.eventManager),e}function gb(n){const e=Ne(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=db.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=hb.bind(null,e),e}class fd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Vd(e.databaseInfo.databaseId),this.sharedClientState=this.za(e),this.persistence=this.ja(e),await this.persistence.start(),this.localStore=this.Ha(e),this.gcScheduler=this.Ja(e,this.localStore),this.indexBackfillerScheduler=this.Ya(e,this.localStore)}Ja(e,t){return null}Ya(e,t){return null}Ha(e){return Tk(this.persistence,new wk,e.initialUser,this.serializer)}ja(e){return new G0(vm.ei,this.serializer)}za(e){return new Pk}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}fd.provider={build:()=>new fd};class yb extends fd{constructor(e){super(),this.cacheSizeBytes=e}Ja(e,t){Ge(this.persistence.referenceDelegate instanceof dd);const i=this.persistence.referenceDelegate.garbageCollector;return new ok(i,e.asyncQueue,t)}ja(e){const t=this.cacheSizeBytes!==void 0?cn.withCacheSize(this.cacheSizeBytes):cn.DEFAULT;return new G0(i=>dd.ei(i,t),this.serializer)}}class Cp{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>T_(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=pb.bind(null,this.syncEngine),await Qk(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new Xk}()}createDatastore(e){const t=Vd(e.databaseInfo.databaseId),i=function(a){return new Dk(a)}(e.databaseInfo);return function(a,u,d,f){return new Vk(a,u,d,f)}(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return function(i,s,a,u,d){return new Fk(i,s,a,u,d)}(this.localStore,this.datastore,e.asyncQueue,t=>T_(this.syncEngine,t,0),function(){return y_.p()?new y_:new kk}())}createSyncEngine(e,t){return function(s,a,u,d,f,p,v){const w=new rb(s,a,u,d,f,p);return v&&(w.$a=!0),w}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(s){const a=Ne(s);de("RemoteStore","RemoteStore shutting down."),a.k_.add(5),await nu(a),a.Q_.shutdown(),a.K_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}Cp.provider={build:()=>new Cp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gE{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Xa(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Xa(this.observer.error,e):ni("Uncaught Error in snapshot listener:",e.toString()))}eu(){this.muted=!0}Xa(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vb{constructor(e,t,i,s,a){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=s,this.user=qt.UNAUTHENTICATED,this.clientId=m0.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(i,async u=>{de("FirestoreClient","Received user=",u.uid),await this.authCredentialListener(u),this.user=u}),this.appCheckCredentials.start(i,u=>(de("FirestoreClient","Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Zr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const i=Cm(t,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function Hf(n,e){n.asyncQueue.verifyOperationInProgress(),de("FirestoreClient","Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(async s=>{i.isEqual(s)||(await Q0(e.localStore,s),i=s)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function I_(n,e){n.asyncQueue.verifyOperationInProgress();const t=await _b(n);de("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(i=>v_(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,s)=>v_(e.remoteStore,s)),n._onlineComponents=e}async function _b(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){de("FirestoreClient","Using user provided OfflineComponentProvider");try{await Hf(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(s){return s.name==="FirebaseError"?s.code===ne.FAILED_PRECONDITION||s.code===ne.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(t))throw t;ta("Error using user provided cache. Falling back to memory cache: "+t),await Hf(n,new fd)}}else de("FirestoreClient","Using default OfflineComponentProvider"),await Hf(n,new yb(void 0));return n._offlineComponents}async function yE(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(de("FirestoreClient","Using user provided OnlineComponentProvider"),await I_(n,n._uninitializedComponentsProvider._online)):(de("FirestoreClient","Using default OnlineComponentProvider"),await I_(n,new Cp))),n._onlineComponents}function wb(n){return yE(n).then(e=>e.syncEngine)}async function vE(n){const e=await yE(n),t=e.eventManager;return t.onListen=ib.bind(null,e.syncEngine),t.onUnlisten=ab.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=ob.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=lb.bind(null,e.syncEngine),t}function Eb(n,e,t={}){const i=new Zr;return n.asyncQueue.enqueueAndForget(async()=>function(a,u,d,f,p){const v=new gE({next:E=>{v.eu(),u.enqueueAndForget(()=>sE(a,w));const R=E.docs.has(d);!R&&E.fromCache?p.reject(new we(ne.UNAVAILABLE,"Failed to get document because the client is offline.")):R&&E.fromCache&&f&&f.source==="server"?p.reject(new we(ne.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(E)},error:E=>p.reject(E)}),w=new aE(hm(d.path),v,{includeMetadataChanges:!0,ua:!0});return oE(a,w)}(await vE(n),n.asyncQueue,e,t,i)),i.promise}function Tb(n,e,t={}){const i=new Zr;return n.asyncQueue.enqueueAndForget(async()=>function(a,u,d,f,p){const v=new gE({next:E=>{v.eu(),u.enqueueAndForget(()=>sE(a,w)),E.fromCache&&f.source==="server"?p.reject(new we(ne.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(E)},error:E=>p.reject(E)}),w=new aE(d,v,{includeMetadataChanges:!0,ua:!0});return oE(a,w)}(await vE(n),n.asyncQueue,e,t,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _E(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C_=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wE(n,e,t){if(!t)throw new we(ne.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function Sb(n,e,t,i){if(e===!0&&i===!0)throw new we(ne.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function R_(n){if(!Ie.isDocumentKey(n))throw new we(ne.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function A_(n){if(Ie.isDocumentKey(n))throw new we(ne.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function xm(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Ae()}function Xi(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new we(ne.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=xm(n);throw new we(ne.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x_{constructor(e){var t,i;if(e.host===void 0){if(e.ssl!==void 0)throw new we(ne.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new we(ne.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Sb("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=_E((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new we(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new we(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new we(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,s){return i.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ud{constructor(e,t,i,s){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new x_({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new we(ne.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new we(ne.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new x_(e),e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new Ox;switch(i.type){case"firstParty":return new Fx(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new we(ne.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const i=C_.get(t);i&&(de("ComponentProvider","Removing Datastore"),C_.delete(t),i.terminate())}(this),Promise.resolve()}}function Ib(n,e,t,i={}){var s;const a=(n=Xi(n,Ud))._getSettings(),u=`${e}:${t}`;if(a.host!=="firestore.googleapis.com"&&a.host!==u&&ta("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},a),{host:u,ssl:!1})),i.mockUserToken){let d,f;if(typeof i.mockUserToken=="string")d=i.mockUserToken,f=qt.MOCK_USER;else{d=r1(i.mockUserToken,(s=n._app)===null||s===void 0?void 0:s.options.projectId);const p=i.mockUserToken.sub||i.mockUserToken.user_id;if(!p)throw new we(ne.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new qt(p)}n._authCredentials=new Lx(new p0(d,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jd{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new jd(this.firestore,e,this._query)}}class En{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Wi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new En(this.firestore,e,this._key)}}class Wi extends jd{constructor(e,t,i){super(e,t,hm(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new En(this.firestore,null,new Ie(e))}withConverter(e){return new Wi(this.firestore,e,this._path)}}function zl(n,e,...t){if(n=Qt(n),wE("collection","path",e),n instanceof Ud){const i=it.fromString(e,...t);return A_(i),new Wi(n,null,i)}{if(!(n instanceof En||n instanceof Wi))throw new we(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(it.fromString(e,...t));return A_(i),new Wi(n.firestore,null,i)}}function Rp(n,e,...t){if(n=Qt(n),arguments.length===1&&(e=m0.newId()),wE("doc","path",e),n instanceof Ud){const i=it.fromString(e,...t);return R_(i),new En(n,null,new Ie(i))}{if(!(n instanceof En||n instanceof Wi))throw new we(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(it.fromString(e,...t));return R_(i),new En(n.firestore,n instanceof Wi?n.converter:null,new Ie(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P_{constructor(e=Promise.resolve()){this.Iu=[],this.Eu=!1,this.du=[],this.Au=null,this.Ru=!1,this.Vu=!1,this.mu=[],this.r_=new X0(this,"async_queue_retry"),this.fu=()=>{const i=Wf();i&&de("AsyncQueue","Visibility state changed to "+i.visibilityState),this.r_.Jo()},this.gu=e;const t=Wf();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.fu)}get isShuttingDown(){return this.Eu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.pu(),this.yu(e)}enterRestrictedMode(e){if(!this.Eu){this.Eu=!0,this.Vu=e||!1;const t=Wf();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.fu)}}enqueue(e){if(this.pu(),this.Eu)return new Promise(()=>{});const t=new Zr;return this.yu(()=>this.Eu&&this.Vu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Iu.push(e),this.wu()))}async wu(){if(this.Iu.length!==0){try{await this.Iu[0](),this.Iu.shift(),this.r_.reset()}catch(e){if(!va(e))throw e;de("AsyncQueue","Operation failed with retryable error: "+e)}this.Iu.length>0&&this.r_.jo(()=>this.wu())}}yu(e){const t=this.gu.then(()=>(this.Ru=!0,e().catch(i=>{this.Au=i,this.Ru=!1;const s=function(u){let d=u.message||"";return u.stack&&(d=u.stack.includes(u.message)?u.stack:u.message+`
`+u.stack),d}(i);throw ni("INTERNAL UNHANDLED ERROR: ",s),i}).then(i=>(this.Ru=!1,i))));return this.gu=t,t}enqueueAfterDelay(e,t,i){this.pu(),this.mu.indexOf(e)>-1&&(t=0);const s=Im.createAndSchedule(this,e,t,i,a=>this.Su(a));return this.du.push(s),s}pu(){this.Au&&Ae()}verifyOperationInProgress(){}async bu(){let e;do e=this.gu,await e;while(e!==this.gu)}Du(e){for(const t of this.du)if(t.timerId===e)return!0;return!1}vu(e){return this.bu().then(()=>{this.du.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.du)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.bu()})}Cu(e){this.mu.push(e)}Su(e){const t=this.du.indexOf(e);this.du.splice(t,1)}}class iu extends Ud{constructor(e,t,i,s){super(e,t,i,s),this.type="firestore",this._queue=new P_,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new P_(e),this._firestoreClient=void 0,await e}}}function Cb(n,e){const t=typeof n=="object"?n:Aw(),i=typeof n=="string"?n:"(default)",s=Yp(t,"firestore").getImmediate({identifier:i});if(!s._initialized){const a=t1("firestore");a&&Ib(s,...a)}return s}function Pm(n){if(n._terminated)throw new we(ne.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||Rb(n),n._firestoreClient}function Rb(n){var e,t,i;const s=n._freezeSettings(),a=function(d,f,p,v){return new Zx(d,f,p,v.host,v.ssl,v.experimentalForceLongPolling,v.experimentalAutoDetectLongPolling,_E(v.experimentalLongPollingOptions),v.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,s);n._componentsProvider||!((t=s.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((i=s.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(n._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),n._firestoreClient=new vb(n._authCredentials,n._appCheckCredentials,n._queue,a,n._componentsProvider&&function(d){const f=d==null?void 0:d._online.build();return{_offline:d==null?void 0:d._offline.build(f),_online:f}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aa{constructor(e){this._byteString=e}static fromBase64String(e){try{return new aa(Ut.fromBase64String(e))}catch(t){throw new we(ne.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new aa(Ut.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zd{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new we(ne.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ft(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class km{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bm{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new we(ne.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new we(ne.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return $e(this._lat,e._lat)||$e(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nm{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,s){if(i.length!==s.length)return!1;for(let a=0;a<i.length;++a)if(i[a]!==s[a])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ab=/^__.*__$/;class xb{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new ro(e,this.data,this.fieldMask,t,this.fieldTransforms):new eu(e,this.data,t,this.fieldTransforms)}}class EE{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new ro(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function TE(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ae()}}class Dm{constructor(e,t,i,s,a,u){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=s,a===void 0&&this.Fu(),this.fieldTransforms=a||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Mu(){return this.settings.Mu}xu(e){return new Dm(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ou(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),s=this.xu({path:i,Nu:!1});return s.Lu(e),s}Bu(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),s=this.xu({path:i,Nu:!1});return s.Fu(),s}ku(e){return this.xu({path:void 0,Nu:!0})}qu(e){return pd(e,this.settings.methodName,this.settings.Qu||!1,this.path,this.settings.Ku)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Fu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Lu(this.path.get(e))}Lu(e){if(e.length===0)throw this.qu("Document fields must not be empty");if(TE(this.Mu)&&Ab.test(e))throw this.qu('Document fields cannot begin and end with "__"')}}class Pb{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||Vd(e)}$u(e,t,i,s=!1){return new Dm({Mu:e,methodName:t,Ku:i,path:Ft.emptyPath(),Nu:!1,Qu:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function SE(n){const e=n._freezeSettings(),t=Vd(n._databaseId);return new Pb(n._databaseId,!!e.ignoreUndefinedProperties,t)}function kb(n,e,t,i,s,a={}){const u=n.$u(a.merge||a.mergeFields?2:0,e,t,s);Om("Data must be an object, but it was:",u,i);const d=IE(i,u);let f,p;if(a.merge)f=new wn(u.fieldMask),p=u.fieldTransforms;else if(a.mergeFields){const v=[];for(const w of a.mergeFields){const E=Ap(e,w,t);if(!u.contains(E))throw new we(ne.INVALID_ARGUMENT,`Field '${E}' is specified in your field mask but missing from your input data.`);RE(v,E)||v.push(E)}f=new wn(v),p=u.fieldTransforms.filter(w=>f.covers(w.field))}else f=null,p=u.fieldTransforms;return new xb(new dn(d),f,p)}class Bd extends km{_toFieldTransform(e){if(e.Mu!==2)throw e.Mu===1?e.qu(`${this._methodName}() can only appear at the top level of your update data`):e.qu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Bd}}function bb(n,e,t,i){const s=n.$u(1,e,t);Om("Data must be an object, but it was:",s,i);const a=[],u=dn.empty();no(i,(f,p)=>{const v=Lm(e,f,t);p=Qt(p);const w=s.Bu(v);if(p instanceof Bd)a.push(v);else{const E=$d(p,w);E!=null&&(a.push(v),u.set(v,E))}});const d=new wn(a);return new EE(u,d,s.fieldTransforms)}function Nb(n,e,t,i,s,a){const u=n.$u(1,e,t),d=[Ap(e,i,t)],f=[s];if(a.length%2!=0)throw new we(ne.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let E=0;E<a.length;E+=2)d.push(Ap(e,a[E])),f.push(a[E+1]);const p=[],v=dn.empty();for(let E=d.length-1;E>=0;--E)if(!RE(p,d[E])){const R=d[E];let x=f[E];x=Qt(x);const I=u.Bu(R);if(x instanceof Bd)p.push(R);else{const C=$d(x,I);C!=null&&(p.push(R),v.set(R,C))}}const w=new wn(p);return new EE(v,w,u.fieldTransforms)}function $d(n,e){if(CE(n=Qt(n)))return Om("Unsupported field value:",e,n),IE(n,e);if(n instanceof km)return function(i,s){if(!TE(s.Mu))throw s.qu(`${i._methodName}() can only be used with update() and set()`);if(!s.path)throw s.qu(`${i._methodName}() is not currently supported inside arrays`);const a=i._toFieldTransform(s);a&&s.fieldTransforms.push(a)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Nu&&e.Mu!==4)throw e.qu("Nested arrays are not supported");return function(i,s){const a=[];let u=0;for(const d of i){let f=$d(d,s.ku(u));f==null&&(f={nullValue:"NULL_VALUE"}),a.push(f),u++}return{arrayValue:{values:a}}}(n,e)}return function(i,s){if((i=Qt(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return TP(s.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const a=Ct.fromDate(i);return{timestampValue:cd(s.serializer,a)}}if(i instanceof Ct){const a=new Ct(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:cd(s.serializer,a)}}if(i instanceof bm)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof aa)return{bytesValue:z0(s.serializer,i._byteString)};if(i instanceof En){const a=s.databaseId,u=i.firestore._databaseId;if(!u.isEqual(a))throw s.qu(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:gm(i.firestore._databaseId||s.databaseId,i._key.path)}}if(i instanceof Nm)return function(u,d){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:u.toArray().map(f=>{if(typeof f!="number")throw d.qu("VectorValues must only contain numeric values.");return fm(d.serializer,f)})}}}}}}(i,s);throw s.qu(`Unsupported field value: ${xm(i)}`)}(n,e)}function IE(n,e){const t={};return g0(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):no(n,(i,s)=>{const a=$d(s,e.Ou(i));a!=null&&(t[i]=a)}),{mapValue:{fields:t}}}function CE(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Ct||n instanceof bm||n instanceof aa||n instanceof En||n instanceof km||n instanceof Nm)}function Om(n,e,t){if(!CE(t)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(t)){const i=xm(t);throw i==="an object"?e.qu(n+" a custom object"):e.qu(n+" "+i)}}function Ap(n,e,t){if((e=Qt(e))instanceof zd)return e._internalPath;if(typeof e=="string")return Lm(n,e);throw pd("Field path arguments must be of type string or ",n,!1,void 0,t)}const Db=new RegExp("[~\\*/\\[\\]]");function Lm(n,e,t){if(e.search(Db)>=0)throw pd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new zd(...e.split("."))._internalPath}catch{throw pd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function pd(n,e,t,i,s){const a=i&&!i.isEmpty(),u=s!==void 0;let d=`Function ${e}() called with invalid data`;t&&(d+=" (via `toFirestore()`)"),d+=". ";let f="";return(a||u)&&(f+=" (found",a&&(f+=` in field ${i}`),u&&(f+=` in document ${s}`),f+=")"),new we(ne.INVALID_ARGUMENT,d+n+f)}function RE(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AE{constructor(e,t,i,s,a){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=s,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new En(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Ob(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(xE("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class Ob extends AE{data(){return super.data()}}function xE(n,e){return typeof e=="string"?Lm(n,e):e instanceof zd?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lb(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new we(ne.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Vb{convertValue(e,t="none"){switch(Qi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ft(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Gi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ae()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return no(e,(s,a)=>{i[s]=this.convertValue(a,t)}),i}convertVectorValue(e){var t,i,s;const a=(s=(i=(t=e.fields)===null||t===void 0?void 0:t.value.arrayValue)===null||i===void 0?void 0:i.values)===null||s===void 0?void 0:s.map(u=>ft(u.doubleValue));return new Nm(a)}convertGeoPoint(e){return new bm(ft(e.latitude),ft(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=Pd(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(Vl(e));default:return null}}convertTimestamp(e){const t=Ki(e);return new Ct(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=it.fromString(e);Ge(K0(i));const s=new Ml(i.get(1),i.get(3)),a=new Ie(i.popFirst(5));return s.isEqual(t)||ni(`Document ${a} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mb(n,e,t){let i;return i=n?n.toFirestore(e):e,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cl{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class PE extends AE{constructor(e,t,i,s,a,u){super(e,t,i,s,u),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new qc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(xE("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class qc extends PE{data(e={}){return super.data(e)}}class Fb{constructor(e,t,i,s){this._firestore=e,this._userDataWriter=t,this._snapshot=s,this.metadata=new Cl(s.hasPendingWrites,s.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new qc(this._firestore,this._userDataWriter,i.key,i,new Cl(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new we(ne.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(s,a){if(s._snapshot.oldDocs.isEmpty()){let u=0;return s._snapshot.docChanges.map(d=>{const f=new qc(s._firestore,s._userDataWriter,d.doc.key,d.doc,new Cl(s._snapshot.mutatedKeys.has(d.doc.key),s._snapshot.fromCache),s.query.converter);return d.doc,{type:"added",doc:f,oldIndex:-1,newIndex:u++}})}{let u=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(d=>a||d.type!==3).map(d=>{const f=new qc(s._firestore,s._userDataWriter,d.doc.key,d.doc,new Cl(s._snapshot.mutatedKeys.has(d.doc.key),s._snapshot.fromCache),s.query.converter);let p=-1,v=-1;return d.type!==0&&(p=u.indexOf(d.doc.key),u=u.delete(d.doc.key)),d.type!==1&&(u=u.add(d.doc),v=u.indexOf(d.doc.key)),{type:Ub(d.type),doc:f,oldIndex:p,newIndex:v}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function Ub(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ae()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k_(n){n=Xi(n,En);const e=Xi(n.firestore,iu);return Eb(Pm(e),n._key).then(t=>zb(e,n,t))}class kE extends Vb{constructor(e){super(),this.firestore=e}convertBytes(e){return new aa(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new En(this.firestore,null,t)}}function Vm(n){n=Xi(n,jd);const e=Xi(n.firestore,iu),t=Pm(e),i=new kE(e);return Lb(n._query),Tb(t,n._query).then(s=>new Fb(e,i,n,s))}function jb(n,e,t,...i){n=Xi(n,En);const s=Xi(n.firestore,iu),a=SE(s);let u;return u=typeof(e=Qt(e))=="string"||e instanceof zd?Nb(a,"updateDoc",n._key,e,t,i):bb(a,"updateDoc",n._key,e),NE(s,[u.toMutation(n._key,wr.exists(!0))])}function bE(n,e){const t=Xi(n.firestore,iu),i=Rp(n),s=Mb(n.converter,e);return NE(t,[kb(SE(n.firestore),"addDoc",i._key,s,n.converter!==null,{}).toMutation(i._key,wr.exists(!1))]).then(()=>i)}function NE(n,e){return function(i,s){const a=new Zr;return i.asyncQueue.enqueueAndForget(async()=>ub(await wb(i),s,a)),a.promise}(Pm(n),e)}function zb(n,e,t){const i=t.docs.get(e._key),s=new kE(n);return new PE(n,s,e._key,i,new Cl(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(s){ga=s})(pa),Zs(new zo("firestore",(i,{instanceIdentifier:s,options:a})=>{const u=i.getProvider("app").getImmediate(),d=new iu(new Vx(i.getProvider("auth-internal")),new jx(i.getProvider("app-check-internal")),function(p,v){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new we(ne.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ml(p.options.projectId,v)}(u,s),u);return a=Object.assign({useFetchStreams:t},a),d._setSettings(a),d},"PUBLIC").setMultipleInstances(!0)),$i(qv,"4.7.5",e),$i(qv,"4.7.5","esm2017")})();const Bb={apiKey:"AIzaSyBNDZYUqItirSv8GuDu_78G6URAHioXjSo",authDomain:"neotama-bf737.firebaseapp.com",projectId:"neotama-bf737",storageBucket:"neotama-bf737.firebasestorage.app",messagingSenderId:"448904035572",appId:"1:448904035572:web:472a0f1d3c4c53ad8232a1"},DE=Rw(Bb),la=Rx(DE),Mo=Cb(DE);function $b(n,e){typeof n=="function"?n(e):n!=null&&(n.current=e)}function OE(...n){return e=>n.forEach(t=>$b(t,e))}function jt(...n){return S.useCallback(OE(...n),n)}var ua=S.forwardRef((n,e)=>{const{children:t,...i}=n,s=S.Children.toArray(t),a=s.find(Hb);if(a){const u=a.props.children,d=s.map(f=>f===a?S.Children.count(u)>1?S.Children.only(null):S.isValidElement(u)?u.props.children:null:f);return $.jsx(xp,{...i,ref:e,children:S.isValidElement(u)?S.cloneElement(u,void 0,d):null})}return $.jsx(xp,{...i,ref:e,children:t})});ua.displayName="Slot";var xp=S.forwardRef((n,e)=>{const{children:t,...i}=n;if(S.isValidElement(t)){const s=Kb(t);return S.cloneElement(t,{...qb(i,t.props),ref:e?OE(e,s):s})}return S.Children.count(t)>1?S.Children.only(null):null});xp.displayName="SlotClone";var Wb=({children:n})=>$.jsx($.Fragment,{children:n});function Hb(n){return S.isValidElement(n)&&n.type===Wb}function qb(n,e){const t={...e};for(const i in e){const s=n[i],a=e[i];/^on[A-Z]/.test(i)?s&&a?t[i]=(...d)=>{a(...d),s(...d)}:s&&(t[i]=s):i==="style"?t[i]={...s,...a}:i==="className"&&(t[i]=[s,a].filter(Boolean).join(" "))}return{...n,...t}}function Kb(n){var i,s;let e=(i=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:i.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=(s=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:s.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}function LE(n){var e,t,i="";if(typeof n=="string"||typeof n=="number")i+=n;else if(typeof n=="object")if(Array.isArray(n)){var s=n.length;for(e=0;e<s;e++)n[e]&&(t=LE(n[e]))&&(i&&(i+=" "),i+=t)}else for(t in n)n[t]&&(i&&(i+=" "),i+=t);return i}function VE(){for(var n,e,t=0,i="",s=arguments.length;t<s;t++)(n=arguments[t])&&(e=LE(n))&&(i&&(i+=" "),i+=e);return i}const b_=n=>typeof n=="boolean"?`${n}`:n===0?"0":n,N_=VE,Gb=(n,e)=>t=>{var i;if((e==null?void 0:e.variants)==null)return N_(n,t==null?void 0:t.class,t==null?void 0:t.className);const{variants:s,defaultVariants:a}=e,u=Object.keys(s).map(p=>{const v=t==null?void 0:t[p],w=a==null?void 0:a[p];if(v===null)return null;const E=b_(v)||b_(w);return s[p][E]}),d=t&&Object.entries(t).reduce((p,v)=>{let[w,E]=v;return E===void 0||(p[w]=E),p},{}),f=e==null||(i=e.compoundVariants)===null||i===void 0?void 0:i.reduce((p,v)=>{let{class:w,className:E,...R}=v;return Object.entries(R).every(x=>{let[I,C]=x;return Array.isArray(C)?C.includes({...a,...d}[I]):{...a,...d}[I]===C})?[...p,w,E]:p},[]);return N_(n,u,f,t==null?void 0:t.class,t==null?void 0:t.className)},Mm="-",Qb=n=>{const e=Xb(n),{conflictingClassGroups:t,conflictingClassGroupModifiers:i}=n;return{getClassGroupId:u=>{const d=u.split(Mm);return d[0]===""&&d.length!==1&&d.shift(),ME(d,e)||Yb(u)},getConflictingClassGroupIds:(u,d)=>{const f=t[u]||[];return d&&i[u]?[...f,...i[u]]:f}}},ME=(n,e)=>{var u;if(n.length===0)return e.classGroupId;const t=n[0],i=e.nextPart.get(t),s=i?ME(n.slice(1),i):void 0;if(s)return s;if(e.validators.length===0)return;const a=n.join(Mm);return(u=e.validators.find(({validator:d})=>d(a)))==null?void 0:u.classGroupId},D_=/^\[(.+)\]$/,Yb=n=>{if(D_.test(n)){const e=D_.exec(n)[1],t=e==null?void 0:e.substring(0,e.indexOf(":"));if(t)return"arbitrary.."+t}},Xb=n=>{const{theme:e,prefix:t}=n,i={nextPart:new Map,validators:[]};return Zb(Object.entries(n.classGroups),t).forEach(([a,u])=>{Pp(u,i,a,e)}),i},Pp=(n,e,t,i)=>{n.forEach(s=>{if(typeof s=="string"){const a=s===""?e:O_(e,s);a.classGroupId=t;return}if(typeof s=="function"){if(Jb(s)){Pp(s(i),e,t,i);return}e.validators.push({validator:s,classGroupId:t});return}Object.entries(s).forEach(([a,u])=>{Pp(u,O_(e,a),t,i)})})},O_=(n,e)=>{let t=n;return e.split(Mm).forEach(i=>{t.nextPart.has(i)||t.nextPart.set(i,{nextPart:new Map,validators:[]}),t=t.nextPart.get(i)}),t},Jb=n=>n.isThemeGetter,Zb=(n,e)=>e?n.map(([t,i])=>{const s=i.map(a=>typeof a=="string"?e+a:typeof a=="object"?Object.fromEntries(Object.entries(a).map(([u,d])=>[e+u,d])):a);return[t,s]}):n,eN=n=>{if(n<1)return{get:()=>{},set:()=>{}};let e=0,t=new Map,i=new Map;const s=(a,u)=>{t.set(a,u),e++,e>n&&(e=0,i=t,t=new Map)};return{get(a){let u=t.get(a);if(u!==void 0)return u;if((u=i.get(a))!==void 0)return s(a,u),u},set(a,u){t.has(a)?t.set(a,u):s(a,u)}}},FE="!",tN=n=>{const{separator:e,experimentalParseClassName:t}=n,i=e.length===1,s=e[0],a=e.length,u=d=>{const f=[];let p=0,v=0,w;for(let C=0;C<d.length;C++){let D=d[C];if(p===0){if(D===s&&(i||d.slice(C,C+a)===e)){f.push(d.slice(v,C)),v=C+a;continue}if(D==="/"){w=C;continue}}D==="["?p++:D==="]"&&p--}const E=f.length===0?d:d.substring(v),R=E.startsWith(FE),x=R?E.substring(1):E,I=w&&w>v?w-v:void 0;return{modifiers:f,hasImportantModifier:R,baseClassName:x,maybePostfixModifierPosition:I}};return t?d=>t({className:d,parseClassName:u}):u},nN=n=>{if(n.length<=1)return n;const e=[];let t=[];return n.forEach(i=>{i[0]==="["?(e.push(...t.sort(),i),t=[]):t.push(i)}),e.push(...t.sort()),e},rN=n=>({cache:eN(n.cacheSize),parseClassName:tN(n),...Qb(n)}),iN=/\s+/,oN=(n,e)=>{const{parseClassName:t,getClassGroupId:i,getConflictingClassGroupIds:s}=e,a=[],u=n.trim().split(iN);let d="";for(let f=u.length-1;f>=0;f-=1){const p=u[f],{modifiers:v,hasImportantModifier:w,baseClassName:E,maybePostfixModifierPosition:R}=t(p);let x=!!R,I=i(x?E.substring(0,R):E);if(!I){if(!x){d=p+(d.length>0?" "+d:d);continue}if(I=i(E),!I){d=p+(d.length>0?" "+d:d);continue}x=!1}const C=nN(v).join(":"),D=w?C+FE:C,L=D+I;if(a.includes(L))continue;a.push(L);const B=s(I,x);for(let G=0;G<B.length;++G){const X=B[G];a.push(D+X)}d=p+(d.length>0?" "+d:d)}return d};function sN(){let n=0,e,t,i="";for(;n<arguments.length;)(e=arguments[n++])&&(t=UE(e))&&(i&&(i+=" "),i+=t);return i}const UE=n=>{if(typeof n=="string")return n;let e,t="";for(let i=0;i<n.length;i++)n[i]&&(e=UE(n[i]))&&(t&&(t+=" "),t+=e);return t};function aN(n,...e){let t,i,s,a=u;function u(f){const p=e.reduce((v,w)=>w(v),n());return t=rN(p),i=t.cache.get,s=t.cache.set,a=d,d(f)}function d(f){const p=i(f);if(p)return p;const v=oN(f,t);return s(f,v),v}return function(){return a(sN.apply(null,arguments))}}const tt=n=>{const e=t=>t[n]||[];return e.isThemeGetter=!0,e},jE=/^\[(?:([a-z-]+):)?(.+)\]$/i,lN=/^\d+\/\d+$/,uN=new Set(["px","full","screen"]),cN=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,dN=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,hN=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,fN=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,pN=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,qr=n=>Ys(n)||uN.has(n)||lN.test(n),Di=n=>wa(n,"length",TN),Ys=n=>!!n&&!Number.isNaN(Number(n)),qf=n=>wa(n,"number",Ys),_l=n=>!!n&&Number.isInteger(Number(n)),mN=n=>n.endsWith("%")&&Ys(n.slice(0,-1)),Ve=n=>jE.test(n),Oi=n=>cN.test(n),gN=new Set(["length","size","percentage"]),yN=n=>wa(n,gN,zE),vN=n=>wa(n,"position",zE),_N=new Set(["image","url"]),wN=n=>wa(n,_N,IN),EN=n=>wa(n,"",SN),wl=()=>!0,wa=(n,e,t)=>{const i=jE.exec(n);return i?i[1]?typeof e=="string"?i[1]===e:e.has(i[1]):t(i[2]):!1},TN=n=>dN.test(n)&&!hN.test(n),zE=()=>!1,SN=n=>fN.test(n),IN=n=>pN.test(n),CN=()=>{const n=tt("colors"),e=tt("spacing"),t=tt("blur"),i=tt("brightness"),s=tt("borderColor"),a=tt("borderRadius"),u=tt("borderSpacing"),d=tt("borderWidth"),f=tt("contrast"),p=tt("grayscale"),v=tt("hueRotate"),w=tt("invert"),E=tt("gap"),R=tt("gradientColorStops"),x=tt("gradientColorStopPositions"),I=tt("inset"),C=tt("margin"),D=tt("opacity"),L=tt("padding"),B=tt("saturate"),G=tt("scale"),X=tt("sepia"),ie=tt("skew"),b=tt("space"),P=tt("translate"),k=()=>["auto","contain","none"],V=()=>["auto","hidden","clip","visible","scroll"],F=()=>["auto",Ve,e],M=()=>[Ve,e],N=()=>["",qr,Di],ve=()=>["auto",Ys,Ve],Oe=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],Ee=()=>["solid","dashed","dotted","double","none"],ge=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Y=()=>["start","end","center","between","around","evenly","stretch"],ae=()=>["","0",Ve],se=()=>["auto","avoid","all","avoid-page","page","left","right","column"],z=()=>[Ys,Ve];return{cacheSize:500,separator:":",theme:{colors:[wl],spacing:[qr,Di],blur:["none","",Oi,Ve],brightness:z(),borderColor:[n],borderRadius:["none","","full",Oi,Ve],borderSpacing:M(),borderWidth:N(),contrast:z(),grayscale:ae(),hueRotate:z(),invert:ae(),gap:M(),gradientColorStops:[n],gradientColorStopPositions:[mN,Di],inset:F(),margin:F(),opacity:z(),padding:M(),saturate:z(),scale:z(),sepia:ae(),skew:z(),space:M(),translate:M()},classGroups:{aspect:[{aspect:["auto","square","video",Ve]}],container:["container"],columns:[{columns:[Oi]}],"break-after":[{"break-after":se()}],"break-before":[{"break-before":se()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...Oe(),Ve]}],overflow:[{overflow:V()}],"overflow-x":[{"overflow-x":V()}],"overflow-y":[{"overflow-y":V()}],overscroll:[{overscroll:k()}],"overscroll-x":[{"overscroll-x":k()}],"overscroll-y":[{"overscroll-y":k()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[I]}],"inset-x":[{"inset-x":[I]}],"inset-y":[{"inset-y":[I]}],start:[{start:[I]}],end:[{end:[I]}],top:[{top:[I]}],right:[{right:[I]}],bottom:[{bottom:[I]}],left:[{left:[I]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",_l,Ve]}],basis:[{basis:F()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Ve]}],grow:[{grow:ae()}],shrink:[{shrink:ae()}],order:[{order:["first","last","none",_l,Ve]}],"grid-cols":[{"grid-cols":[wl]}],"col-start-end":[{col:["auto",{span:["full",_l,Ve]},Ve]}],"col-start":[{"col-start":ve()}],"col-end":[{"col-end":ve()}],"grid-rows":[{"grid-rows":[wl]}],"row-start-end":[{row:["auto",{span:[_l,Ve]},Ve]}],"row-start":[{"row-start":ve()}],"row-end":[{"row-end":ve()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Ve]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Ve]}],gap:[{gap:[E]}],"gap-x":[{"gap-x":[E]}],"gap-y":[{"gap-y":[E]}],"justify-content":[{justify:["normal",...Y()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...Y(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...Y(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[L]}],px:[{px:[L]}],py:[{py:[L]}],ps:[{ps:[L]}],pe:[{pe:[L]}],pt:[{pt:[L]}],pr:[{pr:[L]}],pb:[{pb:[L]}],pl:[{pl:[L]}],m:[{m:[C]}],mx:[{mx:[C]}],my:[{my:[C]}],ms:[{ms:[C]}],me:[{me:[C]}],mt:[{mt:[C]}],mr:[{mr:[C]}],mb:[{mb:[C]}],ml:[{ml:[C]}],"space-x":[{"space-x":[b]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[b]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Ve,e]}],"min-w":[{"min-w":[Ve,e,"min","max","fit"]}],"max-w":[{"max-w":[Ve,e,"none","full","min","max","fit","prose",{screen:[Oi]},Oi]}],h:[{h:[Ve,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Ve,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Ve,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Ve,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Oi,Di]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",qf]}],"font-family":[{font:[wl]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Ve]}],"line-clamp":[{"line-clamp":["none",Ys,qf]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",qr,Ve]}],"list-image":[{"list-image":["none",Ve]}],"list-style-type":[{list:["none","disc","decimal",Ve]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[n]}],"placeholder-opacity":[{"placeholder-opacity":[D]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[n]}],"text-opacity":[{"text-opacity":[D]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Ee(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",qr,Di]}],"underline-offset":[{"underline-offset":["auto",qr,Ve]}],"text-decoration-color":[{decoration:[n]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:M()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ve]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ve]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[D]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...Oe(),vN]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",yN]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},wN]}],"bg-color":[{bg:[n]}],"gradient-from-pos":[{from:[x]}],"gradient-via-pos":[{via:[x]}],"gradient-to-pos":[{to:[x]}],"gradient-from":[{from:[R]}],"gradient-via":[{via:[R]}],"gradient-to":[{to:[R]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[d]}],"border-w-x":[{"border-x":[d]}],"border-w-y":[{"border-y":[d]}],"border-w-s":[{"border-s":[d]}],"border-w-e":[{"border-e":[d]}],"border-w-t":[{"border-t":[d]}],"border-w-r":[{"border-r":[d]}],"border-w-b":[{"border-b":[d]}],"border-w-l":[{"border-l":[d]}],"border-opacity":[{"border-opacity":[D]}],"border-style":[{border:[...Ee(),"hidden"]}],"divide-x":[{"divide-x":[d]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[d]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[D]}],"divide-style":[{divide:Ee()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...Ee()]}],"outline-offset":[{"outline-offset":[qr,Ve]}],"outline-w":[{outline:[qr,Di]}],"outline-color":[{outline:[n]}],"ring-w":[{ring:N()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[n]}],"ring-opacity":[{"ring-opacity":[D]}],"ring-offset-w":[{"ring-offset":[qr,Di]}],"ring-offset-color":[{"ring-offset":[n]}],shadow:[{shadow:["","inner","none",Oi,EN]}],"shadow-color":[{shadow:[wl]}],opacity:[{opacity:[D]}],"mix-blend":[{"mix-blend":[...ge(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":ge()}],filter:[{filter:["","none"]}],blur:[{blur:[t]}],brightness:[{brightness:[i]}],contrast:[{contrast:[f]}],"drop-shadow":[{"drop-shadow":["","none",Oi,Ve]}],grayscale:[{grayscale:[p]}],"hue-rotate":[{"hue-rotate":[v]}],invert:[{invert:[w]}],saturate:[{saturate:[B]}],sepia:[{sepia:[X]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[t]}],"backdrop-brightness":[{"backdrop-brightness":[i]}],"backdrop-contrast":[{"backdrop-contrast":[f]}],"backdrop-grayscale":[{"backdrop-grayscale":[p]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[v]}],"backdrop-invert":[{"backdrop-invert":[w]}],"backdrop-opacity":[{"backdrop-opacity":[D]}],"backdrop-saturate":[{"backdrop-saturate":[B]}],"backdrop-sepia":[{"backdrop-sepia":[X]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[u]}],"border-spacing-x":[{"border-spacing-x":[u]}],"border-spacing-y":[{"border-spacing-y":[u]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Ve]}],duration:[{duration:z()}],ease:[{ease:["linear","in","out","in-out",Ve]}],delay:[{delay:z()}],animate:[{animate:["none","spin","ping","pulse","bounce",Ve]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[G]}],"scale-x":[{"scale-x":[G]}],"scale-y":[{"scale-y":[G]}],rotate:[{rotate:[_l,Ve]}],"translate-x":[{"translate-x":[P]}],"translate-y":[{"translate-y":[P]}],"skew-x":[{"skew-x":[ie]}],"skew-y":[{"skew-y":[ie]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Ve]}],accent:[{accent:["auto",n]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ve]}],"caret-color":[{caret:[n]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":M()}],"scroll-mx":[{"scroll-mx":M()}],"scroll-my":[{"scroll-my":M()}],"scroll-ms":[{"scroll-ms":M()}],"scroll-me":[{"scroll-me":M()}],"scroll-mt":[{"scroll-mt":M()}],"scroll-mr":[{"scroll-mr":M()}],"scroll-mb":[{"scroll-mb":M()}],"scroll-ml":[{"scroll-ml":M()}],"scroll-p":[{"scroll-p":M()}],"scroll-px":[{"scroll-px":M()}],"scroll-py":[{"scroll-py":M()}],"scroll-ps":[{"scroll-ps":M()}],"scroll-pe":[{"scroll-pe":M()}],"scroll-pt":[{"scroll-pt":M()}],"scroll-pr":[{"scroll-pr":M()}],"scroll-pb":[{"scroll-pb":M()}],"scroll-pl":[{"scroll-pl":M()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ve]}],fill:[{fill:[n,"none"]}],"stroke-w":[{stroke:[qr,Di,qf]}],stroke:[{stroke:[n,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},RN=aN(CN);function Yt(...n){return RN(VE(n))}const AN=Gb("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),er=S.forwardRef(({className:n,variant:e,size:t,asChild:i=!1,...s},a)=>{const u=i?ua:"button";return $.jsx(u,{className:Yt(AN({variant:e,size:t,className:n})),ref:a,...s})});er.displayName="Button";const Wd=S.forwardRef(({className:n,...e},t)=>$.jsx("div",{ref:t,className:Yt("rounded-xl border bg-card text-card-foreground shadow",n),...e}));Wd.displayName="Card";const Hd=S.forwardRef(({className:n,...e},t)=>$.jsx("div",{ref:t,className:Yt("flex flex-col space-y-1.5 p-3",n),...e}));Hd.displayName="CardHeader";const qd=S.forwardRef(({className:n,...e},t)=>$.jsx("div",{ref:t,className:Yt("font-semibold leading-none tracking-tight",n),...e}));qd.displayName="CardTitle";const xN=S.forwardRef(({className:n,...e},t)=>$.jsx("div",{ref:t,className:Yt("text-sm text-muted-foreground",n),...e}));xN.displayName="CardDescription";const Fm=S.forwardRef(({className:n,...e},t)=>$.jsx("div",{ref:t,className:Yt("p-3 pt-0",n),...e}));Fm.displayName="CardContent";const PN=S.forwardRef(({className:n,...e},t)=>$.jsx("div",{ref:t,className:Yt("flex items-center p-3 pt-0",n),...e}));PN.displayName="CardFooter";const kN=()=>{const n=new Kr,e=()=>{LA(la,n)};return $.jsx("div",{className:"h-screen  items-center justify-center flex",children:$.jsxs(Wd,{className:"w-full mx-3 py-10 my-5",children:[$.jsx(Hd,{children:$.jsx(qd,{className:"text-center text-3xl",children:""})}),$.jsx(Fm,{className:"text-center space-y-2",children:$.jsx(er,{className:"w-full mx-2",onClick:e,children:"Google"})})]})})};/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bN=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),BE=(...n)=>n.filter((e,t,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===t).join(" ").trim();/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var NN={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DN=S.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:i,className:s="",children:a,iconNode:u,...d},f)=>S.createElement("svg",{ref:f,...NN,width:e,height:e,stroke:n,strokeWidth:i?Number(t)*24/Number(e):t,className:BE("lucide",s),...d},[...u.map(([p,v])=>S.createElement(p,v)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ou=(n,e)=>{const t=S.forwardRef(({className:i,...s},a)=>S.createElement(DN,{ref:a,iconNode:e,className:BE(`lucide-${bN(n)}`,i),...s}));return t.displayName=`${n}`,t};/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ON=ou("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $E=ou("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LN=ou("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VN=ou("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MN=ou("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]),FN=()=>{const[n]=Rd(la),[e,t]=S.useState([]),i=Hl(),s=async()=>{const d=(await Vm(zl(Mo,"Users",n.uid,"Collections"))).docs.map(f=>{const p=f.data();return p.time_stamp=p.time_stamp.toDate(),p});d.sort((f,p)=>p.time_stamp-f.time_stamp),d.forEach(f=>{f.time_stamp=f.time_stamp.toLocaleString()}),t(d),console.log(d)};S.useEffect(()=>{n&&s()},[n]);const a=()=>{mA(la),i("/login")};return $.jsxs("div",{className:"min-h-screen flex flex-col bg-gray-50",children:[$.jsxs("header",{className:" shadow-sm text-black text-2xl font-bold p-4 flex justify-between items-center",children:[$.jsx("h1",{children:""}),$.jsxs("div",{className:"flex space-x-3",children:[n&&$.jsx("img",{src:n.photoURL,alt:n.displayName,className:"w-10 h-10 rounded-full"}),n?$.jsx(er,{onClick:a,children:"Logout"}):$.jsx(er,{children:$.jsx(Fo,{to:"/login",children:"Login"})})]})]}),$.jsxs("main",{className:"flex flex-col items-center gap-6 p-4 flex-grow",children:[e.length===0&&$.jsx("p",{children:""}),e&&e.map((u,d)=>$.jsxs(Wd,{className:"w-full",children:[$.jsx(Hd,{children:$.jsxs(qd,{className:"text-center",children:["",u.name]})}),$.jsxs(Fm,{className:"text-center",children:[$.jsx("img",{src:u.url,alt:u.title,className:"w-full"}),$.jsx("p",{children:u.time_stamp})]})]},d))]}),$.jsx("div",{className:"fixed bottom-2 left-2 rounded-full text-center",children:$.jsx(er,{className:"w-16 h-16 rounded-full",children:$.jsx(Fo,{to:"/addperson",className:"flex items-center justify-center",children:$.jsx(MN,{size:30,style:{width:"30px",height:"30px"}})})})}),$.jsx("div",{className:"fixed bottom-2 right-2 rounded-full text-center ring-offset-blue",children:$.jsx(er,{className:"w-16 h-16 rounded-full",children:$.jsx(Fo,{to:"/add",className:"flex items-center justify-center",children:$.jsx(VN,{size:30,style:{width:"30px",height:"30px"}})})})})]})},Um=S.forwardRef(({className:n,type:e,...t},i)=>$.jsx("input",{type:e,className:Yt("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",n),ref:i,...t}));Um.displayName="Input";function L_(n,[e,t]){return Math.min(t,Math.max(e,n))}function yt(n,e,{checkForDefaultPrevented:t=!0}={}){return function(s){if(n==null||n(s),t===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function UN(n,e=[]){let t=[];function i(a,u){const d=S.createContext(u),f=t.length;t=[...t,u];function p(w){const{scope:E,children:R,...x}=w,I=(E==null?void 0:E[n][f])||d,C=S.useMemo(()=>x,Object.values(x));return $.jsx(I.Provider,{value:C,children:R})}function v(w,E){const R=(E==null?void 0:E[n][f])||d,x=S.useContext(R);if(x)return x;if(u!==void 0)return u;throw new Error(`\`${w}\` must be used within \`${a}\``)}return p.displayName=a+"Provider",[p,v]}const s=()=>{const a=t.map(u=>S.createContext(u));return function(d){const f=(d==null?void 0:d[n])||a;return S.useMemo(()=>({[`__scope${n}`]:{...d,[n]:f}}),[d,f])}};return s.scopeName=n,[i,jN(s,...e)]}function jN(...n){const e=n[0];if(n.length===1)return e;const t=()=>{const i=n.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(a){const u=i.reduce((d,{useScope:f,scopeName:p})=>{const w=f(a)[`__scope${p}`];return{...d,...w}},{});return S.useMemo(()=>({[`__scope${e.scopeName}`]:u}),[u])}};return t.scopeName=e.scopeName,t}function zN(n){const e=n+"CollectionProvider",[t,i]=UN(e),[s,a]=t(e,{collectionRef:{current:null},itemMap:new Map}),u=R=>{const{scope:x,children:I}=R,C=Li.useRef(null),D=Li.useRef(new Map).current;return $.jsx(s,{scope:x,itemMap:D,collectionRef:C,children:I})};u.displayName=e;const d=n+"CollectionSlot",f=Li.forwardRef((R,x)=>{const{scope:I,children:C}=R,D=a(d,I),L=jt(x,D.collectionRef);return $.jsx(ua,{ref:L,children:C})});f.displayName=d;const p=n+"CollectionItemSlot",v="data-radix-collection-item",w=Li.forwardRef((R,x)=>{const{scope:I,children:C,...D}=R,L=Li.useRef(null),B=jt(x,L),G=a(p,I);return Li.useEffect(()=>(G.itemMap.set(L,{ref:L,...D}),()=>void G.itemMap.delete(L))),$.jsx(ua,{[v]:"",ref:B,children:C})});w.displayName=p;function E(R){const x=a(n+"CollectionConsumer",R);return Li.useCallback(()=>{const C=x.collectionRef.current;if(!C)return[];const D=Array.from(C.querySelectorAll(`[${v}]`));return Array.from(x.itemMap.values()).sort((G,X)=>D.indexOf(G.ref.current)-D.indexOf(X.ref.current))},[x.collectionRef,x.itemMap])}return[{Provider:u,Slot:f,ItemSlot:w},E,i]}function BN(n,e=[]){let t=[];function i(a,u){const d=S.createContext(u),f=t.length;t=[...t,u];const p=w=>{var D;const{scope:E,children:R,...x}=w,I=((D=E==null?void 0:E[n])==null?void 0:D[f])||d,C=S.useMemo(()=>x,Object.values(x));return $.jsx(I.Provider,{value:C,children:R})};p.displayName=a+"Provider";function v(w,E){var I;const R=((I=E==null?void 0:E[n])==null?void 0:I[f])||d,x=S.useContext(R);if(x)return x;if(u!==void 0)return u;throw new Error(`\`${w}\` must be used within \`${a}\``)}return[p,v]}const s=()=>{const a=t.map(u=>S.createContext(u));return function(d){const f=(d==null?void 0:d[n])||a;return S.useMemo(()=>({[`__scope${n}`]:{...d,[n]:f}}),[d,f])}};return s.scopeName=n,[i,$N(s,...e)]}function $N(...n){const e=n[0];if(n.length===1)return e;const t=()=>{const i=n.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(a){const u=i.reduce((d,{useScope:f,scopeName:p})=>{const w=f(a)[`__scope${p}`];return{...d,...w}},{});return S.useMemo(()=>({[`__scope${e.scopeName}`]:u}),[u])}};return t.scopeName=e.scopeName,t}var WN=S.createContext(void 0);function HN(n){const e=S.useContext(WN);return n||e||"ltr"}var qN=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],vt=qN.reduce((n,e)=>{const t=S.forwardRef((i,s)=>{const{asChild:a,...u}=i,d=a?ua:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),$.jsx(d,{...u,ref:s})});return t.displayName=`Primitive.${e}`,{...n,[e]:t}},{});function KN(n,e){n&&Kl.flushSync(()=>n.dispatchEvent(e))}function ii(n){const e=S.useRef(n);return S.useEffect(()=>{e.current=n}),S.useMemo(()=>(...t)=>{var i;return(i=e.current)==null?void 0:i.call(e,...t)},[])}function GN(n,e=globalThis==null?void 0:globalThis.document){const t=ii(n);S.useEffect(()=>{const i=s=>{s.key==="Escape"&&t(s)};return e.addEventListener("keydown",i,{capture:!0}),()=>e.removeEventListener("keydown",i,{capture:!0})},[t,e])}var QN="DismissableLayer",kp="dismissableLayer.update",YN="dismissableLayer.pointerDownOutside",XN="dismissableLayer.focusOutside",V_,WE=S.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),HE=S.forwardRef((n,e)=>{const{disableOutsidePointerEvents:t=!1,onEscapeKeyDown:i,onPointerDownOutside:s,onFocusOutside:a,onInteractOutside:u,onDismiss:d,...f}=n,p=S.useContext(WE),[v,w]=S.useState(null),E=(v==null?void 0:v.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,R]=S.useState({}),x=jt(e,b=>w(b)),I=Array.from(p.layers),[C]=[...p.layersWithOutsidePointerEventsDisabled].slice(-1),D=I.indexOf(C),L=v?I.indexOf(v):-1,B=p.layersWithOutsidePointerEventsDisabled.size>0,G=L>=D,X=eD(b=>{const P=b.target,k=[...p.branches].some(V=>V.contains(P));!G||k||(s==null||s(b),u==null||u(b),b.defaultPrevented||d==null||d())},E),ie=tD(b=>{const P=b.target;[...p.branches].some(V=>V.contains(P))||(a==null||a(b),u==null||u(b),b.defaultPrevented||d==null||d())},E);return GN(b=>{L===p.layers.size-1&&(i==null||i(b),!b.defaultPrevented&&d&&(b.preventDefault(),d()))},E),S.useEffect(()=>{if(v)return t&&(p.layersWithOutsidePointerEventsDisabled.size===0&&(V_=E.body.style.pointerEvents,E.body.style.pointerEvents="none"),p.layersWithOutsidePointerEventsDisabled.add(v)),p.layers.add(v),M_(),()=>{t&&p.layersWithOutsidePointerEventsDisabled.size===1&&(E.body.style.pointerEvents=V_)}},[v,E,t,p]),S.useEffect(()=>()=>{v&&(p.layers.delete(v),p.layersWithOutsidePointerEventsDisabled.delete(v),M_())},[v,p]),S.useEffect(()=>{const b=()=>R({});return document.addEventListener(kp,b),()=>document.removeEventListener(kp,b)},[]),$.jsx(vt.div,{...f,ref:x,style:{pointerEvents:B?G?"auto":"none":void 0,...n.style},onFocusCapture:yt(n.onFocusCapture,ie.onFocusCapture),onBlurCapture:yt(n.onBlurCapture,ie.onBlurCapture),onPointerDownCapture:yt(n.onPointerDownCapture,X.onPointerDownCapture)})});HE.displayName=QN;var JN="DismissableLayerBranch",ZN=S.forwardRef((n,e)=>{const t=S.useContext(WE),i=S.useRef(null),s=jt(e,i);return S.useEffect(()=>{const a=i.current;if(a)return t.branches.add(a),()=>{t.branches.delete(a)}},[t.branches]),$.jsx(vt.div,{...n,ref:s})});ZN.displayName=JN;function eD(n,e=globalThis==null?void 0:globalThis.document){const t=ii(n),i=S.useRef(!1),s=S.useRef(()=>{});return S.useEffect(()=>{const a=d=>{if(d.target&&!i.current){let f=function(){qE(YN,t,p,{discrete:!0})};const p={originalEvent:d};d.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=f,e.addEventListener("click",s.current,{once:!0})):f()}else e.removeEventListener("click",s.current);i.current=!1},u=window.setTimeout(()=>{e.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(u),e.removeEventListener("pointerdown",a),e.removeEventListener("click",s.current)}},[e,t]),{onPointerDownCapture:()=>i.current=!0}}function tD(n,e=globalThis==null?void 0:globalThis.document){const t=ii(n),i=S.useRef(!1);return S.useEffect(()=>{const s=a=>{a.target&&!i.current&&qE(XN,t,{originalEvent:a},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,t]),{onFocusCapture:()=>i.current=!0,onBlurCapture:()=>i.current=!1}}function M_(){const n=new CustomEvent(kp);document.dispatchEvent(n)}function qE(n,e,t,{discrete:i}){const s=t.originalEvent.target,a=new CustomEvent(n,{bubbles:!1,cancelable:!0,detail:t});e&&s.addEventListener(n,e,{once:!0}),i?KN(s,a):s.dispatchEvent(a)}var Kf=0;function nD(){S.useEffect(()=>{const n=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",n[0]??F_()),document.body.insertAdjacentElement("beforeend",n[1]??F_()),Kf++,()=>{Kf===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Kf--}},[])}function F_(){const n=document.createElement("span");return n.setAttribute("data-radix-focus-guard",""),n.tabIndex=0,n.style.outline="none",n.style.opacity="0",n.style.position="fixed",n.style.pointerEvents="none",n}var Gf="focusScope.autoFocusOnMount",Qf="focusScope.autoFocusOnUnmount",U_={bubbles:!1,cancelable:!0},rD="FocusScope",KE=S.forwardRef((n,e)=>{const{loop:t=!1,trapped:i=!1,onMountAutoFocus:s,onUnmountAutoFocus:a,...u}=n,[d,f]=S.useState(null),p=ii(s),v=ii(a),w=S.useRef(null),E=jt(e,I=>f(I)),R=S.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;S.useEffect(()=>{if(i){let I=function(B){if(R.paused||!d)return;const G=B.target;d.contains(G)?w.current=G:Vi(w.current,{select:!0})},C=function(B){if(R.paused||!d)return;const G=B.relatedTarget;G!==null&&(d.contains(G)||Vi(w.current,{select:!0}))},D=function(B){if(document.activeElement===document.body)for(const X of B)X.removedNodes.length>0&&Vi(d)};document.addEventListener("focusin",I),document.addEventListener("focusout",C);const L=new MutationObserver(D);return d&&L.observe(d,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",I),document.removeEventListener("focusout",C),L.disconnect()}}},[i,d,R.paused]),S.useEffect(()=>{if(d){z_.add(R);const I=document.activeElement;if(!d.contains(I)){const D=new CustomEvent(Gf,U_);d.addEventListener(Gf,p),d.dispatchEvent(D),D.defaultPrevented||(iD(uD(GE(d)),{select:!0}),document.activeElement===I&&Vi(d))}return()=>{d.removeEventListener(Gf,p),setTimeout(()=>{const D=new CustomEvent(Qf,U_);d.addEventListener(Qf,v),d.dispatchEvent(D),D.defaultPrevented||Vi(I??document.body,{select:!0}),d.removeEventListener(Qf,v),z_.remove(R)},0)}}},[d,p,v,R]);const x=S.useCallback(I=>{if(!t&&!i||R.paused)return;const C=I.key==="Tab"&&!I.altKey&&!I.ctrlKey&&!I.metaKey,D=document.activeElement;if(C&&D){const L=I.currentTarget,[B,G]=oD(L);B&&G?!I.shiftKey&&D===G?(I.preventDefault(),t&&Vi(B,{select:!0})):I.shiftKey&&D===B&&(I.preventDefault(),t&&Vi(G,{select:!0})):D===L&&I.preventDefault()}},[t,i,R.paused]);return $.jsx(vt.div,{tabIndex:-1,...u,ref:E,onKeyDown:x})});KE.displayName=rD;function iD(n,{select:e=!1}={}){const t=document.activeElement;for(const i of n)if(Vi(i,{select:e}),document.activeElement!==t)return}function oD(n){const e=GE(n),t=j_(e,n),i=j_(e.reverse(),n);return[t,i]}function GE(n){const e=[],t=document.createTreeWalker(n,NodeFilter.SHOW_ELEMENT,{acceptNode:i=>{const s=i.tagName==="INPUT"&&i.type==="hidden";return i.disabled||i.hidden||s?NodeFilter.FILTER_SKIP:i.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)e.push(t.currentNode);return e}function j_(n,e){for(const t of n)if(!sD(t,{upTo:e}))return t}function sD(n,{upTo:e}){if(getComputedStyle(n).visibility==="hidden")return!0;for(;n;){if(e!==void 0&&n===e)return!1;if(getComputedStyle(n).display==="none")return!0;n=n.parentElement}return!1}function aD(n){return n instanceof HTMLInputElement&&"select"in n}function Vi(n,{select:e=!1}={}){if(n&&n.focus){const t=document.activeElement;n.focus({preventScroll:!0}),n!==t&&aD(n)&&e&&n.select()}}var z_=lD();function lD(){let n=[];return{add(e){const t=n[0];e!==t&&(t==null||t.pause()),n=B_(n,e),n.unshift(e)},remove(e){var t;n=B_(n,e),(t=n[0])==null||t.resume()}}}function B_(n,e){const t=[...n],i=t.indexOf(e);return i!==-1&&t.splice(i,1),t}function uD(n){return n.filter(e=>e.tagName!=="A")}var Sn=globalThis!=null&&globalThis.document?S.useLayoutEffect:()=>{},cD=vI.useId||(()=>{}),dD=0;function jm(n){const[e,t]=S.useState(cD());return Sn(()=>{t(i=>i??String(dD++))},[n]),e?`radix-${e}`:""}const hD=["top","right","bottom","left"],Ji=Math.min,_n=Math.max,md=Math.round,kc=Math.floor,Tr=n=>({x:n,y:n}),fD={left:"right",right:"left",bottom:"top",top:"bottom"},pD={start:"end",end:"start"};function bp(n,e,t){return _n(n,Ji(e,t))}function oi(n,e){return typeof n=="function"?n(e):n}function si(n){return n.split("-")[0]}function Ea(n){return n.split("-")[1]}function zm(n){return n==="x"?"y":"x"}function Bm(n){return n==="y"?"height":"width"}function Zi(n){return["top","bottom"].includes(si(n))?"y":"x"}function $m(n){return zm(Zi(n))}function mD(n,e,t){t===void 0&&(t=!1);const i=Ea(n),s=$m(n),a=Bm(s);let u=s==="x"?i===(t?"end":"start")?"right":"left":i==="start"?"bottom":"top";return e.reference[a]>e.floating[a]&&(u=gd(u)),[u,gd(u)]}function gD(n){const e=gd(n);return[Np(n),e,Np(e)]}function Np(n){return n.replace(/start|end/g,e=>pD[e])}function yD(n,e,t){const i=["left","right"],s=["right","left"],a=["top","bottom"],u=["bottom","top"];switch(n){case"top":case"bottom":return t?e?s:i:e?i:s;case"left":case"right":return e?a:u;default:return[]}}function vD(n,e,t,i){const s=Ea(n);let a=yD(si(n),t==="start",i);return s&&(a=a.map(u=>u+"-"+s),e&&(a=a.concat(a.map(Np)))),a}function gd(n){return n.replace(/left|right|bottom|top/g,e=>fD[e])}function _D(n){return{top:0,right:0,bottom:0,left:0,...n}}function QE(n){return typeof n!="number"?_D(n):{top:n,right:n,bottom:n,left:n}}function yd(n){const{x:e,y:t,width:i,height:s}=n;return{width:i,height:s,top:t,left:e,right:e+i,bottom:t+s,x:e,y:t}}function $_(n,e,t){let{reference:i,floating:s}=n;const a=Zi(e),u=$m(e),d=Bm(u),f=si(e),p=a==="y",v=i.x+i.width/2-s.width/2,w=i.y+i.height/2-s.height/2,E=i[d]/2-s[d]/2;let R;switch(f){case"top":R={x:v,y:i.y-s.height};break;case"bottom":R={x:v,y:i.y+i.height};break;case"right":R={x:i.x+i.width,y:w};break;case"left":R={x:i.x-s.width,y:w};break;default:R={x:i.x,y:i.y}}switch(Ea(e)){case"start":R[u]-=E*(t&&p?-1:1);break;case"end":R[u]+=E*(t&&p?-1:1);break}return R}const wD=async(n,e,t)=>{const{placement:i="bottom",strategy:s="absolute",middleware:a=[],platform:u}=t,d=a.filter(Boolean),f=await(u.isRTL==null?void 0:u.isRTL(e));let p=await u.getElementRects({reference:n,floating:e,strategy:s}),{x:v,y:w}=$_(p,i,f),E=i,R={},x=0;for(let I=0;I<d.length;I++){const{name:C,fn:D}=d[I],{x:L,y:B,data:G,reset:X}=await D({x:v,y:w,initialPlacement:i,placement:E,strategy:s,middlewareData:R,rects:p,platform:u,elements:{reference:n,floating:e}});v=L??v,w=B??w,R={...R,[C]:{...R[C],...G}},X&&x<=50&&(x++,typeof X=="object"&&(X.placement&&(E=X.placement),X.rects&&(p=X.rects===!0?await u.getElementRects({reference:n,floating:e,strategy:s}):X.rects),{x:v,y:w}=$_(p,E,f)),I=-1)}return{x:v,y:w,placement:E,strategy:s,middlewareData:R}};async function Bl(n,e){var t;e===void 0&&(e={});const{x:i,y:s,platform:a,rects:u,elements:d,strategy:f}=n,{boundary:p="clippingAncestors",rootBoundary:v="viewport",elementContext:w="floating",altBoundary:E=!1,padding:R=0}=oi(e,n),x=QE(R),C=d[E?w==="floating"?"reference":"floating":w],D=yd(await a.getClippingRect({element:(t=await(a.isElement==null?void 0:a.isElement(C)))==null||t?C:C.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(d.floating)),boundary:p,rootBoundary:v,strategy:f})),L=w==="floating"?{x:i,y:s,width:u.floating.width,height:u.floating.height}:u.reference,B=await(a.getOffsetParent==null?void 0:a.getOffsetParent(d.floating)),G=await(a.isElement==null?void 0:a.isElement(B))?await(a.getScale==null?void 0:a.getScale(B))||{x:1,y:1}:{x:1,y:1},X=yd(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:d,rect:L,offsetParent:B,strategy:f}):L);return{top:(D.top-X.top+x.top)/G.y,bottom:(X.bottom-D.bottom+x.bottom)/G.y,left:(D.left-X.left+x.left)/G.x,right:(X.right-D.right+x.right)/G.x}}const ED=n=>({name:"arrow",options:n,async fn(e){const{x:t,y:i,placement:s,rects:a,platform:u,elements:d,middlewareData:f}=e,{element:p,padding:v=0}=oi(n,e)||{};if(p==null)return{};const w=QE(v),E={x:t,y:i},R=$m(s),x=Bm(R),I=await u.getDimensions(p),C=R==="y",D=C?"top":"left",L=C?"bottom":"right",B=C?"clientHeight":"clientWidth",G=a.reference[x]+a.reference[R]-E[R]-a.floating[x],X=E[R]-a.reference[R],ie=await(u.getOffsetParent==null?void 0:u.getOffsetParent(p));let b=ie?ie[B]:0;(!b||!await(u.isElement==null?void 0:u.isElement(ie)))&&(b=d.floating[B]||a.floating[x]);const P=G/2-X/2,k=b/2-I[x]/2-1,V=Ji(w[D],k),F=Ji(w[L],k),M=V,N=b-I[x]-F,ve=b/2-I[x]/2+P,Oe=bp(M,ve,N),Ee=!f.arrow&&Ea(s)!=null&&ve!==Oe&&a.reference[x]/2-(ve<M?V:F)-I[x]/2<0,ge=Ee?ve<M?ve-M:ve-N:0;return{[R]:E[R]+ge,data:{[R]:Oe,centerOffset:ve-Oe-ge,...Ee&&{alignmentOffset:ge}},reset:Ee}}}),TD=function(n){return n===void 0&&(n={}),{name:"flip",options:n,async fn(e){var t,i;const{placement:s,middlewareData:a,rects:u,initialPlacement:d,platform:f,elements:p}=e,{mainAxis:v=!0,crossAxis:w=!0,fallbackPlacements:E,fallbackStrategy:R="bestFit",fallbackAxisSideDirection:x="none",flipAlignment:I=!0,...C}=oi(n,e);if((t=a.arrow)!=null&&t.alignmentOffset)return{};const D=si(s),L=Zi(d),B=si(d)===d,G=await(f.isRTL==null?void 0:f.isRTL(p.floating)),X=E||(B||!I?[gd(d)]:gD(d)),ie=x!=="none";!E&&ie&&X.push(...vD(d,I,x,G));const b=[d,...X],P=await Bl(e,C),k=[];let V=((i=a.flip)==null?void 0:i.overflows)||[];if(v&&k.push(P[D]),w){const ve=mD(s,u,G);k.push(P[ve[0]],P[ve[1]])}if(V=[...V,{placement:s,overflows:k}],!k.every(ve=>ve<=0)){var F,M;const ve=(((F=a.flip)==null?void 0:F.index)||0)+1,Oe=b[ve];if(Oe)return{data:{index:ve,overflows:V},reset:{placement:Oe}};let Ee=(M=V.filter(ge=>ge.overflows[0]<=0).sort((ge,Y)=>ge.overflows[1]-Y.overflows[1])[0])==null?void 0:M.placement;if(!Ee)switch(R){case"bestFit":{var N;const ge=(N=V.filter(Y=>{if(ie){const ae=Zi(Y.placement);return ae===L||ae==="y"}return!0}).map(Y=>[Y.placement,Y.overflows.filter(ae=>ae>0).reduce((ae,se)=>ae+se,0)]).sort((Y,ae)=>Y[1]-ae[1])[0])==null?void 0:N[0];ge&&(Ee=ge);break}case"initialPlacement":Ee=d;break}if(s!==Ee)return{reset:{placement:Ee}}}return{}}}};function W_(n,e){return{top:n.top-e.height,right:n.right-e.width,bottom:n.bottom-e.height,left:n.left-e.width}}function H_(n){return hD.some(e=>n[e]>=0)}const SD=function(n){return n===void 0&&(n={}),{name:"hide",options:n,async fn(e){const{rects:t}=e,{strategy:i="referenceHidden",...s}=oi(n,e);switch(i){case"referenceHidden":{const a=await Bl(e,{...s,elementContext:"reference"}),u=W_(a,t.reference);return{data:{referenceHiddenOffsets:u,referenceHidden:H_(u)}}}case"escaped":{const a=await Bl(e,{...s,altBoundary:!0}),u=W_(a,t.floating);return{data:{escapedOffsets:u,escaped:H_(u)}}}default:return{}}}}};async function ID(n,e){const{placement:t,platform:i,elements:s}=n,a=await(i.isRTL==null?void 0:i.isRTL(s.floating)),u=si(t),d=Ea(t),f=Zi(t)==="y",p=["left","top"].includes(u)?-1:1,v=a&&f?-1:1,w=oi(e,n);let{mainAxis:E,crossAxis:R,alignmentAxis:x}=typeof w=="number"?{mainAxis:w,crossAxis:0,alignmentAxis:null}:{mainAxis:w.mainAxis||0,crossAxis:w.crossAxis||0,alignmentAxis:w.alignmentAxis};return d&&typeof x=="number"&&(R=d==="end"?x*-1:x),f?{x:R*v,y:E*p}:{x:E*p,y:R*v}}const CD=function(n){return n===void 0&&(n=0),{name:"offset",options:n,async fn(e){var t,i;const{x:s,y:a,placement:u,middlewareData:d}=e,f=await ID(e,n);return u===((t=d.offset)==null?void 0:t.placement)&&(i=d.arrow)!=null&&i.alignmentOffset?{}:{x:s+f.x,y:a+f.y,data:{...f,placement:u}}}}},RD=function(n){return n===void 0&&(n={}),{name:"shift",options:n,async fn(e){const{x:t,y:i,placement:s}=e,{mainAxis:a=!0,crossAxis:u=!1,limiter:d={fn:C=>{let{x:D,y:L}=C;return{x:D,y:L}}},...f}=oi(n,e),p={x:t,y:i},v=await Bl(e,f),w=Zi(si(s)),E=zm(w);let R=p[E],x=p[w];if(a){const C=E==="y"?"top":"left",D=E==="y"?"bottom":"right",L=R+v[C],B=R-v[D];R=bp(L,R,B)}if(u){const C=w==="y"?"top":"left",D=w==="y"?"bottom":"right",L=x+v[C],B=x-v[D];x=bp(L,x,B)}const I=d.fn({...e,[E]:R,[w]:x});return{...I,data:{x:I.x-t,y:I.y-i,enabled:{[E]:a,[w]:u}}}}}},AD=function(n){return n===void 0&&(n={}),{options:n,fn(e){const{x:t,y:i,placement:s,rects:a,middlewareData:u}=e,{offset:d=0,mainAxis:f=!0,crossAxis:p=!0}=oi(n,e),v={x:t,y:i},w=Zi(s),E=zm(w);let R=v[E],x=v[w];const I=oi(d,e),C=typeof I=="number"?{mainAxis:I,crossAxis:0}:{mainAxis:0,crossAxis:0,...I};if(f){const B=E==="y"?"height":"width",G=a.reference[E]-a.floating[B]+C.mainAxis,X=a.reference[E]+a.reference[B]-C.mainAxis;R<G?R=G:R>X&&(R=X)}if(p){var D,L;const B=E==="y"?"width":"height",G=["top","left"].includes(si(s)),X=a.reference[w]-a.floating[B]+(G&&((D=u.offset)==null?void 0:D[w])||0)+(G?0:C.crossAxis),ie=a.reference[w]+a.reference[B]+(G?0:((L=u.offset)==null?void 0:L[w])||0)-(G?C.crossAxis:0);x<X?x=X:x>ie&&(x=ie)}return{[E]:R,[w]:x}}}},xD=function(n){return n===void 0&&(n={}),{name:"size",options:n,async fn(e){var t,i;const{placement:s,rects:a,platform:u,elements:d}=e,{apply:f=()=>{},...p}=oi(n,e),v=await Bl(e,p),w=si(s),E=Ea(s),R=Zi(s)==="y",{width:x,height:I}=a.floating;let C,D;w==="top"||w==="bottom"?(C=w,D=E===(await(u.isRTL==null?void 0:u.isRTL(d.floating))?"start":"end")?"left":"right"):(D=w,C=E==="end"?"top":"bottom");const L=I-v.top-v.bottom,B=x-v.left-v.right,G=Ji(I-v[C],L),X=Ji(x-v[D],B),ie=!e.middlewareData.shift;let b=G,P=X;if((t=e.middlewareData.shift)!=null&&t.enabled.x&&(P=B),(i=e.middlewareData.shift)!=null&&i.enabled.y&&(b=L),ie&&!E){const V=_n(v.left,0),F=_n(v.right,0),M=_n(v.top,0),N=_n(v.bottom,0);R?P=x-2*(V!==0||F!==0?V+F:_n(v.left,v.right)):b=I-2*(M!==0||N!==0?M+N:_n(v.top,v.bottom))}await f({...e,availableWidth:P,availableHeight:b});const k=await u.getDimensions(d.floating);return x!==k.width||I!==k.height?{reset:{rects:!0}}:{}}}};function Kd(){return typeof window<"u"}function Ta(n){return YE(n)?(n.nodeName||"").toLowerCase():"#document"}function Tn(n){var e;return(n==null||(e=n.ownerDocument)==null?void 0:e.defaultView)||window}function xr(n){var e;return(e=(YE(n)?n.ownerDocument:n.document)||window.document)==null?void 0:e.documentElement}function YE(n){return Kd()?n instanceof Node||n instanceof Tn(n).Node:!1}function rr(n){return Kd()?n instanceof Element||n instanceof Tn(n).Element:!1}function Rr(n){return Kd()?n instanceof HTMLElement||n instanceof Tn(n).HTMLElement:!1}function q_(n){return!Kd()||typeof ShadowRoot>"u"?!1:n instanceof ShadowRoot||n instanceof Tn(n).ShadowRoot}function su(n){const{overflow:e,overflowX:t,overflowY:i,display:s}=ir(n);return/auto|scroll|overlay|hidden|clip/.test(e+i+t)&&!["inline","contents"].includes(s)}function PD(n){return["table","td","th"].includes(Ta(n))}function Gd(n){return[":popover-open",":modal"].some(e=>{try{return n.matches(e)}catch{return!1}})}function Wm(n){const e=Hm(),t=rr(n)?ir(n):n;return t.transform!=="none"||t.perspective!=="none"||(t.containerType?t.containerType!=="normal":!1)||!e&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!e&&(t.filter?t.filter!=="none":!1)||["transform","perspective","filter"].some(i=>(t.willChange||"").includes(i))||["paint","layout","strict","content"].some(i=>(t.contain||"").includes(i))}function kD(n){let e=eo(n);for(;Rr(e)&&!ca(e);){if(Wm(e))return e;if(Gd(e))return null;e=eo(e)}return null}function Hm(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function ca(n){return["html","body","#document"].includes(Ta(n))}function ir(n){return Tn(n).getComputedStyle(n)}function Qd(n){return rr(n)?{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}:{scrollLeft:n.scrollX,scrollTop:n.scrollY}}function eo(n){if(Ta(n)==="html")return n;const e=n.assignedSlot||n.parentNode||q_(n)&&n.host||xr(n);return q_(e)?e.host:e}function XE(n){const e=eo(n);return ca(e)?n.ownerDocument?n.ownerDocument.body:n.body:Rr(e)&&su(e)?e:XE(e)}function $l(n,e,t){var i;e===void 0&&(e=[]),t===void 0&&(t=!0);const s=XE(n),a=s===((i=n.ownerDocument)==null?void 0:i.body),u=Tn(s);if(a){const d=Dp(u);return e.concat(u,u.visualViewport||[],su(s)?s:[],d&&t?$l(d):[])}return e.concat(s,$l(s,[],t))}function Dp(n){return n.parent&&Object.getPrototypeOf(n.parent)?n.frameElement:null}function JE(n){const e=ir(n);let t=parseFloat(e.width)||0,i=parseFloat(e.height)||0;const s=Rr(n),a=s?n.offsetWidth:t,u=s?n.offsetHeight:i,d=md(t)!==a||md(i)!==u;return d&&(t=a,i=u),{width:t,height:i,$:d}}function qm(n){return rr(n)?n:n.contextElement}function Xs(n){const e=qm(n);if(!Rr(e))return Tr(1);const t=e.getBoundingClientRect(),{width:i,height:s,$:a}=JE(e);let u=(a?md(t.width):t.width)/i,d=(a?md(t.height):t.height)/s;return(!u||!Number.isFinite(u))&&(u=1),(!d||!Number.isFinite(d))&&(d=1),{x:u,y:d}}const bD=Tr(0);function ZE(n){const e=Tn(n);return!Hm()||!e.visualViewport?bD:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function ND(n,e,t){return e===void 0&&(e=!1),!t||e&&t!==Tn(n)?!1:e}function Wo(n,e,t,i){e===void 0&&(e=!1),t===void 0&&(t=!1);const s=n.getBoundingClientRect(),a=qm(n);let u=Tr(1);e&&(i?rr(i)&&(u=Xs(i)):u=Xs(n));const d=ND(a,t,i)?ZE(a):Tr(0);let f=(s.left+d.x)/u.x,p=(s.top+d.y)/u.y,v=s.width/u.x,w=s.height/u.y;if(a){const E=Tn(a),R=i&&rr(i)?Tn(i):i;let x=E,I=Dp(x);for(;I&&i&&R!==x;){const C=Xs(I),D=I.getBoundingClientRect(),L=ir(I),B=D.left+(I.clientLeft+parseFloat(L.paddingLeft))*C.x,G=D.top+(I.clientTop+parseFloat(L.paddingTop))*C.y;f*=C.x,p*=C.y,v*=C.x,w*=C.y,f+=B,p+=G,x=Tn(I),I=Dp(x)}}return yd({width:v,height:w,x:f,y:p})}function Km(n,e){const t=Qd(n).scrollLeft;return e?e.left+t:Wo(xr(n)).left+t}function eT(n,e,t){t===void 0&&(t=!1);const i=n.getBoundingClientRect(),s=i.left+e.scrollLeft-(t?0:Km(n,i)),a=i.top+e.scrollTop;return{x:s,y:a}}function DD(n){let{elements:e,rect:t,offsetParent:i,strategy:s}=n;const a=s==="fixed",u=xr(i),d=e?Gd(e.floating):!1;if(i===u||d&&a)return t;let f={scrollLeft:0,scrollTop:0},p=Tr(1);const v=Tr(0),w=Rr(i);if((w||!w&&!a)&&((Ta(i)!=="body"||su(u))&&(f=Qd(i)),Rr(i))){const R=Wo(i);p=Xs(i),v.x=R.x+i.clientLeft,v.y=R.y+i.clientTop}const E=u&&!w&&!a?eT(u,f,!0):Tr(0);return{width:t.width*p.x,height:t.height*p.y,x:t.x*p.x-f.scrollLeft*p.x+v.x+E.x,y:t.y*p.y-f.scrollTop*p.y+v.y+E.y}}function OD(n){return Array.from(n.getClientRects())}function LD(n){const e=xr(n),t=Qd(n),i=n.ownerDocument.body,s=_n(e.scrollWidth,e.clientWidth,i.scrollWidth,i.clientWidth),a=_n(e.scrollHeight,e.clientHeight,i.scrollHeight,i.clientHeight);let u=-t.scrollLeft+Km(n);const d=-t.scrollTop;return ir(i).direction==="rtl"&&(u+=_n(e.clientWidth,i.clientWidth)-s),{width:s,height:a,x:u,y:d}}function VD(n,e){const t=Tn(n),i=xr(n),s=t.visualViewport;let a=i.clientWidth,u=i.clientHeight,d=0,f=0;if(s){a=s.width,u=s.height;const p=Hm();(!p||p&&e==="fixed")&&(d=s.offsetLeft,f=s.offsetTop)}return{width:a,height:u,x:d,y:f}}function MD(n,e){const t=Wo(n,!0,e==="fixed"),i=t.top+n.clientTop,s=t.left+n.clientLeft,a=Rr(n)?Xs(n):Tr(1),u=n.clientWidth*a.x,d=n.clientHeight*a.y,f=s*a.x,p=i*a.y;return{width:u,height:d,x:f,y:p}}function K_(n,e,t){let i;if(e==="viewport")i=VD(n,t);else if(e==="document")i=LD(xr(n));else if(rr(e))i=MD(e,t);else{const s=ZE(n);i={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return yd(i)}function tT(n,e){const t=eo(n);return t===e||!rr(t)||ca(t)?!1:ir(t).position==="fixed"||tT(t,e)}function FD(n,e){const t=e.get(n);if(t)return t;let i=$l(n,[],!1).filter(d=>rr(d)&&Ta(d)!=="body"),s=null;const a=ir(n).position==="fixed";let u=a?eo(n):n;for(;rr(u)&&!ca(u);){const d=ir(u),f=Wm(u);!f&&d.position==="fixed"&&(s=null),(a?!f&&!s:!f&&d.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||su(u)&&!f&&tT(n,u))?i=i.filter(v=>v!==u):s=d,u=eo(u)}return e.set(n,i),i}function UD(n){let{element:e,boundary:t,rootBoundary:i,strategy:s}=n;const u=[...t==="clippingAncestors"?Gd(e)?[]:FD(e,this._c):[].concat(t),i],d=u[0],f=u.reduce((p,v)=>{const w=K_(e,v,s);return p.top=_n(w.top,p.top),p.right=Ji(w.right,p.right),p.bottom=Ji(w.bottom,p.bottom),p.left=_n(w.left,p.left),p},K_(e,d,s));return{width:f.right-f.left,height:f.bottom-f.top,x:f.left,y:f.top}}function jD(n){const{width:e,height:t}=JE(n);return{width:e,height:t}}function zD(n,e,t){const i=Rr(e),s=xr(e),a=t==="fixed",u=Wo(n,!0,a,e);let d={scrollLeft:0,scrollTop:0};const f=Tr(0);if(i||!i&&!a)if((Ta(e)!=="body"||su(s))&&(d=Qd(e)),i){const E=Wo(e,!0,a,e);f.x=E.x+e.clientLeft,f.y=E.y+e.clientTop}else s&&(f.x=Km(s));const p=s&&!i&&!a?eT(s,d):Tr(0),v=u.left+d.scrollLeft-f.x-p.x,w=u.top+d.scrollTop-f.y-p.y;return{x:v,y:w,width:u.width,height:u.height}}function Yf(n){return ir(n).position==="static"}function G_(n,e){if(!Rr(n)||ir(n).position==="fixed")return null;if(e)return e(n);let t=n.offsetParent;return xr(n)===t&&(t=t.ownerDocument.body),t}function nT(n,e){const t=Tn(n);if(Gd(n))return t;if(!Rr(n)){let s=eo(n);for(;s&&!ca(s);){if(rr(s)&&!Yf(s))return s;s=eo(s)}return t}let i=G_(n,e);for(;i&&PD(i)&&Yf(i);)i=G_(i,e);return i&&ca(i)&&Yf(i)&&!Wm(i)?t:i||kD(n)||t}const BD=async function(n){const e=this.getOffsetParent||nT,t=this.getDimensions,i=await t(n.floating);return{reference:zD(n.reference,await e(n.floating),n.strategy),floating:{x:0,y:0,width:i.width,height:i.height}}};function $D(n){return ir(n).direction==="rtl"}const WD={convertOffsetParentRelativeRectToViewportRelativeRect:DD,getDocumentElement:xr,getClippingRect:UD,getOffsetParent:nT,getElementRects:BD,getClientRects:OD,getDimensions:jD,getScale:Xs,isElement:rr,isRTL:$D};function HD(n,e){let t=null,i;const s=xr(n);function a(){var d;clearTimeout(i),(d=t)==null||d.disconnect(),t=null}function u(d,f){d===void 0&&(d=!1),f===void 0&&(f=1),a();const{left:p,top:v,width:w,height:E}=n.getBoundingClientRect();if(d||e(),!w||!E)return;const R=kc(v),x=kc(s.clientWidth-(p+w)),I=kc(s.clientHeight-(v+E)),C=kc(p),L={rootMargin:-R+"px "+-x+"px "+-I+"px "+-C+"px",threshold:_n(0,Ji(1,f))||1};let B=!0;function G(X){const ie=X[0].intersectionRatio;if(ie!==f){if(!B)return u();ie?u(!1,ie):i=setTimeout(()=>{u(!1,1e-7)},1e3)}B=!1}try{t=new IntersectionObserver(G,{...L,root:s.ownerDocument})}catch{t=new IntersectionObserver(G,L)}t.observe(n)}return u(!0),a}function qD(n,e,t,i){i===void 0&&(i={});const{ancestorScroll:s=!0,ancestorResize:a=!0,elementResize:u=typeof ResizeObserver=="function",layoutShift:d=typeof IntersectionObserver=="function",animationFrame:f=!1}=i,p=qm(n),v=s||a?[...p?$l(p):[],...$l(e)]:[];v.forEach(D=>{s&&D.addEventListener("scroll",t,{passive:!0}),a&&D.addEventListener("resize",t)});const w=p&&d?HD(p,t):null;let E=-1,R=null;u&&(R=new ResizeObserver(D=>{let[L]=D;L&&L.target===p&&R&&(R.unobserve(e),cancelAnimationFrame(E),E=requestAnimationFrame(()=>{var B;(B=R)==null||B.observe(e)})),t()}),p&&!f&&R.observe(p),R.observe(e));let x,I=f?Wo(n):null;f&&C();function C(){const D=Wo(n);I&&(D.x!==I.x||D.y!==I.y||D.width!==I.width||D.height!==I.height)&&t(),I=D,x=requestAnimationFrame(C)}return t(),()=>{var D;v.forEach(L=>{s&&L.removeEventListener("scroll",t),a&&L.removeEventListener("resize",t)}),w==null||w(),(D=R)==null||D.disconnect(),R=null,f&&cancelAnimationFrame(x)}}const KD=CD,GD=RD,QD=TD,YD=xD,XD=SD,Q_=ED,JD=AD,ZD=(n,e,t)=>{const i=new Map,s={platform:WD,...t},a={...s.platform,_c:i};return wD(n,e,{...s,platform:a})};var Kc=typeof document<"u"?S.useLayoutEffect:S.useEffect;function vd(n,e){if(n===e)return!0;if(typeof n!=typeof e)return!1;if(typeof n=="function"&&n.toString()===e.toString())return!0;let t,i,s;if(n&&e&&typeof n=="object"){if(Array.isArray(n)){if(t=n.length,t!==e.length)return!1;for(i=t;i--!==0;)if(!vd(n[i],e[i]))return!1;return!0}if(s=Object.keys(n),t=s.length,t!==Object.keys(e).length)return!1;for(i=t;i--!==0;)if(!{}.hasOwnProperty.call(e,s[i]))return!1;for(i=t;i--!==0;){const a=s[i];if(!(a==="_owner"&&n.$$typeof)&&!vd(n[a],e[a]))return!1}return!0}return n!==n&&e!==e}function rT(n){return typeof window>"u"?1:(n.ownerDocument.defaultView||window).devicePixelRatio||1}function Y_(n,e){const t=rT(n);return Math.round(e*t)/t}function Xf(n){const e=S.useRef(n);return Kc(()=>{e.current=n}),e}function eO(n){n===void 0&&(n={});const{placement:e="bottom",strategy:t="absolute",middleware:i=[],platform:s,elements:{reference:a,floating:u}={},transform:d=!0,whileElementsMounted:f,open:p}=n,[v,w]=S.useState({x:0,y:0,strategy:t,placement:e,middlewareData:{},isPositioned:!1}),[E,R]=S.useState(i);vd(E,i)||R(i);const[x,I]=S.useState(null),[C,D]=S.useState(null),L=S.useCallback(Y=>{Y!==ie.current&&(ie.current=Y,I(Y))},[]),B=S.useCallback(Y=>{Y!==b.current&&(b.current=Y,D(Y))},[]),G=a||x,X=u||C,ie=S.useRef(null),b=S.useRef(null),P=S.useRef(v),k=f!=null,V=Xf(f),F=Xf(s),M=Xf(p),N=S.useCallback(()=>{if(!ie.current||!b.current)return;const Y={placement:e,strategy:t,middleware:E};F.current&&(Y.platform=F.current),ZD(ie.current,b.current,Y).then(ae=>{const se={...ae,isPositioned:M.current!==!1};ve.current&&!vd(P.current,se)&&(P.current=se,Kl.flushSync(()=>{w(se)}))})},[E,e,t,F,M]);Kc(()=>{p===!1&&P.current.isPositioned&&(P.current.isPositioned=!1,w(Y=>({...Y,isPositioned:!1})))},[p]);const ve=S.useRef(!1);Kc(()=>(ve.current=!0,()=>{ve.current=!1}),[]),Kc(()=>{if(G&&(ie.current=G),X&&(b.current=X),G&&X){if(V.current)return V.current(G,X,N);N()}},[G,X,N,V,k]);const Oe=S.useMemo(()=>({reference:ie,floating:b,setReference:L,setFloating:B}),[L,B]),Ee=S.useMemo(()=>({reference:G,floating:X}),[G,X]),ge=S.useMemo(()=>{const Y={position:t,left:0,top:0};if(!Ee.floating)return Y;const ae=Y_(Ee.floating,v.x),se=Y_(Ee.floating,v.y);return d?{...Y,transform:"translate("+ae+"px, "+se+"px)",...rT(Ee.floating)>=1.5&&{willChange:"transform"}}:{position:t,left:ae,top:se}},[t,d,Ee.floating,v.x,v.y]);return S.useMemo(()=>({...v,update:N,refs:Oe,elements:Ee,floatingStyles:ge}),[v,N,Oe,Ee,ge])}const tO=n=>{function e(t){return{}.hasOwnProperty.call(t,"current")}return{name:"arrow",options:n,fn(t){const{element:i,padding:s}=typeof n=="function"?n(t):n;return i&&e(i)?i.current!=null?Q_({element:i.current,padding:s}).fn(t):{}:i?Q_({element:i,padding:s}).fn(t):{}}}},nO=(n,e)=>({...KD(n),options:[n,e]}),rO=(n,e)=>({...GD(n),options:[n,e]}),iO=(n,e)=>({...JD(n),options:[n,e]}),oO=(n,e)=>({...QD(n),options:[n,e]}),sO=(n,e)=>({...YD(n),options:[n,e]}),aO=(n,e)=>({...XD(n),options:[n,e]}),lO=(n,e)=>({...tO(n),options:[n,e]});var uO="Arrow",iT=S.forwardRef((n,e)=>{const{children:t,width:i=10,height:s=5,...a}=n;return $.jsx(vt.svg,{...a,ref:e,width:i,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:n.asChild?t:$.jsx("polygon",{points:"0,0 30,0 15,10"})})});iT.displayName=uO;var cO=iT;function dO(n,e=[]){let t=[];function i(a,u){const d=S.createContext(u),f=t.length;t=[...t,u];function p(w){const{scope:E,children:R,...x}=w,I=(E==null?void 0:E[n][f])||d,C=S.useMemo(()=>x,Object.values(x));return $.jsx(I.Provider,{value:C,children:R})}function v(w,E){const R=(E==null?void 0:E[n][f])||d,x=S.useContext(R);if(x)return x;if(u!==void 0)return u;throw new Error(`\`${w}\` must be used within \`${a}\``)}return p.displayName=a+"Provider",[p,v]}const s=()=>{const a=t.map(u=>S.createContext(u));return function(d){const f=(d==null?void 0:d[n])||a;return S.useMemo(()=>({[`__scope${n}`]:{...d,[n]:f}}),[d,f])}};return s.scopeName=n,[i,hO(s,...e)]}function hO(...n){const e=n[0];if(n.length===1)return e;const t=()=>{const i=n.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(a){const u=i.reduce((d,{useScope:f,scopeName:p})=>{const w=f(a)[`__scope${p}`];return{...d,...w}},{});return S.useMemo(()=>({[`__scope${e.scopeName}`]:u}),[u])}};return t.scopeName=e.scopeName,t}function fO(n){const[e,t]=S.useState(void 0);return Sn(()=>{if(n){t({width:n.offsetWidth,height:n.offsetHeight});const i=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const a=s[0];let u,d;if("borderBoxSize"in a){const f=a.borderBoxSize,p=Array.isArray(f)?f[0]:f;u=p.inlineSize,d=p.blockSize}else u=n.offsetWidth,d=n.offsetHeight;t({width:u,height:d})});return i.observe(n,{box:"border-box"}),()=>i.unobserve(n)}else t(void 0)},[n]),e}var Gm="Popper",[oT,sT]=dO(Gm),[pO,aT]=oT(Gm),lT=n=>{const{__scopePopper:e,children:t}=n,[i,s]=S.useState(null);return $.jsx(pO,{scope:e,anchor:i,onAnchorChange:s,children:t})};lT.displayName=Gm;var uT="PopperAnchor",cT=S.forwardRef((n,e)=>{const{__scopePopper:t,virtualRef:i,...s}=n,a=aT(uT,t),u=S.useRef(null),d=jt(e,u);return S.useEffect(()=>{a.onAnchorChange((i==null?void 0:i.current)||u.current)}),i?null:$.jsx(vt.div,{...s,ref:d})});cT.displayName=uT;var Qm="PopperContent",[mO,gO]=oT(Qm),dT=S.forwardRef((n,e)=>{var ue,_e,De,ke,Me,ze;const{__scopePopper:t,side:i="bottom",sideOffset:s=0,align:a="center",alignOffset:u=0,arrowPadding:d=0,avoidCollisions:f=!0,collisionBoundary:p=[],collisionPadding:v=0,sticky:w="partial",hideWhenDetached:E=!1,updatePositionStrategy:R="optimized",onPlaced:x,...I}=n,C=aT(Qm,t),[D,L]=S.useState(null),B=jt(e,ut=>L(ut)),[G,X]=S.useState(null),ie=fO(G),b=(ie==null?void 0:ie.width)??0,P=(ie==null?void 0:ie.height)??0,k=i+(a!=="center"?"-"+a:""),V=typeof v=="number"?v:{top:0,right:0,bottom:0,left:0,...v},F=Array.isArray(p)?p:[p],M=F.length>0,N={padding:V,boundary:F.filter(vO),altBoundary:M},{refs:ve,floatingStyles:Oe,placement:Ee,isPositioned:ge,middlewareData:Y}=eO({strategy:"fixed",placement:k,whileElementsMounted:(...ut)=>qD(...ut,{animationFrame:R==="always"}),elements:{reference:C.anchor},middleware:[nO({mainAxis:s+P,alignmentAxis:u}),f&&rO({mainAxis:!0,crossAxis:!1,limiter:w==="partial"?iO():void 0,...N}),f&&oO({...N}),sO({...N,apply:({elements:ut,rects:At,availableWidth:In,availableHeight:Ln})=>{const{width:Vn,height:Go}=At.reference,Mn=ut.floating.style;Mn.setProperty("--radix-popper-available-width",`${In}px`),Mn.setProperty("--radix-popper-available-height",`${Ln}px`),Mn.setProperty("--radix-popper-anchor-width",`${Vn}px`),Mn.setProperty("--radix-popper-anchor-height",`${Go}px`)}}),G&&lO({element:G,padding:d}),_O({arrowWidth:b,arrowHeight:P}),E&&aO({strategy:"referenceHidden",...N})]}),[ae,se]=pT(Ee),z=ii(x);Sn(()=>{ge&&(z==null||z())},[ge,z]);const J=(ue=Y.arrow)==null?void 0:ue.x,pe=(_e=Y.arrow)==null?void 0:_e.y,Ce=((De=Y.arrow)==null?void 0:De.centerOffset)!==0,[Pe,Le]=S.useState();return Sn(()=>{D&&Le(window.getComputedStyle(D).zIndex)},[D]),$.jsx("div",{ref:ve.setFloating,"data-radix-popper-content-wrapper":"",style:{...Oe,transform:ge?Oe.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Pe,"--radix-popper-transform-origin":[(ke=Y.transformOrigin)==null?void 0:ke.x,(Me=Y.transformOrigin)==null?void 0:Me.y].join(" "),...((ze=Y.hide)==null?void 0:ze.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:n.dir,children:$.jsx(mO,{scope:t,placedSide:ae,onArrowChange:X,arrowX:J,arrowY:pe,shouldHideArrow:Ce,children:$.jsx(vt.div,{"data-side":ae,"data-align":se,...I,ref:B,style:{...I.style,animation:ge?void 0:"none"}})})})});dT.displayName=Qm;var hT="PopperArrow",yO={top:"bottom",right:"left",bottom:"top",left:"right"},fT=S.forwardRef(function(e,t){const{__scopePopper:i,...s}=e,a=gO(hT,i),u=yO[a.placedSide];return $.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[u]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:$.jsx(cO,{...s,ref:t,style:{...s.style,display:"block"}})})});fT.displayName=hT;function vO(n){return n!==null}var _O=n=>({name:"transformOrigin",options:n,fn(e){var C,D,L;const{placement:t,rects:i,middlewareData:s}=e,u=((C=s.arrow)==null?void 0:C.centerOffset)!==0,d=u?0:n.arrowWidth,f=u?0:n.arrowHeight,[p,v]=pT(t),w={start:"0%",center:"50%",end:"100%"}[v],E=(((D=s.arrow)==null?void 0:D.x)??0)+d/2,R=(((L=s.arrow)==null?void 0:L.y)??0)+f/2;let x="",I="";return p==="bottom"?(x=u?w:`${E}px`,I=`${-f}px`):p==="top"?(x=u?w:`${E}px`,I=`${i.floating.height+f}px`):p==="right"?(x=`${-f}px`,I=u?w:`${R}px`):p==="left"&&(x=`${i.floating.width+f}px`,I=u?w:`${R}px`),{data:{x,y:I}}}});function pT(n){const[e,t="center"]=n.split("-");return[e,t]}var wO=lT,EO=cT,TO=dT,SO=fT,IO="Portal",mT=S.forwardRef((n,e)=>{var d;const{container:t,...i}=n,[s,a]=S.useState(!1);Sn(()=>a(!0),[]);const u=t||s&&((d=globalThis==null?void 0:globalThis.document)==null?void 0:d.body);return u?KC.createPortal($.jsx(vt.div,{...i,ref:e}),u):null});mT.displayName=IO;function X_({prop:n,defaultProp:e,onChange:t=()=>{}}){const[i,s]=CO({defaultProp:e,onChange:t}),a=n!==void 0,u=a?n:i,d=ii(t),f=S.useCallback(p=>{if(a){const w=typeof p=="function"?p(n):p;w!==n&&d(w)}else s(p)},[a,n,s,d]);return[u,f]}function CO({defaultProp:n,onChange:e}){const t=S.useState(n),[i]=t,s=S.useRef(i),a=ii(e);return S.useEffect(()=>{s.current!==i&&(a(i),s.current=i)},[i,s,a]),t}function RO(n){const e=S.useRef({value:n,previous:n});return S.useMemo(()=>(e.current.value!==n&&(e.current.previous=e.current.value,e.current.value=n),e.current.previous),[n])}var AO="VisuallyHidden",gT=S.forwardRef((n,e)=>$.jsx(vt.span,{...n,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...n.style}}));gT.displayName=AO;var xO=function(n){if(typeof document>"u")return null;var e=Array.isArray(n)?n[0]:n;return e.ownerDocument.body},Fs=new WeakMap,bc=new WeakMap,Nc={},Jf=0,yT=function(n){return n&&(n.host||yT(n.parentNode))},PO=function(n,e){return e.map(function(t){if(n.contains(t))return t;var i=yT(t);return i&&n.contains(i)?i:(console.error("aria-hidden",t,"in not contained inside",n,". Doing nothing"),null)}).filter(function(t){return!!t})},kO=function(n,e,t,i){var s=PO(e,Array.isArray(n)?n:[n]);Nc[t]||(Nc[t]=new WeakMap);var a=Nc[t],u=[],d=new Set,f=new Set(s),p=function(w){!w||d.has(w)||(d.add(w),p(w.parentNode))};s.forEach(p);var v=function(w){!w||f.has(w)||Array.prototype.forEach.call(w.children,function(E){if(d.has(E))v(E);else try{var R=E.getAttribute(i),x=R!==null&&R!=="false",I=(Fs.get(E)||0)+1,C=(a.get(E)||0)+1;Fs.set(E,I),a.set(E,C),u.push(E),I===1&&x&&bc.set(E,!0),C===1&&E.setAttribute(t,"true"),x||E.setAttribute(i,"true")}catch(D){console.error("aria-hidden: cannot operate on ",E,D)}})};return v(e),d.clear(),Jf++,function(){u.forEach(function(w){var E=Fs.get(w)-1,R=a.get(w)-1;Fs.set(w,E),a.set(w,R),E||(bc.has(w)||w.removeAttribute(i),bc.delete(w)),R||w.removeAttribute(t)}),Jf--,Jf||(Fs=new WeakMap,Fs=new WeakMap,bc=new WeakMap,Nc={})}},bO=function(n,e,t){t===void 0&&(t="data-aria-hidden");var i=Array.from(Array.isArray(n)?n:[n]),s=xO(n);return s?(i.push.apply(i,Array.from(s.querySelectorAll("[aria-live]"))),kO(i,s,t,"aria-hidden")):function(){return null}},Gc="right-scroll-bar-position",Qc="width-before-scroll-bar",NO="with-scroll-bars-hidden",DO="--removed-body-scroll-bar-size";function Zf(n,e){return typeof n=="function"?n(e):n&&(n.current=e),n}function OO(n,e){var t=S.useState(function(){return{value:n,callback:e,facade:{get current(){return t.value},set current(i){var s=t.value;s!==i&&(t.value=i,t.callback(i,s))}}}})[0];return t.callback=e,t.facade}var LO=typeof window<"u"?S.useLayoutEffect:S.useEffect,J_=new WeakMap;function VO(n,e){var t=OO(null,function(i){return n.forEach(function(s){return Zf(s,i)})});return LO(function(){var i=J_.get(t);if(i){var s=new Set(i),a=new Set(n),u=t.current;s.forEach(function(d){a.has(d)||Zf(d,null)}),a.forEach(function(d){s.has(d)||Zf(d,u)})}J_.set(t,n)},[n]),t}function MO(n){return n}function FO(n,e){e===void 0&&(e=MO);var t=[],i=!1,s={read:function(){if(i)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return t.length?t[t.length-1]:n},useMedium:function(a){var u=e(a,i);return t.push(u),function(){t=t.filter(function(d){return d!==u})}},assignSyncMedium:function(a){for(i=!0;t.length;){var u=t;t=[],u.forEach(a)}t={push:function(d){return a(d)},filter:function(){return t}}},assignMedium:function(a){i=!0;var u=[];if(t.length){var d=t;t=[],d.forEach(a),u=t}var f=function(){var v=u;u=[],v.forEach(a)},p=function(){return Promise.resolve().then(f)};p(),t={push:function(v){u.push(v),p()},filter:function(v){return u=u.filter(v),t}}}};return s}function UO(n){n===void 0&&(n={});var e=FO(null);return e.options=yr({async:!0,ssr:!1},n),e}var vT=function(n){var e=n.sideCar,t=Yl(n,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var i=e.read();if(!i)throw new Error("Sidecar medium not found");return S.createElement(i,yr({},t))};vT.isSideCarExport=!0;function jO(n,e){return n.useMedium(e),vT}var _T=UO(),ep=function(){},Yd=S.forwardRef(function(n,e){var t=S.useRef(null),i=S.useState({onScrollCapture:ep,onWheelCapture:ep,onTouchMoveCapture:ep}),s=i[0],a=i[1],u=n.forwardProps,d=n.children,f=n.className,p=n.removeScrollBar,v=n.enabled,w=n.shards,E=n.sideCar,R=n.noIsolation,x=n.inert,I=n.allowPinchZoom,C=n.as,D=C===void 0?"div":C,L=n.gapMode,B=Yl(n,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),G=E,X=VO([t,e]),ie=yr(yr({},B),s);return S.createElement(S.Fragment,null,v&&S.createElement(G,{sideCar:_T,removeScrollBar:p,shards:w,noIsolation:R,inert:x,setCallbacks:a,allowPinchZoom:!!I,lockRef:t,gapMode:L}),u?S.cloneElement(S.Children.only(d),yr(yr({},ie),{ref:X})):S.createElement(D,yr({},ie,{className:f,ref:X}),d))});Yd.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Yd.classNames={fullWidth:Qc,zeroRight:Gc};var zO=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function BO(){if(!document)return null;var n=document.createElement("style");n.type="text/css";var e=zO();return e&&n.setAttribute("nonce",e),n}function $O(n,e){n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}function WO(n){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(n)}var HO=function(){var n=0,e=null;return{add:function(t){n==0&&(e=BO())&&($O(e,t),WO(e)),n++},remove:function(){n--,!n&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},qO=function(){var n=HO();return function(e,t){S.useEffect(function(){return n.add(e),function(){n.remove()}},[e&&t])}},wT=function(){var n=qO(),e=function(t){var i=t.styles,s=t.dynamic;return n(i,s),null};return e},KO={left:0,top:0,right:0,gap:0},tp=function(n){return parseInt(n||"",10)||0},GO=function(n){var e=window.getComputedStyle(document.body),t=e[n==="padding"?"paddingLeft":"marginLeft"],i=e[n==="padding"?"paddingTop":"marginTop"],s=e[n==="padding"?"paddingRight":"marginRight"];return[tp(t),tp(i),tp(s)]},QO=function(n){if(n===void 0&&(n="margin"),typeof window>"u")return KO;var e=GO(n),t=document.documentElement.clientWidth,i=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,i-t+e[2]-e[0])}},YO=wT(),Js="data-scroll-locked",XO=function(n,e,t,i){var s=n.left,a=n.top,u=n.right,d=n.gap;return t===void 0&&(t="margin"),`
  .`.concat(NO,` {
   overflow: hidden `).concat(i,`;
   padding-right: `).concat(d,"px ").concat(i,`;
  }
  body[`).concat(Js,`] {
    overflow: hidden `).concat(i,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(i,";"),t==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(u,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(d,"px ").concat(i,`;
    `),t==="padding"&&"padding-right: ".concat(d,"px ").concat(i,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Gc,` {
    right: `).concat(d,"px ").concat(i,`;
  }
  
  .`).concat(Qc,` {
    margin-right: `).concat(d,"px ").concat(i,`;
  }
  
  .`).concat(Gc," .").concat(Gc,` {
    right: 0 `).concat(i,`;
  }
  
  .`).concat(Qc," .").concat(Qc,` {
    margin-right: 0 `).concat(i,`;
  }
  
  body[`).concat(Js,`] {
    `).concat(DO,": ").concat(d,`px;
  }
`)},Z_=function(){var n=parseInt(document.body.getAttribute(Js)||"0",10);return isFinite(n)?n:0},JO=function(){S.useEffect(function(){return document.body.setAttribute(Js,(Z_()+1).toString()),function(){var n=Z_()-1;n<=0?document.body.removeAttribute(Js):document.body.setAttribute(Js,n.toString())}},[])},ZO=function(n){var e=n.noRelative,t=n.noImportant,i=n.gapMode,s=i===void 0?"margin":i;JO();var a=S.useMemo(function(){return QO(s)},[s]);return S.createElement(YO,{styles:XO(a,!e,s,t?"":"!important")})},Op=!1;if(typeof window<"u")try{var Dc=Object.defineProperty({},"passive",{get:function(){return Op=!0,!0}});window.addEventListener("test",Dc,Dc),window.removeEventListener("test",Dc,Dc)}catch{Op=!1}var Us=Op?{passive:!1}:!1,eL=function(n){return n.tagName==="TEXTAREA"},ET=function(n,e){if(!(n instanceof Element))return!1;var t=window.getComputedStyle(n);return t[e]!=="hidden"&&!(t.overflowY===t.overflowX&&!eL(n)&&t[e]==="visible")},tL=function(n){return ET(n,"overflowY")},nL=function(n){return ET(n,"overflowX")},ew=function(n,e){var t=e.ownerDocument,i=e;do{typeof ShadowRoot<"u"&&i instanceof ShadowRoot&&(i=i.host);var s=TT(n,i);if(s){var a=ST(n,i),u=a[1],d=a[2];if(u>d)return!0}i=i.parentNode}while(i&&i!==t.body);return!1},rL=function(n){var e=n.scrollTop,t=n.scrollHeight,i=n.clientHeight;return[e,t,i]},iL=function(n){var e=n.scrollLeft,t=n.scrollWidth,i=n.clientWidth;return[e,t,i]},TT=function(n,e){return n==="v"?tL(e):nL(e)},ST=function(n,e){return n==="v"?rL(e):iL(e)},oL=function(n,e){return n==="h"&&e==="rtl"?-1:1},sL=function(n,e,t,i,s){var a=oL(n,window.getComputedStyle(e).direction),u=a*i,d=t.target,f=e.contains(d),p=!1,v=u>0,w=0,E=0;do{var R=ST(n,d),x=R[0],I=R[1],C=R[2],D=I-C-a*x;(x||D)&&TT(n,d)&&(w+=D,E+=x),d instanceof ShadowRoot?d=d.host:d=d.parentNode}while(!f&&d!==document.body||f&&(e.contains(d)||e===d));return(v&&(Math.abs(w)<1||!s)||!v&&(Math.abs(E)<1||!s))&&(p=!0),p},Oc=function(n){return"changedTouches"in n?[n.changedTouches[0].clientX,n.changedTouches[0].clientY]:[0,0]},tw=function(n){return[n.deltaX,n.deltaY]},nw=function(n){return n&&"current"in n?n.current:n},aL=function(n,e){return n[0]===e[0]&&n[1]===e[1]},lL=function(n){return`
  .block-interactivity-`.concat(n,` {pointer-events: none;}
  .allow-interactivity-`).concat(n,` {pointer-events: all;}
`)},uL=0,js=[];function cL(n){var e=S.useRef([]),t=S.useRef([0,0]),i=S.useRef(),s=S.useState(uL++)[0],a=S.useState(wT)[0],u=S.useRef(n);S.useEffect(function(){u.current=n},[n]),S.useEffect(function(){if(n.inert){document.body.classList.add("block-interactivity-".concat(s));var I=AR([n.lockRef.current],(n.shards||[]).map(nw),!0).filter(Boolean);return I.forEach(function(C){return C.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),I.forEach(function(C){return C.classList.remove("allow-interactivity-".concat(s))})}}},[n.inert,n.lockRef.current,n.shards]);var d=S.useCallback(function(I,C){if("touches"in I&&I.touches.length===2||I.type==="wheel"&&I.ctrlKey)return!u.current.allowPinchZoom;var D=Oc(I),L=t.current,B="deltaX"in I?I.deltaX:L[0]-D[0],G="deltaY"in I?I.deltaY:L[1]-D[1],X,ie=I.target,b=Math.abs(B)>Math.abs(G)?"h":"v";if("touches"in I&&b==="h"&&ie.type==="range")return!1;var P=ew(b,ie);if(!P)return!0;if(P?X=b:(X=b==="v"?"h":"v",P=ew(b,ie)),!P)return!1;if(!i.current&&"changedTouches"in I&&(B||G)&&(i.current=X),!X)return!0;var k=i.current||X;return sL(k,C,I,k==="h"?B:G,!0)},[]),f=S.useCallback(function(I){var C=I;if(!(!js.length||js[js.length-1]!==a)){var D="deltaY"in C?tw(C):Oc(C),L=e.current.filter(function(X){return X.name===C.type&&(X.target===C.target||C.target===X.shadowParent)&&aL(X.delta,D)})[0];if(L&&L.should){C.cancelable&&C.preventDefault();return}if(!L){var B=(u.current.shards||[]).map(nw).filter(Boolean).filter(function(X){return X.contains(C.target)}),G=B.length>0?d(C,B[0]):!u.current.noIsolation;G&&C.cancelable&&C.preventDefault()}}},[]),p=S.useCallback(function(I,C,D,L){var B={name:I,delta:C,target:D,should:L,shadowParent:dL(D)};e.current.push(B),setTimeout(function(){e.current=e.current.filter(function(G){return G!==B})},1)},[]),v=S.useCallback(function(I){t.current=Oc(I),i.current=void 0},[]),w=S.useCallback(function(I){p(I.type,tw(I),I.target,d(I,n.lockRef.current))},[]),E=S.useCallback(function(I){p(I.type,Oc(I),I.target,d(I,n.lockRef.current))},[]);S.useEffect(function(){return js.push(a),n.setCallbacks({onScrollCapture:w,onWheelCapture:w,onTouchMoveCapture:E}),document.addEventListener("wheel",f,Us),document.addEventListener("touchmove",f,Us),document.addEventListener("touchstart",v,Us),function(){js=js.filter(function(I){return I!==a}),document.removeEventListener("wheel",f,Us),document.removeEventListener("touchmove",f,Us),document.removeEventListener("touchstart",v,Us)}},[]);var R=n.removeScrollBar,x=n.inert;return S.createElement(S.Fragment,null,x?S.createElement(a,{styles:lL(s)}):null,R?S.createElement(ZO,{gapMode:n.gapMode}):null)}function dL(n){for(var e=null;n!==null;)n instanceof ShadowRoot&&(e=n.host,n=n.host),n=n.parentNode;return e}const hL=jO(_T,cL);var IT=S.forwardRef(function(n,e){return S.createElement(Yd,yr({},n,{ref:e,sideCar:hL}))});IT.classNames=Yd.classNames;var fL=[" ","Enter","ArrowUp","ArrowDown"],pL=[" ","Enter"],au="Select",[Xd,Jd,mL]=zN(au),[Sa,QL]=BN(au,[mL,sT]),Zd=sT(),[gL,io]=Sa(au),[yL,vL]=Sa(au),CT=n=>{const{__scopeSelect:e,children:t,open:i,defaultOpen:s,onOpenChange:a,value:u,defaultValue:d,onValueChange:f,dir:p,name:v,autoComplete:w,disabled:E,required:R,form:x}=n,I=Zd(e),[C,D]=S.useState(null),[L,B]=S.useState(null),[G,X]=S.useState(!1),ie=HN(p),[b=!1,P]=X_({prop:i,defaultProp:s,onChange:a}),[k,V]=X_({prop:u,defaultProp:d,onChange:f}),F=S.useRef(null),M=C?x||!!C.closest("form"):!0,[N,ve]=S.useState(new Set),Oe=Array.from(N).map(Ee=>Ee.props.value).join(";");return $.jsx(wO,{...I,children:$.jsxs(gL,{required:R,scope:e,trigger:C,onTriggerChange:D,valueNode:L,onValueNodeChange:B,valueNodeHasChildren:G,onValueNodeHasChildrenChange:X,contentId:jm(),value:k,onValueChange:V,open:b,onOpenChange:P,dir:ie,triggerPointerDownPosRef:F,disabled:E,children:[$.jsx(Xd.Provider,{scope:e,children:$.jsx(yL,{scope:n.__scopeSelect,onNativeOptionAdd:S.useCallback(Ee=>{ve(ge=>new Set(ge).add(Ee))},[]),onNativeOptionRemove:S.useCallback(Ee=>{ve(ge=>{const Y=new Set(ge);return Y.delete(Ee),Y})},[]),children:t})}),M?$.jsxs(YT,{"aria-hidden":!0,required:R,tabIndex:-1,name:v,autoComplete:w,value:k,onChange:Ee=>V(Ee.target.value),disabled:E,form:x,children:[k===void 0?$.jsx("option",{value:""}):null,Array.from(N)]},Oe):null]})})};CT.displayName=au;var RT="SelectTrigger",AT=S.forwardRef((n,e)=>{const{__scopeSelect:t,disabled:i=!1,...s}=n,a=Zd(t),u=io(RT,t),d=u.disabled||i,f=jt(e,u.onTriggerChange),p=Jd(t),v=S.useRef("touch"),[w,E,R]=XT(I=>{const C=p().filter(B=>!B.disabled),D=C.find(B=>B.value===u.value),L=JT(C,I,D);L!==void 0&&u.onValueChange(L.value)}),x=I=>{d||(u.onOpenChange(!0),R()),I&&(u.triggerPointerDownPosRef.current={x:Math.round(I.pageX),y:Math.round(I.pageY)})};return $.jsx(EO,{asChild:!0,...a,children:$.jsx(vt.button,{type:"button",role:"combobox","aria-controls":u.contentId,"aria-expanded":u.open,"aria-required":u.required,"aria-autocomplete":"none",dir:u.dir,"data-state":u.open?"open":"closed",disabled:d,"data-disabled":d?"":void 0,"data-placeholder":QT(u.value)?"":void 0,...s,ref:f,onClick:yt(s.onClick,I=>{I.currentTarget.focus(),v.current!=="mouse"&&x(I)}),onPointerDown:yt(s.onPointerDown,I=>{v.current=I.pointerType;const C=I.target;C.hasPointerCapture(I.pointerId)&&C.releasePointerCapture(I.pointerId),I.button===0&&I.ctrlKey===!1&&I.pointerType==="mouse"&&(x(I),I.preventDefault())}),onKeyDown:yt(s.onKeyDown,I=>{const C=w.current!=="";!(I.ctrlKey||I.altKey||I.metaKey)&&I.key.length===1&&E(I.key),!(C&&I.key===" ")&&fL.includes(I.key)&&(x(),I.preventDefault())})})})});AT.displayName=RT;var xT="SelectValue",PT=S.forwardRef((n,e)=>{const{__scopeSelect:t,className:i,style:s,children:a,placeholder:u="",...d}=n,f=io(xT,t),{onValueNodeHasChildrenChange:p}=f,v=a!==void 0,w=jt(e,f.onValueNodeChange);return Sn(()=>{p(v)},[p,v]),$.jsx(vt.span,{...d,ref:w,style:{pointerEvents:"none"},children:QT(f.value)?$.jsx($.Fragment,{children:u}):a})});PT.displayName=xT;var _L="SelectIcon",kT=S.forwardRef((n,e)=>{const{__scopeSelect:t,children:i,...s}=n;return $.jsx(vt.span,{"aria-hidden":!0,...s,ref:e,children:i||""})});kT.displayName=_L;var wL="SelectPortal",bT=n=>$.jsx(mT,{asChild:!0,...n});bT.displayName=wL;var Ho="SelectContent",NT=S.forwardRef((n,e)=>{const t=io(Ho,n.__scopeSelect),[i,s]=S.useState();if(Sn(()=>{s(new DocumentFragment)},[]),!t.open){const a=i;return a?Kl.createPortal($.jsx(DT,{scope:n.__scopeSelect,children:$.jsx(Xd.Slot,{scope:n.__scopeSelect,children:$.jsx("div",{children:n.children})})}),a):null}return $.jsx(OT,{...n,ref:e})});NT.displayName=Ho;var Zn=10,[DT,oo]=Sa(Ho),EL="SelectContentImpl",OT=S.forwardRef((n,e)=>{const{__scopeSelect:t,position:i="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:a,onPointerDownOutside:u,side:d,sideOffset:f,align:p,alignOffset:v,arrowPadding:w,collisionBoundary:E,collisionPadding:R,sticky:x,hideWhenDetached:I,avoidCollisions:C,...D}=n,L=io(Ho,t),[B,G]=S.useState(null),[X,ie]=S.useState(null),b=jt(e,ue=>G(ue)),[P,k]=S.useState(null),[V,F]=S.useState(null),M=Jd(t),[N,ve]=S.useState(!1),Oe=S.useRef(!1);S.useEffect(()=>{if(B)return bO(B)},[B]),nD();const Ee=S.useCallback(ue=>{const[_e,...De]=M().map(ze=>ze.ref.current),[ke]=De.slice(-1),Me=document.activeElement;for(const ze of ue)if(ze===Me||(ze==null||ze.scrollIntoView({block:"nearest"}),ze===_e&&X&&(X.scrollTop=0),ze===ke&&X&&(X.scrollTop=X.scrollHeight),ze==null||ze.focus(),document.activeElement!==Me))return},[M,X]),ge=S.useCallback(()=>Ee([P,B]),[Ee,P,B]);S.useEffect(()=>{N&&ge()},[N,ge]);const{onOpenChange:Y,triggerPointerDownPosRef:ae}=L;S.useEffect(()=>{if(B){let ue={x:0,y:0};const _e=ke=>{var Me,ze;ue={x:Math.abs(Math.round(ke.pageX)-(((Me=ae.current)==null?void 0:Me.x)??0)),y:Math.abs(Math.round(ke.pageY)-(((ze=ae.current)==null?void 0:ze.y)??0))}},De=ke=>{ue.x<=10&&ue.y<=10?ke.preventDefault():B.contains(ke.target)||Y(!1),document.removeEventListener("pointermove",_e),ae.current=null};return ae.current!==null&&(document.addEventListener("pointermove",_e),document.addEventListener("pointerup",De,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",_e),document.removeEventListener("pointerup",De,{capture:!0})}}},[B,Y,ae]),S.useEffect(()=>{const ue=()=>Y(!1);return window.addEventListener("blur",ue),window.addEventListener("resize",ue),()=>{window.removeEventListener("blur",ue),window.removeEventListener("resize",ue)}},[Y]);const[se,z]=XT(ue=>{const _e=M().filter(Me=>!Me.disabled),De=_e.find(Me=>Me.ref.current===document.activeElement),ke=JT(_e,ue,De);ke&&setTimeout(()=>ke.ref.current.focus())}),J=S.useCallback((ue,_e,De)=>{const ke=!Oe.current&&!De;(L.value!==void 0&&L.value===_e||ke)&&(k(ue),ke&&(Oe.current=!0))},[L.value]),pe=S.useCallback(()=>B==null?void 0:B.focus(),[B]),Ce=S.useCallback((ue,_e,De)=>{const ke=!Oe.current&&!De;(L.value!==void 0&&L.value===_e||ke)&&F(ue)},[L.value]),Pe=i==="popper"?Lp:LT,Le=Pe===Lp?{side:d,sideOffset:f,align:p,alignOffset:v,arrowPadding:w,collisionBoundary:E,collisionPadding:R,sticky:x,hideWhenDetached:I,avoidCollisions:C}:{};return $.jsx(DT,{scope:t,content:B,viewport:X,onViewportChange:ie,itemRefCallback:J,selectedItem:P,onItemLeave:pe,itemTextRefCallback:Ce,focusSelectedItem:ge,selectedItemText:V,position:i,isPositioned:N,searchRef:se,children:$.jsx(IT,{as:ua,allowPinchZoom:!0,children:$.jsx(KE,{asChild:!0,trapped:L.open,onMountAutoFocus:ue=>{ue.preventDefault()},onUnmountAutoFocus:yt(s,ue=>{var _e;(_e=L.trigger)==null||_e.focus({preventScroll:!0}),ue.preventDefault()}),children:$.jsx(HE,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:u,onFocusOutside:ue=>ue.preventDefault(),onDismiss:()=>L.onOpenChange(!1),children:$.jsx(Pe,{role:"listbox",id:L.contentId,"data-state":L.open?"open":"closed",dir:L.dir,onContextMenu:ue=>ue.preventDefault(),...D,...Le,onPlaced:()=>ve(!0),ref:b,style:{display:"flex",flexDirection:"column",outline:"none",...D.style},onKeyDown:yt(D.onKeyDown,ue=>{const _e=ue.ctrlKey||ue.altKey||ue.metaKey;if(ue.key==="Tab"&&ue.preventDefault(),!_e&&ue.key.length===1&&z(ue.key),["ArrowUp","ArrowDown","Home","End"].includes(ue.key)){let ke=M().filter(Me=>!Me.disabled).map(Me=>Me.ref.current);if(["ArrowUp","End"].includes(ue.key)&&(ke=ke.slice().reverse()),["ArrowUp","ArrowDown"].includes(ue.key)){const Me=ue.target,ze=ke.indexOf(Me);ke=ke.slice(ze+1)}setTimeout(()=>Ee(ke)),ue.preventDefault()}})})})})})})});OT.displayName=EL;var TL="SelectItemAlignedPosition",LT=S.forwardRef((n,e)=>{const{__scopeSelect:t,onPlaced:i,...s}=n,a=io(Ho,t),u=oo(Ho,t),[d,f]=S.useState(null),[p,v]=S.useState(null),w=jt(e,b=>v(b)),E=Jd(t),R=S.useRef(!1),x=S.useRef(!0),{viewport:I,selectedItem:C,selectedItemText:D,focusSelectedItem:L}=u,B=S.useCallback(()=>{if(a.trigger&&a.valueNode&&d&&p&&I&&C&&D){const b=a.trigger.getBoundingClientRect(),P=p.getBoundingClientRect(),k=a.valueNode.getBoundingClientRect(),V=D.getBoundingClientRect();if(a.dir!=="rtl"){const Me=V.left-P.left,ze=k.left-Me,ut=b.left-ze,At=b.width+ut,In=Math.max(At,P.width),Ln=window.innerWidth-Zn,Vn=L_(ze,[Zn,Math.max(Zn,Ln-In)]);d.style.minWidth=At+"px",d.style.left=Vn+"px"}else{const Me=P.right-V.right,ze=window.innerWidth-k.right-Me,ut=window.innerWidth-b.right-ze,At=b.width+ut,In=Math.max(At,P.width),Ln=window.innerWidth-Zn,Vn=L_(ze,[Zn,Math.max(Zn,Ln-In)]);d.style.minWidth=At+"px",d.style.right=Vn+"px"}const F=E(),M=window.innerHeight-Zn*2,N=I.scrollHeight,ve=window.getComputedStyle(p),Oe=parseInt(ve.borderTopWidth,10),Ee=parseInt(ve.paddingTop,10),ge=parseInt(ve.borderBottomWidth,10),Y=parseInt(ve.paddingBottom,10),ae=Oe+Ee+N+Y+ge,se=Math.min(C.offsetHeight*5,ae),z=window.getComputedStyle(I),J=parseInt(z.paddingTop,10),pe=parseInt(z.paddingBottom,10),Ce=b.top+b.height/2-Zn,Pe=M-Ce,Le=C.offsetHeight/2,ue=C.offsetTop+Le,_e=Oe+Ee+ue,De=ae-_e;if(_e<=Ce){const Me=F.length>0&&C===F[F.length-1].ref.current;d.style.bottom="0px";const ze=p.clientHeight-I.offsetTop-I.offsetHeight,ut=Math.max(Pe,Le+(Me?pe:0)+ze+ge),At=_e+ut;d.style.height=At+"px"}else{const Me=F.length>0&&C===F[0].ref.current;d.style.top="0px";const ut=Math.max(Ce,Oe+I.offsetTop+(Me?J:0)+Le)+De;d.style.height=ut+"px",I.scrollTop=_e-Ce+I.offsetTop}d.style.margin=`${Zn}px 0`,d.style.minHeight=se+"px",d.style.maxHeight=M+"px",i==null||i(),requestAnimationFrame(()=>R.current=!0)}},[E,a.trigger,a.valueNode,d,p,I,C,D,a.dir,i]);Sn(()=>B(),[B]);const[G,X]=S.useState();Sn(()=>{p&&X(window.getComputedStyle(p).zIndex)},[p]);const ie=S.useCallback(b=>{b&&x.current===!0&&(B(),L==null||L(),x.current=!1)},[B,L]);return $.jsx(IL,{scope:t,contentWrapper:d,shouldExpandOnScrollRef:R,onScrollButtonChange:ie,children:$.jsx("div",{ref:f,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:G},children:$.jsx(vt.div,{...s,ref:w,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});LT.displayName=TL;var SL="SelectPopperPosition",Lp=S.forwardRef((n,e)=>{const{__scopeSelect:t,align:i="start",collisionPadding:s=Zn,...a}=n,u=Zd(t);return $.jsx(TO,{...u,...a,ref:e,align:i,collisionPadding:s,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Lp.displayName=SL;var[IL,Ym]=Sa(Ho,{}),Vp="SelectViewport",VT=S.forwardRef((n,e)=>{const{__scopeSelect:t,nonce:i,...s}=n,a=oo(Vp,t),u=Ym(Vp,t),d=jt(e,a.onViewportChange),f=S.useRef(0);return $.jsxs($.Fragment,{children:[$.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:i}),$.jsx(Xd.Slot,{scope:t,children:$.jsx(vt.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:d,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:yt(s.onScroll,p=>{const v=p.currentTarget,{contentWrapper:w,shouldExpandOnScrollRef:E}=u;if(E!=null&&E.current&&w){const R=Math.abs(f.current-v.scrollTop);if(R>0){const x=window.innerHeight-Zn*2,I=parseFloat(w.style.minHeight),C=parseFloat(w.style.height),D=Math.max(I,C);if(D<x){const L=D+R,B=Math.min(x,L),G=L-B;w.style.height=B+"px",w.style.bottom==="0px"&&(v.scrollTop=G>0?G:0,w.style.justifyContent="flex-end")}}}f.current=v.scrollTop})})})]})});VT.displayName=Vp;var MT="SelectGroup",[CL,RL]=Sa(MT),AL=S.forwardRef((n,e)=>{const{__scopeSelect:t,...i}=n,s=jm();return $.jsx(CL,{scope:t,id:s,children:$.jsx(vt.div,{role:"group","aria-labelledby":s,...i,ref:e})})});AL.displayName=MT;var FT="SelectLabel",UT=S.forwardRef((n,e)=>{const{__scopeSelect:t,...i}=n,s=RL(FT,t);return $.jsx(vt.div,{id:s.id,...i,ref:e})});UT.displayName=FT;var _d="SelectItem",[xL,jT]=Sa(_d),zT=S.forwardRef((n,e)=>{const{__scopeSelect:t,value:i,disabled:s=!1,textValue:a,...u}=n,d=io(_d,t),f=oo(_d,t),p=d.value===i,[v,w]=S.useState(a??""),[E,R]=S.useState(!1),x=jt(e,L=>{var B;return(B=f.itemRefCallback)==null?void 0:B.call(f,L,i,s)}),I=jm(),C=S.useRef("touch"),D=()=>{s||(d.onValueChange(i),d.onOpenChange(!1))};if(i==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return $.jsx(xL,{scope:t,value:i,disabled:s,textId:I,isSelected:p,onItemTextChange:S.useCallback(L=>{w(B=>B||((L==null?void 0:L.textContent)??"").trim())},[]),children:$.jsx(Xd.ItemSlot,{scope:t,value:i,disabled:s,textValue:v,children:$.jsx(vt.div,{role:"option","aria-labelledby":I,"data-highlighted":E?"":void 0,"aria-selected":p&&E,"data-state":p?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...u,ref:x,onFocus:yt(u.onFocus,()=>R(!0)),onBlur:yt(u.onBlur,()=>R(!1)),onClick:yt(u.onClick,()=>{C.current!=="mouse"&&D()}),onPointerUp:yt(u.onPointerUp,()=>{C.current==="mouse"&&D()}),onPointerDown:yt(u.onPointerDown,L=>{C.current=L.pointerType}),onPointerMove:yt(u.onPointerMove,L=>{var B;C.current=L.pointerType,s?(B=f.onItemLeave)==null||B.call(f):C.current==="mouse"&&L.currentTarget.focus({preventScroll:!0})}),onPointerLeave:yt(u.onPointerLeave,L=>{var B;L.currentTarget===document.activeElement&&((B=f.onItemLeave)==null||B.call(f))}),onKeyDown:yt(u.onKeyDown,L=>{var G;((G=f.searchRef)==null?void 0:G.current)!==""&&L.key===" "||(pL.includes(L.key)&&D(),L.key===" "&&L.preventDefault())})})})})});zT.displayName=_d;var Rl="SelectItemText",BT=S.forwardRef((n,e)=>{const{__scopeSelect:t,className:i,style:s,...a}=n,u=io(Rl,t),d=oo(Rl,t),f=jT(Rl,t),p=vL(Rl,t),[v,w]=S.useState(null),E=jt(e,D=>w(D),f.onItemTextChange,D=>{var L;return(L=d.itemTextRefCallback)==null?void 0:L.call(d,D,f.value,f.disabled)}),R=v==null?void 0:v.textContent,x=S.useMemo(()=>$.jsx("option",{value:f.value,disabled:f.disabled,children:R},f.value),[f.disabled,f.value,R]),{onNativeOptionAdd:I,onNativeOptionRemove:C}=p;return Sn(()=>(I(x),()=>C(x)),[I,C,x]),$.jsxs($.Fragment,{children:[$.jsx(vt.span,{id:f.textId,...a,ref:E}),f.isSelected&&u.valueNode&&!u.valueNodeHasChildren?Kl.createPortal(a.children,u.valueNode):null]})});BT.displayName=Rl;var $T="SelectItemIndicator",WT=S.forwardRef((n,e)=>{const{__scopeSelect:t,...i}=n;return jT($T,t).isSelected?$.jsx(vt.span,{"aria-hidden":!0,...i,ref:e}):null});WT.displayName=$T;var Mp="SelectScrollUpButton",HT=S.forwardRef((n,e)=>{const t=oo(Mp,n.__scopeSelect),i=Ym(Mp,n.__scopeSelect),[s,a]=S.useState(!1),u=jt(e,i.onScrollButtonChange);return Sn(()=>{if(t.viewport&&t.isPositioned){let d=function(){const p=f.scrollTop>0;a(p)};const f=t.viewport;return d(),f.addEventListener("scroll",d),()=>f.removeEventListener("scroll",d)}},[t.viewport,t.isPositioned]),s?$.jsx(KT,{...n,ref:u,onAutoScroll:()=>{const{viewport:d,selectedItem:f}=t;d&&f&&(d.scrollTop=d.scrollTop-f.offsetHeight)}}):null});HT.displayName=Mp;var Fp="SelectScrollDownButton",qT=S.forwardRef((n,e)=>{const t=oo(Fp,n.__scopeSelect),i=Ym(Fp,n.__scopeSelect),[s,a]=S.useState(!1),u=jt(e,i.onScrollButtonChange);return Sn(()=>{if(t.viewport&&t.isPositioned){let d=function(){const p=f.scrollHeight-f.clientHeight,v=Math.ceil(f.scrollTop)<p;a(v)};const f=t.viewport;return d(),f.addEventListener("scroll",d),()=>f.removeEventListener("scroll",d)}},[t.viewport,t.isPositioned]),s?$.jsx(KT,{...n,ref:u,onAutoScroll:()=>{const{viewport:d,selectedItem:f}=t;d&&f&&(d.scrollTop=d.scrollTop+f.offsetHeight)}}):null});qT.displayName=Fp;var KT=S.forwardRef((n,e)=>{const{__scopeSelect:t,onAutoScroll:i,...s}=n,a=oo("SelectScrollButton",t),u=S.useRef(null),d=Jd(t),f=S.useCallback(()=>{u.current!==null&&(window.clearInterval(u.current),u.current=null)},[]);return S.useEffect(()=>()=>f(),[f]),Sn(()=>{var v;const p=d().find(w=>w.ref.current===document.activeElement);(v=p==null?void 0:p.ref.current)==null||v.scrollIntoView({block:"nearest"})},[d]),$.jsx(vt.div,{"aria-hidden":!0,...s,ref:e,style:{flexShrink:0,...s.style},onPointerDown:yt(s.onPointerDown,()=>{u.current===null&&(u.current=window.setInterval(i,50))}),onPointerMove:yt(s.onPointerMove,()=>{var p;(p=a.onItemLeave)==null||p.call(a),u.current===null&&(u.current=window.setInterval(i,50))}),onPointerLeave:yt(s.onPointerLeave,()=>{f()})})}),PL="SelectSeparator",GT=S.forwardRef((n,e)=>{const{__scopeSelect:t,...i}=n;return $.jsx(vt.div,{"aria-hidden":!0,...i,ref:e})});GT.displayName=PL;var Up="SelectArrow",kL=S.forwardRef((n,e)=>{const{__scopeSelect:t,...i}=n,s=Zd(t),a=io(Up,t),u=oo(Up,t);return a.open&&u.position==="popper"?$.jsx(SO,{...s,...i,ref:e}):null});kL.displayName=Up;function QT(n){return n===""||n===void 0}var YT=S.forwardRef((n,e)=>{const{value:t,...i}=n,s=S.useRef(null),a=jt(e,s),u=RO(t);return S.useEffect(()=>{const d=s.current,f=window.HTMLSelectElement.prototype,v=Object.getOwnPropertyDescriptor(f,"value").set;if(u!==t&&v){const w=new Event("change",{bubbles:!0});v.call(d,t),d.dispatchEvent(w)}},[u,t]),$.jsx(gT,{asChild:!0,children:$.jsx("select",{...i,ref:a,defaultValue:t})})});YT.displayName="BubbleSelect";function XT(n){const e=ii(n),t=S.useRef(""),i=S.useRef(0),s=S.useCallback(u=>{const d=t.current+u;e(d),function f(p){t.current=p,window.clearTimeout(i.current),p!==""&&(i.current=window.setTimeout(()=>f(""),1e3))}(d)},[e]),a=S.useCallback(()=>{t.current="",window.clearTimeout(i.current)},[]);return S.useEffect(()=>()=>window.clearTimeout(i.current),[]),[t,s,a]}function JT(n,e,t){const s=e.length>1&&Array.from(e).every(p=>p===e[0])?e[0]:e,a=t?n.indexOf(t):-1;let u=bL(n,Math.max(a,0));s.length===1&&(u=u.filter(p=>p!==t));const f=u.find(p=>p.textValue.toLowerCase().startsWith(s.toLowerCase()));return f!==t?f:void 0}function bL(n,e){return n.map((t,i)=>n[(e+i)%n.length])}var NL=CT,ZT=AT,DL=PT,OL=kT,LL=bT,eS=NT,VL=VT,tS=UT,nS=zT,ML=BT,FL=WT,rS=HT,iS=qT,oS=GT;const UL=NL,jL=DL,sS=S.forwardRef(({className:n,children:e,...t},i)=>$.jsxs(ZT,{ref:i,className:Yt("flex h-9 w-full items-center justify-between whitespace-nowrap rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",n),...t,children:[e,$.jsx(OL,{asChild:!0,children:$.jsx($E,{className:"h-4 w-4 opacity-50"})})]}));sS.displayName=ZT.displayName;const aS=S.forwardRef(({className:n,...e},t)=>$.jsx(rS,{ref:t,className:Yt("flex cursor-default items-center justify-center py-1",n),...e,children:$.jsx(LN,{className:"h-4 w-4"})}));aS.displayName=rS.displayName;const lS=S.forwardRef(({className:n,...e},t)=>$.jsx(iS,{ref:t,className:Yt("flex cursor-default items-center justify-center py-1",n),...e,children:$.jsx($E,{className:"h-4 w-4"})}));lS.displayName=iS.displayName;const uS=S.forwardRef(({className:n,children:e,position:t="popper",...i},s)=>$.jsx(LL,{children:$.jsxs(eS,{ref:s,className:Yt("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",n),position:t,...i,children:[$.jsx(aS,{}),$.jsx(VL,{className:Yt("p-1",t==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),$.jsx(lS,{})]})}));uS.displayName=eS.displayName;const zL=S.forwardRef(({className:n,...e},t)=>$.jsx(tS,{ref:t,className:Yt("px-2 py-1.5 text-sm font-semibold",n),...e}));zL.displayName=tS.displayName;const cS=S.forwardRef(({className:n,children:e,...t},i)=>$.jsxs(nS,{ref:i,className:Yt("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",n),...t,children:[$.jsx("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:$.jsx(FL,{children:$.jsx(ON,{className:"h-4 w-4"})})}),$.jsx(ML,{children:e})]}));cS.displayName=nS.displayName;const BL=S.forwardRef(({className:n,...e},t)=>$.jsx(oS,{ref:t,className:Yt("-mx-1 my-1 h-px bg-muted",n),...e}));BL.displayName=oS.displayName;const $L=()=>{const[n,e]=S.useState(!1),[t,i]=S.useState(""),[s,a]=S.useState(""),[u,d]=S.useState([]),[f,p]=S.useState(""),[v]=Rd(la),w=Hl(),E=async()=>{try{const C=Rp(Mo,"Hard",t),D=await k_(C);if(D.exists()){const L=D.data();if(L.name!==""&&L.display_name!==""&&L.id!==""){alert(""),i("");return}e(!0),a(L.url)}else alert(""),e(!1)}catch(C){e(!1),console.error(":",C),alert("")}},R=async()=>{try{if(f===""){alert("");return}const C=Rp(Mo,"Hard",t);await jb(C,{display_name:v.displayName,id:v.uid,name:f});const L=(await k_(C)).data();x(L),alert(""),i(""),w("/")}catch(C){console.error(":",C),alert("")}},x=async C=>{await bE(zl(Mo,"Users",v.uid,"Collections"),{display_name:C.display_name,id:C.id,name:C.name,time_stamp:C.time_stamp,url:C.url})},I=async()=>{const D=(await Vm(zl(Mo,"Users",v.uid,"Exchangers"))).docs.map(L=>{const B=L.data();return B.time_stamp=B.time_stamp.toDate(),B});D.sort((L,B)=>B.time_stamp-L.time_stamp),d(D),console.log(D)};return S.useEffect(()=>{I()},[]),$.jsxs("div",{children:[$.jsxs("div",{className:"justify-between flex",children:[$.jsx(Um,{className:" ml-2 my-2",placeholder:"",value:t,onChange:C=>i(C.target.value)}),$.jsx(er,{className:"mx-2 my-2",onClick:E,children:""})]}),$.jsx("div",{className:"w-screen px-2 pb-2",children:$.jsxs(UL,{onValueChange:C=>p(C),children:[$.jsx(sS,{className:"w-full",children:$.jsx(jL,{placeholder:""})}),$.jsx(uS,{children:u.map((C,D)=>$.jsx(cS,{value:C.name,children:C.name},D))})]})}),$.jsx("div",{className:"px-2",children:n&&$.jsx("img",{src:s,alt:"",className:"w-full"})}),$.jsxs("div",{className:"w-screen p-2",children:[n&&$.jsx(er,{className:"w-full mb-2",onClick:R,children:""}),$.jsx(er,{className:"w-full",children:$.jsx(Fo,{to:"/",children:""})})]})]})},WL=()=>{const[n,e]=S.useState(""),[t,i]=S.useState([]),[s]=Rd(la);Hl();const a=async()=>{const f=(await Vm(zl(Mo,"Users",s.uid,"Exchangers"))).docs.map(p=>{const v=p.data();return v.time_stamp=v.time_stamp.toDate(),v});f.sort((p,v)=>v.time_stamp-p.time_stamp),i(f),console.log(f)},u=async d=>{d.preventDefault(),n!==""&&(await bE(zl(Mo,"Users",s.uid,"Exchangers"),{name:n,time_stamp:new Date}),e(""),a())};return S.useEffect(()=>{a()},[]),$.jsxs("div",{children:[$.jsxs("div",{className:"justify-between flex",children:[$.jsx(Um,{className:" ml-2 my-2",placeholder:"",onChange:d=>e(d.target.value),value:n}),$.jsx(er,{className:"mx-2 my-2",onClick:u,children:""})]}),$.jsx("div",{children:t.map((d,f)=>$.jsx(Wd,{className:"mx-2 my-2",children:$.jsx(Hd,{children:$.jsx(qd,{children:d.name})})},f))}),$.jsx("div",{className:"w-screen p-2",children:$.jsx(er,{className:"w-full",children:$.jsx(Fo,{to:"/",children:""})})})]})};function HL(){const[n]=Rd(la);return $.jsx(MC,{children:$.jsxs(fC,{children:[$.jsx(El,{path:"/",element:$.jsx(FN,{})}),$.jsx(El,{path:"/login",element:n?$.jsx(Df,{to:"/"}):$.jsx(kN,{})}),$.jsx(El,{path:"/add",element:n?$.jsx($L,{}):$.jsx(Df,{to:"/login"})}),$.jsx(El,{path:"/addperson",element:n?$.jsx(WL,{}):$.jsx(Df,{to:"/login"})})]})})}SI.createRoot(document.getElementById("root")).render($.jsx(S.StrictMode,{children:$.jsx(HL,{})}));
